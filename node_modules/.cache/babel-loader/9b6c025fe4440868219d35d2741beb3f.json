{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\jeecg\\JMarkdownEditor\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\jeecg\\JMarkdownEditor\\index.vue","mtime":1615948814072},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAnY29kZW1pcnJvci9saWIvY29kZW1pcnJvci5jc3MnOwppbXBvcnQgJ0B0b2FzdC11aS9lZGl0b3IvZGlzdC90b2FzdHVpLWVkaXRvci5jc3MnOwppbXBvcnQgJ0B0b2FzdC11aS9lZGl0b3IvZGlzdC9pMThuL3poLWNuJzsKaW1wb3J0IEVkaXRvciBmcm9tICdAdG9hc3QtdWkvZWRpdG9yJzsKaW1wb3J0IGRlZmF1bHRPcHRpb25zIGZyb20gJy4vZGVmYXVsdC1vcHRpb25zJzsKaW1wb3J0IEpVcGxvYWQgZnJvbSAnQC9jb21wb25lbnRzL2plZWNnL0pVcGxvYWQnOwppbXBvcnQgeyBnZXRGaWxlQWNjZXNzSHR0cFVybCB9IGZyb20gJ0AvYXBpL21hbmFnZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSk1hcmtkb3duRWRpdG9yJywKICBjb21wb25lbnRzOiB7CiAgICBKVXBsb2FkOiBKVXBsb2FkCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ21hcmtkb3duLWVkaXRvci0nICsgK25ldyBEYXRlKCkgKyAoKE1hdGgucmFuZG9tKCkgKiAxMDAwKS50b0ZpeGVkKDApICsgJycpOwogICAgICB9CiAgICB9LAogICAgb3B0aW9uczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBkZWZhdWx0T3B0aW9uczsKICAgICAgfQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbWFya2Rvd24nCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnMzAwcHgnCiAgICB9LAogICAgbGFuZ3VhZ2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICd6aC1DTicKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0b3I6IG51bGwsCiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGFjdGl2ZUluZGV4OiAiMSIsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBpbmRleDogIjEiLAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIHJlbWFyazogIiIsCiAgICAgIGltYWdlTmFtZTogIiIsCiAgICAgIGltYWdlVXJsOiAiIiwKICAgICAgbmV0d29ya1BpYzogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZWRpdG9yT3B0aW9uczogZnVuY3Rpb24gZWRpdG9yT3B0aW9ucygpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgdGhpcy5vcHRpb25zKTsKICAgICAgb3B0aW9ucy5pbml0aWFsRWRpdFR5cGUgPSB0aGlzLm1vZGU7CiAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgICAgIG9wdGlvbnMubGFuZ3VhZ2UgPSB0aGlzLmxhbmd1YWdlOwogICAgICByZXR1cm4gb3B0aW9uczsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobmV3VmFsdWUsIHByZVZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gcHJlVmFsdWUgJiYgbmV3VmFsdWUgIT09IHRoaXMuZWRpdG9yLmdldE1hcmtkb3duKCkpIHsKICAgICAgICB0aGlzLmVkaXRvci5zZXRNYXJrZG93bihuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBsYW5ndWFnZTogZnVuY3Rpb24gbGFuZ3VhZ2UodmFsKSB7CiAgICAgIHRoaXMuZGVzdHJveUVkaXRvcigpOwogICAgICB0aGlzLmluaXRFZGl0b3IoKTsKICAgIH0sCiAgICBoZWlnaHQ6IGZ1bmN0aW9uIGhlaWdodChuZXdWYWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5oZWlnaHQobmV3VmFsdWUpOwogICAgfSwKICAgIG1vZGU6IGZ1bmN0aW9uIG1vZGUobmV3VmFsdWUpIHsKICAgICAgdGhpcy5lZGl0b3IuY2hhbmdlTW9kZShuZXdWYWx1ZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RWRpdG9yKCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuZGVzdHJveUVkaXRvcigpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdEVkaXRvcjogZnVuY3Rpb24gaW5pdEVkaXRvcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZWRpdG9yID0gbmV3IEVkaXRvcihfb2JqZWN0U3ByZWFkKHsKICAgICAgICBlbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkKICAgICAgfSwgdGhpcy5lZGl0b3JPcHRpb25zKSk7CgogICAgICBpZiAodGhpcy52YWx1ZSkgewogICAgICAgIHRoaXMuZWRpdG9yLnNldE1hcmtkb3duKHRoaXMudmFsdWUpOwogICAgICB9CgogICAgICB0aGlzLmVkaXRvci5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRlbWl0KCdjaGFuZ2UnLCBfdGhpcy5lZGl0b3IuZ2V0TWFya2Rvd24oKSk7CiAgICAgIH0pOyAvLy0tYmVnaW4g5re75Yqg6Ieq5a6a5LmJ5LiK5Lyg5oyJ6ZKuCgogICAgICAvKg0KICAgICAgICog5re75Yqg6Ieq5a6a5LmJ5oyJ6ZKuDQogICAgICAgKi8KICAgICAgLy/ojrflj5bnvJbovpHlmajkuIrnmoTlip/og73mnaEKCiAgICAgIHZhciB0b29sYmFyID0gdGhpcy5lZGl0b3IuZ2V0VUkoKS5nZXRUb29sYmFyKCk7CiAgICAgIHZhciBmaWxlRG9tID0gdGhpcy4kcmVmcy5maWxlczsgLy/mt7vliqDlm77niYfngrnlh7vkuovku7YKCiAgICAgIHRoaXMuZWRpdG9yLmV2ZW50TWFuYWdlci5hZGRFdmVudFR5cGUoJ2lzU2hvd0NsaWNrRXZlbnQnKTsKICAgICAgdGhpcy5lZGl0b3IuZXZlbnRNYW5hZ2VyLmxpc3RlbignaXNTaG93Q2xpY2tFdmVudCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc1Nob3cgPSB0cnVlOwogICAgICAgIF90aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB9KTsgLy9hZGRJbWFnZUJsb2JIb29r5Zu+54mH5LiK5Lyg44CB5Ymq5YiH44CB5ouW5ou96YO95Lya6LWw5q2k5pa55rOVCiAgICAgIC8vIOWIoOmZpOm7mOiupOebkeWQrOS6i+S7tgoKICAgICAgdGhpcy5lZGl0b3IuZXZlbnRNYW5hZ2VyLnJlbW92ZUV2ZW50SGFuZGxlcignYWRkSW1hZ2VCbG9iSG9vaycpOyAvLyDmt7vliqDoh6rlrprkuYnnm5HlkKzkuovku7YKCiAgICAgIHRoaXMuZWRpdG9yLmV2ZW50TWFuYWdlci5saXN0ZW4oJ2FkZEltYWdlQmxvYkhvb2snLCBmdW5jdGlvbiAoYmxvYiwgY2FsbGJhY2spIHsKICAgICAgICBfdGhpcy51cGxvYWQoYmxvYiwgZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgY2FsbGJhY2sodXJsKTsKICAgICAgICB9KTsKICAgICAgfSk7IC8vIOa3u+WKoOiHquWumuS5ieaMiemSriDnrKzkuozkuKrlj4LmlbDku6PooajkvY3nva7vvIzkuI3kvKDpu5jorqTmlL7lnKjmnIDlkI4KCiAgICAgIHRvb2xiYXIuaW5zZXJ0SXRlbSgxNSwgewogICAgICAgIHR5cGU6ICdidXR0b24nLAogICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgIG5hbWU6ICdjdXN0b21pemUnLAogICAgICAgICAgY2xhc3NOYW1lOiAndHVpLWltYWdlIHR1aS10b29sYmFyLWljb25zJywKICAgICAgICAgIGV2ZW50OiAnaXNTaG93Q2xpY2tFdmVudCcsCiAgICAgICAgICB0b29sdGlwOiAn5LiK5Lyg5Zu+54mHJwogICAgICAgIH0gLy8KCiAgICAgIH0pOyAvLy0tZW5kIOa3u+WKoOiHquWumuS5ieS4iuS8oOaMiemSrgogICAgfSwKICAgIGRlc3Ryb3lFZGl0b3I6IGZ1bmN0aW9uIGRlc3Ryb3lFZGl0b3IoKSB7CiAgICAgIGlmICghdGhpcy5lZGl0b3IpIHJldHVybjsKICAgICAgdGhpcy5lZGl0b3Iub2ZmKCdjaGFuZ2UnKTsKICAgICAgdGhpcy5lZGl0b3IucmVtb3ZlKCk7CiAgICB9LAogICAgc2V0TWFya2Rvd246IGZ1bmN0aW9uIHNldE1hcmtkb3duKHZhbHVlKSB7CiAgICAgIHRoaXMuZWRpdG9yLnNldE1hcmtkb3duKHZhbHVlKTsKICAgIH0sCiAgICBnZXRNYXJrZG93bjogZnVuY3Rpb24gZ2V0TWFya2Rvd24oKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRvci5nZXRNYXJrZG93bigpOwogICAgfSwKICAgIHNldEh0bWw6IGZ1bmN0aW9uIHNldEh0bWwodmFsdWUpIHsKICAgICAgdGhpcy5lZGl0b3Iuc2V0SHRtbCh2YWx1ZSk7CiAgICB9LAogICAgZ2V0SHRtbDogZnVuY3Rpb24gZ2V0SHRtbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLmdldEh0bWwoKTsKICAgIH0sCiAgICBoYW5kbGVPazogZnVuY3Rpb24gaGFuZGxlT2soKSB7CiAgICAgIGlmICh0aGlzLmluZGV4ID09ICcxJykgewogICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBnZXRGaWxlQWNjZXNzSHR0cFVybCh0aGlzLmZpbGVMaXN0KTsKCiAgICAgICAgaWYgKHRoaXMucmVtYXJrKSB7CiAgICAgICAgICB0aGlzLmFkZEltZ1RvTWQodGhpcy5pbWFnZVVybCwgdGhpcy5yZW1hcmspOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmFkZEltZ1RvTWQodGhpcy5pbWFnZVVybCwgIiIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5yZW1hcmspIHsKICAgICAgICAgIHRoaXMuYWRkSW1nVG9NZCh0aGlzLm5ldHdvcmtQaWMsIHRoaXMucmVtYXJrKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hZGRJbWdUb01kKHRoaXMubmV0d29ya1BpYywgIiIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5pbmRleCA9ICIxIjsKICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgICB0aGlzLmltYWdlTmFtZSA9ICIiOwogICAgICB0aGlzLmltYWdlVXJsID0gIiI7CiAgICAgIHRoaXMucmVtYXJrID0gIiI7CiAgICAgIHRoaXMubmV0d29ya1BpYyA9ICIiOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UoZG9uZSkgewogICAgICBkb25lKCk7CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgdGhpcy5yZW1hcmsgPSAiIjsKICAgICAgdGhpcy5pbWFnZU5hbWUgPSAiIjsKICAgICAgdGhpcy5pbWFnZVVybCA9ICIiOwogICAgICB0aGlzLm5ldHdvcmtQaWMgPSAiIjsKICAgICAgdGhpcy5pbmRleCA9IHZhbDsKICAgIH0sCiAgICAvL+a3u+WKoOWbvueJh+WIsG1hcmtkb3duCiAgICBhZGRJbWdUb01kOiBmdW5jdGlvbiBhZGRJbWdUb01kKGRhdGEsIG5hbWUpIHsKICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yLmdldENvZGVNaXJyb3IoKTsKICAgICAgdmFyIGVkaXRvckh0bWwgPSB0aGlzLmVkaXRvci5nZXRDdXJyZW50TW9kZUVkaXRvcigpOwogICAgICB2YXIgaXNNYXJrZG93bk1vZGUgPSB0aGlzLmVkaXRvci5pc01hcmtkb3duTW9kZSgpOwoKICAgICAgaWYgKGlzTWFya2Rvd25Nb2RlKSB7CiAgICAgICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oIiFbIi5jb25jYXQobmFtZSwgIl0oIikuY29uY2F0KGRhdGEsICIpIikpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByYW5nZSA9IGVkaXRvckh0bWwuZ2V0UmFuZ2UoKTsKICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgaW1nLnNyYyA9ICIiLmNvbmNhdChkYXRhKTsKICAgICAgICBpbWcuYWx0ID0gbmFtZTsKICAgICAgICByYW5nZS5pbnNlcnROb2RlKGltZyk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vZGVsOiB7CiAgICBwcm9wOiAndmFsdWUnLAogICAgZXZlbnQ6ICdjaGFuZ2UnCiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,+BAAA;AACA,OAAA,0CAAA;AACA,OAAA,kCAAA;AAEA,OAAA,MAAA,MAAA,kBAAA;AACA,OAAA,cAAA,MAAA,mBAAA;AACA,OAAA,OAAA,MAAA,4BAAA;AACA,SAAA,oBAAA,QAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAHA,sBAGA;AACA,eAAA,qBAAA,CAAA,IAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,IAAA,EAAA,OAAA,CAAA,CAAA,IAAA,EAAA,CAAA;AACA;AALA,KALA;AAYA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,cAAA;AACA;AAJA,KAZA;AAkBA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAlBA;AAsBA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAtBA;AA2BA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA;AA3BA,GALA;AAsCA,EAAA,IAtCA,kBAsCA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,GAHA;AAIA,MAAA,aAAA,EAAA,KAJA;AAKA,MAAA,KAAA,EAAA,GALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA,EAPA;AAQA,MAAA,SAAA,EAAA,EARA;AASA,MAAA,QAAA,EAAA,EATA;AAUA,MAAA,UAAA,EAAA;AAVA,KAAA;AAYA,GAnDA;AAoDA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,cAAA,EAAA,KAAA,OAAA,CAAA;AACA,MAAA,OAAA,CAAA,eAAA,GAAA,KAAA,IAAA;AACA,MAAA,OAAA,CAAA,MAAA,GAAA,KAAA,MAAA;AACA,MAAA,OAAA,CAAA,QAAA,GAAA,KAAA,QAAA;AACA,aAAA,OAAA;AACA;AAPA,GApDA;AA6DA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,iBACA,QADA,EACA,QADA,EACA;AACA,UAAA,QAAA,KAAA,QAAA,IAAA,QAAA,KAAA,KAAA,MAAA,CAAA,WAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,WAAA,CAAA,QAAA;AACA;AACA,KALA;AAMA,IAAA,QANA,oBAMA,GANA,EAMA;AACA,WAAA,aAAA;AACA,WAAA,UAAA;AACA,KATA;AAUA,IAAA,MAVA,kBAUA,QAVA,EAUA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,QAAA;AACA,KAZA;AAaA,IAAA,IAbA,gBAaA,QAbA,EAaA;AACA,WAAA,MAAA,CAAA,UAAA,CAAA,QAAA;AACA;AAfA,GA7DA;AA8EA,EAAA,OA9EA,qBA8EA;AACA,SAAA,UAAA;AACA,GAhFA;AAiFA,EAAA,SAjFA,uBAiFA;AACA,SAAA,aAAA;AACA,GAnFA;AAoFA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,WAAA,MAAA,GAAA,IAAA,MAAA;AACA,QAAA,EAAA,EAAA,QAAA,CAAA,cAAA,CAAA,KAAA,EAAA;AADA,SAEA,KAAA,aAFA,EAAA;;AAIA,UAAA,KAAA,KAAA,EAAA;AACA,aAAA,MAAA,CAAA,WAAA,CAAA,KAAA,KAAA;AACA;;AACA,WAAA,MAAA,CAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,MAAA,CAAA,WAAA,EAAA;AACA,OAFA,EARA,CAWA;;AACA;;;AAGA;;AACA,UAAA,OAAA,GAAA,KAAA,MAAA,CAAA,KAAA,GAAA,UAAA,EAAA;AACA,UAAA,OAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAjBA,CAkBA;;AACA,WAAA,MAAA,CAAA,YAAA,CAAA,YAAA,CAAA,kBAAA;AACA,WAAA,MAAA,CAAA,YAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,YAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,IAAA;AACA,OAHA,EApBA,CAwBA;AACA;;AACA,WAAA,MAAA,CAAA,YAAA,CAAA,kBAAA,CAAA,kBAAA,EA1BA,CA2BA;;AACA,WAAA,MAAA,CAAA,YAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,UAAA,IAAA,EAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,IAAA,EAAA,UAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,GAAA,CAAA;AACA,SAFA;AAGA,OAJA,EA5BA,CAiCA;;AACA,MAAA,OAAA,CAAA,UAAA,CAAA,EAAA,EAAA;AACA,QAAA,IAAA,EAAA,QADA;AAEA,QAAA,OAAA,EAAA;AACA,UAAA,IAAA,EAAA,WADA;AAEA,UAAA,SAAA,EAAA,6BAFA;AAGA,UAAA,KAAA,EAAA,kBAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SAFA,CAQA;;AARA,OAAA,EAlCA,CA4CA;AACA,KA9CA;AA+CA,IAAA,aA/CA,2BA+CA;AACA,UAAA,CAAA,KAAA,MAAA,EAAA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,QAAA;AACA,WAAA,MAAA,CAAA,MAAA;AACA,KAnDA;AAoDA,IAAA,WApDA,uBAoDA,KApDA,EAoDA;AACA,WAAA,MAAA,CAAA,WAAA,CAAA,KAAA;AACA,KAtDA;AAuDA,IAAA,WAvDA,yBAuDA;AACA,aAAA,KAAA,MAAA,CAAA,WAAA,EAAA;AACA,KAzDA;AA0DA,IAAA,OA1DA,mBA0DA,KA1DA,EA0DA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,KA5DA;AA6DA,IAAA,OA7DA,qBA6DA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,EAAA;AACA,KA/DA;AAgEA,IAAA,QAhEA,sBAgEA;AACA,UAAA,KAAA,KAAA,IAAA,GAAA,EAAA;AACA,aAAA,QAAA,GAAA,oBAAA,CAAA,KAAA,QAAA,CAAA;;AACA,YAAA,KAAA,MAAA,EAAA;AACA,eAAA,UAAA,CAAA,KAAA,QAAA,EAAA,KAAA,MAAA;AACA,SAFA,MAEA;AACA,eAAA,UAAA,CAAA,KAAA,QAAA,EAAA,EAAA;AACA;AACA,OAPA,MAOA;AACA,YAAA,KAAA,MAAA,EAAA;AACA,eAAA,UAAA,CAAA,KAAA,UAAA,EAAA,KAAA,MAAA;AACA,SAFA,MAEA;AACA,eAAA,UAAA,CAAA,KAAA,UAAA,EAAA,EAAA;AACA;AACA;;AACA,WAAA,KAAA,GAAA,GAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,KAvFA;AAwFA,IAAA,WAxFA,uBAwFA,IAxFA,EAwFA;AACA,MAAA,IAAA;AACA,KA1FA;AA2FA,IAAA,YA3FA,wBA2FA,GA3FA,EA2FA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,KAAA,GAAA,GAAA;AACA,KAlGA;AAmGA;AACA,IAAA,UApGA,sBAoGA,IApGA,EAoGA,IApGA,EAoGA;AACA,UAAA,MAAA,GAAA,KAAA,MAAA,CAAA,aAAA,EAAA;AACA,UAAA,UAAA,GAAA,KAAA,MAAA,CAAA,oBAAA,EAAA;AACA,UAAA,cAAA,GAAA,KAAA,MAAA,CAAA,cAAA,EAAA;;AACA,UAAA,cAAA,EAAA;AACA,QAAA,MAAA,CAAA,gBAAA,aAAA,IAAA,eAAA,IAAA;AACA,OAFA,MAEA;AACA,YAAA,KAAA,GAAA,UAAA,CAAA,QAAA,EAAA;AACA,YAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,KAAA,CAAA;AACA,QAAA,GAAA,CAAA,GAAA,aAAA,IAAA;AACA,QAAA,GAAA,CAAA,GAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,GAAA;AACA;AACA;AAjHA,GApFA;AAuMA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,OADA;AAEA,IAAA,KAAA,EAAA;AAFA;AAvMA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"j-markdown-editor\" :id=\"id\"/>\r\n    <div v-if=\"isShow\">\r\n      <j-modal\r\n        title=\"图片上传\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"30%\"\r\n        :before-close=\"handleClose\"\r\n        @ok=\"handleOk\">\r\n        <a-tabs default-active-key=\"1\" @change=\"handleChange\">\r\n          <a-tab-pane tab=\"本地图片上传\" key=\"1\" :forceRender=\"true\">\r\n            <j-upload v-model=\"fileList\" :number=\"1\"></j-upload>\r\n            <div style=\"margin-top: 20px\">\r\n              <a-input v-model=\"remark\" placeholder=\"请填写备注\"></a-input>\r\n            </div>\r\n          </a-tab-pane>\r\n          <a-tab-pane tab=\"网络图片地址\" key=\"2\" :forceRender=\"true\">\r\n            <a-input v-model=\"networkPic\" placeholder=\"请填写网络图片地址\"></a-input>\r\n            <a-input style=\"margin-top: 20px\" v-model=\"remark\" placeholder=\"请填写备注\"></a-input>\r\n          </a-tab-pane>\r\n        </a-tabs>\r\n      </j-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'codemirror/lib/codemirror.css'\r\nimport '@toast-ui/editor/dist/toastui-editor.css';\r\nimport '@toast-ui/editor/dist/i18n/zh-cn';\r\n\r\nimport Editor from '@toast-ui/editor';\r\nimport defaultOptions from './default-options'\r\nimport JUpload from '@/components/jeecg/JUpload'\r\nimport { getFileAccessHttpUrl } from '@/api/manage'\r\n\r\nexport default {\r\n  name: 'JMarkdownEditor',\r\n  components: {\r\n    JUpload,\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    id: {\r\n      type: String,\r\n      required: false,\r\n      default() {\r\n        return 'markdown-editor-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\r\n      }\r\n    },\r\n    options: {\r\n      type: Object,\r\n      default() {\r\n        return defaultOptions\r\n      }\r\n    },\r\n    mode: {\r\n      type: String,\r\n      default: 'markdown'\r\n    },\r\n    height: {\r\n      type: String,\r\n      required: false,\r\n      default: '300px'\r\n    },\r\n    language: {\r\n      type: String,\r\n      required: false,\r\n      default: 'zh-CN'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      isShow:false,\r\n      activeIndex:\"1\",\r\n      dialogVisible:false,\r\n      index:\"1\",\r\n      fileList:[],\r\n      remark:\"\",\r\n      imageName:\"\",\r\n      imageUrl:\"\",\r\n      networkPic:\"\"\r\n    }\r\n  },\r\n  computed: {\r\n    editorOptions() {\r\n      const options = Object.assign({}, defaultOptions, this.options)\r\n      options.initialEditType = this.mode\r\n      options.height = this.height\r\n      options.language = this.language\r\n      return options\r\n    }\r\n  },\r\n  watch: {\r\n    value(newValue, preValue) {\r\n      if (newValue !== preValue && newValue !== this.editor.getMarkdown()) {\r\n        this.editor.setMarkdown(newValue)\r\n      }\r\n    },\r\n    language(val) {\r\n      this.destroyEditor()\r\n      this.initEditor()\r\n    },\r\n    height(newValue) {\r\n      this.editor.height(newValue)\r\n    },\r\n    mode(newValue) {\r\n      this.editor.changeMode(newValue)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initEditor()\r\n  },\r\n  destroyed() {\r\n    this.destroyEditor()\r\n  },\r\n  methods: {\r\n    initEditor() {\r\n      this.editor = new Editor({\r\n        el: document.getElementById(this.id),\r\n        ...this.editorOptions\r\n      })\r\n      if (this.value) {\r\n        this.editor.setMarkdown(this.value)\r\n      }\r\n      this.editor.on('change', () => {\r\n        this.$emit('change', this.editor.getMarkdown())\r\n      })\r\n      //--begin 添加自定义上传按钮\r\n      /*\r\n       * 添加自定义按钮\r\n       */\r\n      //获取编辑器上的功能条\r\n      let toolbar = this.editor.getUI().getToolbar();\r\n      let fileDom = this.$refs.files;\r\n      //添加图片点击事件\r\n      this.editor.eventManager.addEventType('isShowClickEvent');\r\n      this.editor.eventManager.listen('isShowClickEvent', () => {\r\n        this.isShow = true\r\n        this.dialogVisible = true\r\n      });\r\n      //addImageBlobHook图片上传、剪切、拖拽都会走此方法\r\n      // 删除默认监听事件\r\n      this.editor.eventManager.removeEventHandler('addImageBlobHook')\r\n      // 添加自定义监听事件\r\n      this.editor.eventManager.listen('addImageBlobHook', (blob, callback) => {\r\n        this.upload(blob, url => {\r\n          callback(url)\r\n        })\r\n      })\r\n      // 添加自定义按钮 第二个参数代表位置，不传默认放在最后\r\n      toolbar.insertItem(15,{\r\n        type: 'button',\r\n        options:{\r\n          name: 'customize',\r\n          className: 'tui-image tui-toolbar-icons',\r\n          event: 'isShowClickEvent',\r\n          tooltip: '上传图片',\r\n        }\r\n        //\r\n      });\r\n      //--end 添加自定义上传按钮\r\n    },\r\n    destroyEditor() {\r\n      if (!this.editor) return\r\n      this.editor.off('change')\r\n      this.editor.remove()\r\n    },\r\n    setMarkdown(value) {\r\n      this.editor.setMarkdown(value)\r\n    },\r\n    getMarkdown() {\r\n      return this.editor.getMarkdown()\r\n    },\r\n    setHtml(value) {\r\n      this.editor.setHtml(value)\r\n    },\r\n    getHtml() {\r\n      return this.editor.getHtml()\r\n    },\r\n    handleOk(){\r\n      if(this.index=='1'){\r\n        this.imageUrl = getFileAccessHttpUrl(this.fileList)\r\n        if(this.remark){\r\n          this.addImgToMd(this.imageUrl,this.remark)\r\n        }else{\r\n          this.addImgToMd(this.imageUrl,\"\")\r\n        }\r\n      }else{\r\n        if(this.remark){\r\n          this.addImgToMd(this.networkPic,this.remark)\r\n        }else{\r\n          this.addImgToMd(this.networkPic,\"\")\r\n        }\r\n      }\r\n      this.index=\"1\"\r\n      this.fileList=[]\r\n      this.imageName=\"\";\r\n      this.imageUrl=\"\";\r\n      this.remark=\"\"\r\n      this.networkPic=\"\"\r\n      this.dialogVisible=false\r\n      this.isShow=false;\r\n    },\r\n    handleClose(done) {\r\n      done();\r\n    },\r\n    handleChange(val){\r\n      this.fileList=[]\r\n      this.remark=\"\"\r\n      this.imageName=\"\"\r\n      this.imageUrl=\"\"\r\n      this.networkPic=\"\"\r\n      this.index=val\r\n    },\r\n    //添加图片到markdown\r\n    addImgToMd(data,name) {\r\n      let editor = this.editor.getCodeMirror();\r\n      let editorHtml = this.editor.getCurrentModeEditor();\r\n      let isMarkdownMode = this.editor.isMarkdownMode();\r\n      if (isMarkdownMode) {\r\n        editor.replaceSelection(`![${name}](${data})`);\r\n      } else {\r\n        let range = editorHtml.getRange();\r\n        let img = document.createElement('img');\r\n        img.src = `${data}`;\r\n        img.alt = name;\r\n        range.insertNode(img);\r\n      }\r\n    },\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change'\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n\r\n  .j-markdown-editor {\r\n    /deep/ .tui-editor-defaultUI {\r\n      .te-mode-switch,\r\n      .tui-scrollsync\r\n      {\r\n        line-height: 1.5;\r\n      }\r\n    }\r\n  }\r\n\r\n</style>"],"sourceRoot":"src/components/jeecg/JMarkdownEditor"}]}