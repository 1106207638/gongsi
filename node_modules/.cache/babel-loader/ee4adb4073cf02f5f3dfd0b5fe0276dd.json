{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\src\\utils\\authFilter.js","dependencies":[{"path":"D:\\vue\\src\\utils\\authFilter.js","mtime":1615948817600},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKaW1wb3J0IHsgVVNFUl9BVVRILCBTWVNfQlVUVE9OX0FVVEggfSBmcm9tICJAL3N0b3JlL211dGF0aW9uLXR5cGVzIjsKZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVkQXV0aEZpbHRlcihjb2RlLCBmb3JtRGF0YSkgewogIGlmIChub2RlRGlzYWJsZWRBdXRoKGNvZGUsIGZvcm1EYXRhKSkgewogICAgcmV0dXJuIHRydWU7CiAgfSBlbHNlIHsKICAgIHJldHVybiBnbG9iYWxEaXNhYmxlZEF1dGgoY29kZSk7CiAgfQp9CgpmdW5jdGlvbiBub2RlRGlzYWJsZWRBdXRoKGNvZGUsIGZvcm1EYXRhKSB7CiAgY29uc29sZS5sb2coIumhtemdouadg+mZkOemgeeUqC0tTk9ERS0t5byA5aeLIik7CiAgdmFyIHBlcm1pc3Npb25MaXN0ID0gW107CgogIHRyeSB7CiAgICBjb25zb2xlLmxvZygi6aG16Z2i5p2D6ZmQ56aB55SoLS1OT0RFLS3lvIDlp4siLCBmb3JtRGF0YSk7CgogICAgaWYgKGZvcm1EYXRhKSB7CiAgICAgIHZhciBicG1MaXN0ID0gZm9ybURhdGEucGVybWlzc2lvbkxpc3Q7CiAgICAgIHBlcm1pc3Npb25MaXN0ID0gYnBtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS50eXBlID09ICcyJzsKICAgICAgfSk7IC8vIGZvciAobGV0IGJwbSBvZiBicG1MaXN0KSB7CiAgICAgIC8vICAgaWYoYnBtLnR5cGUgPT0gJzInKSB7CiAgICAgIC8vICAgICBwZXJtaXNzaW9uTGlzdC5wdXNoKGJwbSk7CiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSBjYXRjaCAoZSkgey8vY29uc29sZS5sb2coIumhtemdouadg+mZkOW8guW4uC0tLS0iLCBlKTsKICB9CgogIGlmIChwZXJtaXNzaW9uTGlzdC5sZW5ndGggPT0gMCkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgY29uc29sZS5sb2coIua1geeoi+iKgueCuemhtemdouadg+mZkOemgeeUqC0tTk9ERS0t5byA5aeLIik7CiAgdmFyIHBlcm1pc3Npb25zID0gW107CgogIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwZXJtaXNzaW9uTGlzdCksCiAgICAgIF9zdGVwOwoKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgIGlmIChpdGVtLnR5cGUgPT0gJzInKSB7CiAgICAgICAgcGVybWlzc2lvbnMucHVzaChpdGVtLmFjdGlvbik7CiAgICAgIH0KICAgIH0gLy9jb25zb2xlLmxvZygi6aG16Z2i5p2D6ZmQLS0tLSIrY29kZSk7CgogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yLmYoKTsKICB9CgogIGlmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoY29kZSkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9IGVsc2UgewogICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwZXJtaXNzaW9uTGlzdCksCiAgICAgICAgX3N0ZXAyOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIGl0ZW0yID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICBpZiAoY29kZSA9PT0gaXRlbTIuYWN0aW9uKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5rWB56iL6IqC54K56aG16Z2i5p2D6ZmQ56aB55SoLS1OT0RFLS3nlJ/mlYgiKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICB9CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGdsb2JhbERpc2FibGVkQXV0aChjb2RlKSB7CiAgY29uc29sZS5sb2coIuWFqOWxgOmhtemdouemgeeUqOadg+mZkC0tR2xvYmFsLS3lvIDlp4siKTsKICB2YXIgcGVybWlzc2lvbkxpc3QgPSBbXTsKICB2YXIgYWxsUGVybWlzc2lvbkxpc3QgPSBbXTsgLy9sZXQgYXV0aExpc3QgPSBWdWUubHMuZ2V0KFVTRVJfQVVUSCk7CgogIHZhciBhdXRoTGlzdCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShVU0VSX0FVVEgpIHx8ICJbXSIpOwoKICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGF1dGhMaXN0KSwKICAgICAgX3N0ZXAzOwoKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGF1dGggPSBfc3RlcDMudmFsdWU7CgogICAgICBpZiAoYXV0aC50eXBlID09ICcyJykgewogICAgICAgIHBlcm1pc3Npb25MaXN0LnB1c2goYXV0aCk7CiAgICAgIH0KICAgIH0gLy9jb25zb2xlLmxvZygi6aG16Z2i56aB55So5p2D6ZmQLS1HbG9iYWwtLSIsc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTWVNfQlVUVE9OX0FVVEgpKTsKCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yMy5mKCk7CiAgfQoKICB2YXIgYWxsQXV0aExpc3QgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU1lTX0JVVFRPTl9BVVRIKSB8fCAiW10iKTsKCiAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhbGxBdXRoTGlzdCksCiAgICAgIF9zdGVwNDsKCiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBnYXV0aCA9IF9zdGVwNC52YWx1ZTsKCiAgICAgIGlmIChnYXV0aC50eXBlID09ICcyJykgewogICAgICAgIGFsbFBlcm1pc3Npb25MaXN0LnB1c2goZ2F1dGgpOwogICAgICB9CiAgICB9IC8v6K6+572u5YWo5bGA6YWN572u5piv5ZCm5pyJ5ZG95LitCgogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjQuZigpOwogIH0KCiAgdmFyIGdGbGFnID0gZmFsc2U7IC8v56aB55So5ZG95LitCgogIHZhciBpbnZhbGlkRmxhZyA9IGZhbHNlOyAvL+aXoOaViOWRveS4rQoKICBpZiAoYWxsUGVybWlzc2lvbkxpc3QgIT0gbnVsbCAmJiBhbGxQZXJtaXNzaW9uTGlzdCAhPSAiIiAmJiBhbGxQZXJtaXNzaW9uTGlzdCAhPSB1bmRlZmluZWQgJiYgYWxsUGVybWlzc2lvbkxpc3QubGVuZ3RoID4gMCkgewogICAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhbGxQZXJtaXNzaW9uTGlzdCksCiAgICAgICAgX3N0ZXA1OwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIGl0ZW1HID0gX3N0ZXA1LnZhbHVlOwoKICAgICAgICBpZiAoY29kZSA9PT0gaXRlbUcuYWN0aW9uKSB7CiAgICAgICAgICBpZiAoaXRlbUcuc3RhdHVzID09ICcwJykgewogICAgICAgICAgICBpbnZhbGlkRmxhZyA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZ0ZsYWcgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgfQogIH0KCiAgaWYgKGludmFsaWRGbGFnKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBpZiAocGVybWlzc2lvbkxpc3QgPT09IG51bGwgfHwgcGVybWlzc2lvbkxpc3QgPT09ICIiIHx8IHBlcm1pc3Npb25MaXN0ID09PSB1bmRlZmluZWQgfHwgcGVybWlzc2lvbkxpc3QubGVuZ3RoIDw9IDApIHsKICAgIHJldHVybiBnRmxhZzsKICB9CgogIHZhciBwZXJtaXNzaW9ucyA9IFtdOwoKICBmb3IgKHZhciBfaSA9IDAsIF9wZXJtaXNzaW9uTGlzdCA9IHBlcm1pc3Npb25MaXN0OyBfaSA8IF9wZXJtaXNzaW9uTGlzdC5sZW5ndGg7IF9pKyspIHsKICAgIHZhciBpdGVtID0gX3Blcm1pc3Npb25MaXN0W19pXTsKCiAgICBpZiAoaXRlbS50eXBlID09ICcyJykgewogICAgICBwZXJtaXNzaW9ucy5wdXNoKGl0ZW0uYWN0aW9uKTsKICAgIH0KICB9IC8vY29uc29sZS5sb2coIumhtemdouemgeeUqOadg+mZkC0tLS0iK2NvZGUpOwoKCiAgaWYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhjb2RlKSkgewogICAgcmV0dXJuIGdGbGFnOwogIH0gZWxzZSB7CiAgICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHBlcm1pc3Npb25MaXN0KSwKICAgICAgICBfc3RlcDY7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgaXRlbTIgPSBfc3RlcDYudmFsdWU7CgogICAgICAgIGlmIChjb2RlID09PSBpdGVtMi5hY3Rpb24pIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLlhajlsYDpobXpnaLmnYPpmZDop6PpmaTnpoHnlKgtLUdsb2JhbC0t55Sf5pWIIik7CiAgICAgICAgICBnRmxhZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvcjYuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICB9CgogICAgcmV0dXJuIGdGbGFnOwogIH0KfQoKZXhwb3J0IGZ1bmN0aW9uIGNvbEF1dGhGaWx0ZXIoY29sdW1ucywgcHJlKSB7CiAgdmFyIGF1dGhMaXN0ID0gZ2V0Tm9BdXRoQ29scyhwcmUpOwogIHZhciBjb2xzID0gY29sdW1ucy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmIChoYXNDb2xvdW0oaXRlbSwgYXV0aExpc3QpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9KTsKICByZXR1cm4gY29sczsKfQovKioNCiAqIOOAkOWtkOihqOihjOe8lui+keOAkeWunueOsOS4pOS4quWKn+iDve+8mg0KICogMeOAgemakOiXj0pFZGl0YWJsZVRhYmxl5peg5p2D6ZmQ55qE5a2X5q61DQogKiAy44CB56aB55SoSkVkaXRhYmxlVGFibGXml6DmnYPpmZDnmoTlrZfmrrUNCiAqIEBwYXJhbSBjb2x1bW5zDQogKiBAcGFyYW0gcHJlDQogKiBAcmV0dXJucyB7Kn0NCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGNvbEF1dGhGaWx0ZXJKRWRpdGFibGVUYWJsZShjb2x1bW5zLCBwcmUpIHsKICB2YXIgYXV0aExpc3QgPSBnZXRBbGxTaG93QW5kRGlzYWJsZWRBdXRoQ29scyhwcmUpOwogIHZhciBjb2xzID0gY29sdW1ucy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHZhciBvbmVBdXRoID0gYXV0aExpc3QuZmluZChmdW5jdGlvbiAoYXV0aCkgewogICAgICByZXR1cm4gYXV0aC5hY3Rpb24gPT09IHByZSArIGl0ZW0ua2V5OwogICAgfSk7CgogICAgaWYgKCFvbmVBdXRoKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSAvL+S7o+eggeS4peiwqOWkhOeQhu+8jOmYsuatouS4gOS4quaOiOadg+agh+ivhu+8jOmFjee9ruWkmuasoQoKCiAgICBpZiAob25lQXV0aCBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgIG9uZUF1dGggPSBvbmVBdXRoWzBdOwogICAgfSAvL+emgeeUqOmAu+i+kQoKCiAgICBpZiAob25lQXV0aC50eXBlID09ICcyJyAmJiAhb25lQXV0aC5pc0F1dGgpIHsKICAgICAgaXRlbVsiZGlzYWJsZWQiXSA9IHRydWU7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSAvL+makOiXj+mAu+i+kemAu+i+kQoKCiAgICBpZiAob25lQXV0aC50eXBlID09ICcxJyAmJiAhb25lQXV0aC5pc0F1dGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0pOwogIHJldHVybiBjb2xzOwp9CgpmdW5jdGlvbiBoYXNDb2xvdW0oaXRlbSwgYXV0aExpc3QpIHsKICBpZiAoYXV0aExpc3QuaW5jbHVkZXMoaXRlbS5kYXRhSW5kZXgpKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gdHJ1ZTsKfSAvL+adg+mZkOaXoOaViOaXtuS4jeWBmuaOp+WItu+8jOacieaViOaXtuaOp+WItu+8jOWPquiDveaOp+WItiDmmL7npLrkuI3mmL7npLoKLy/moLnmja7mjojmnYPnoIHliY3nvIDojrflj5bmnKrmjojmnYPnmoTliJfkv6Hmga8KCgpleHBvcnQgZnVuY3Rpb24gZ2V0Tm9BdXRoQ29scyhwcmUpIHsKICBpZiAoIXByZSB8fCBwcmUubGVuZ3RoID09IDApIHsKICAgIHJldHVybiBbXTsKICB9CgogIHZhciBwZXJtaXNzaW9uTGlzdCA9IFtdOwogIHZhciBhbGxQZXJtaXNzaW9uTGlzdCA9IFtdOyAvL2xldCBhdXRoTGlzdCA9IFZ1ZS5scy5nZXQoVVNFUl9BVVRIKTsKCiAgdmFyIGF1dGhMaXN0ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFVTRVJfQVVUSCkgfHwgIltdIik7CgogIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXV0aExpc3QpLAogICAgICBfc3RlcDc7CgogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICB2YXIgYXV0aCA9IF9zdGVwNy52YWx1ZTsKCiAgICAgIC8v5pi+56S6562W55Wl77yM5pyJ5pWI54q25oCBCiAgICAgIGlmIChhdXRoLnR5cGUgPT0gJzEnICYmIHN0YXJ0V2l0aChhdXRoLmFjdGlvbiwgcHJlKSkgewogICAgICAgIHBlcm1pc3Npb25MaXN0LnB1c2goc3Vic3RyUHJlKGF1dGguYWN0aW9uLCBwcmUpKTsKICAgICAgfQogICAgfSAvL2NvbnNvbGUubG9nKCLpobXpnaLnpoHnlKjmnYPpmZAtLUdsb2JhbC0tIixzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNZU19CVVRUT05fQVVUSCkpOwoKICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjcuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3I3LmYoKTsKICB9CgogIHZhciBhbGxBdXRoTGlzdCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTWVNfQlVUVE9OX0FVVEgpIHx8ICJbXSIpOwoKICB2YXIgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFsbEF1dGhMaXN0KSwKICAgICAgX3N0ZXA4OwoKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGdhdXRoID0gX3N0ZXA4LnZhbHVlOwoKICAgICAgLy/mmL7npLrnrZbnlaXvvIzmnInmlYjnirbmgIEKICAgICAgaWYgKGdhdXRoLnR5cGUgPT0gJzEnICYmIGdhdXRoLnN0YXR1cyA9PSAnMScgJiYgc3RhcnRXaXRoKGdhdXRoLmFjdGlvbiwgcHJlKSkgewogICAgICAgIGFsbFBlcm1pc3Npb25MaXN0LnB1c2goc3Vic3RyUHJlKGdhdXRoLmFjdGlvbiwgcHJlKSk7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjguZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3I4LmYoKTsKICB9CgogIHZhciBjb2xzID0gYWxsUGVybWlzc2lvbkxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAocGVybWlzc2lvbkxpc3QuaW5jbHVkZXMoaXRlbSkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0pOwogIHJldHVybiBjb2xzOwp9Ci8qKg0KICog6aKd5aSW5aKe5Yqg5pa55rOV44CQ55So5LqO6KGM57yW6L6R57uE5Lu244CRDQogKiBkYXRlOiAyMDIwLTA0LTA1DQogKiBhdXRob3I6IHNjb3R0DQogKiBAcGFyYW0gcHJlDQogKiBAcmV0dXJucyB7KltdfQ0KICovCgpmdW5jdGlvbiBnZXRBbGxTaG93QW5kRGlzYWJsZWRBdXRoQ29scyhwcmUpIHsKICAvL+eUqOaIt+aLpeacieeahOadg+mZkAogIHZhciB1c2VyQXV0aExpc3QgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVVNFUl9BVVRIKSB8fCAiW10iKTsgLy/lhajpg6jmnYPpmZDphY3nva4KCiAgdmFyIGFsbEF1dGhMaXN0ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNZU19CVVRUT05fQVVUSCkgfHwgIltdIik7CiAgdmFyIG5ld0FsbEF1dGhMaXN0ID0gYWxsQXV0aExpc3QubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgdmFyIGhhc0F1dGhBcnJheSA9IHVzZXJBdXRoTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHUpIHsKICAgICAgcmV0dXJuIHUuYWN0aW9uID09PSBpdGVtLmFjdGlvbjsKICAgIH0pOwoKICAgIGlmIChoYXNBdXRoQXJyYXkgJiYgaGFzQXV0aEFycmF5Lmxlbmd0aCA+IDApIHsKICAgICAgaXRlbVsiaXNBdXRoIl0gPSB0cnVlOwogICAgfQoKICAgIHJldHVybiBpdGVtOwogIH0pOwogIHJldHVybiBuZXdBbGxBdXRoTGlzdDsKfQoKZnVuY3Rpb24gc3RhcnRXaXRoKHN0ciwgcHJlKSB7CiAgaWYgKHByZSA9PSBudWxsIHx8IHByZSA9PSAiIiB8fCBzdHIgPT0gbnVsbCB8fCBzdHIgPT0gIiIgfHwgc3RyLmxlbmd0aCA9PSAwIHx8IHByZS5sZW5ndGggPiBzdHIubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgaWYgKHN0ci5zdWJzdHIoMCwgcHJlLmxlbmd0aCkgPT0gcHJlKSByZXR1cm4gdHJ1ZTtlbHNlIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gc3Vic3RyUHJlKHN0ciwgcHJlKSB7CiAgcmV0dXJuIHN0ci5zdWJzdHIocHJlLmxlbmd0aCk7Cn0="},{"version":3,"sources":["D:/vue/src/utils/authFilter.js"],"names":["USER_AUTH","SYS_BUTTON_AUTH","disabledAuthFilter","code","formData","nodeDisabledAuth","globalDisabledAuth","console","log","permissionList","bpmList","filter","item","type","e","length","permissions","push","action","includes","item2","allPermissionList","authList","JSON","parse","sessionStorage","getItem","auth","allAuthList","gauth","gFlag","invalidFlag","undefined","itemG","status","colAuthFilter","columns","pre","getNoAuthCols","cols","hasColoum","colAuthFilterJEditableTable","getAllShowAndDisabledAuthCols","oneAuth","find","key","Array","isAuth","dataIndex","startWith","substrPre","userAuthList","newAllAuthList","map","index","hasAuthArray","u","str","substr"],"mappings":"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","sourcesContent":["import { USER_AUTH,SYS_BUTTON_AUTH } from \"@/store/mutation-types\"\r\n\r\nexport function disabledAuthFilter(code,formData) {\r\n  if(nodeDisabledAuth(code,formData)){\r\n    return true;\r\n  }else{\r\n    return globalDisabledAuth(code);\r\n  }\r\n}\r\n\r\nfunction nodeDisabledAuth(code,formData){\r\n  console.log(\"页面权限禁用--NODE--开始\");\r\n  let permissionList = [];\r\n  try {\r\n    console.log(\"页面权限禁用--NODE--开始\",formData);\r\n    if (formData) {\r\n      let bpmList = formData.permissionList;\r\n      permissionList = bpmList.filter(item=>item.type=='2')\r\n      // for (let bpm of bpmList) {\r\n      //   if(bpm.type == '2') {\r\n      //     permissionList.push(bpm);\r\n      //   }\r\n      // }\r\n    }else{\r\n      return false;\r\n    }\r\n  } catch (e) {\r\n    //console.log(\"页面权限异常----\", e);\r\n  }\r\n  if (permissionList.length ==  0) {\r\n    return false;\r\n  }\r\n\r\n  console.log(\"流程节点页面权限禁用--NODE--开始\");\r\n  let permissions = [];\r\n  for (let item of permissionList) {\r\n    if(item.type == '2') {\r\n      permissions.push(item.action);\r\n    }\r\n  }\r\n  //console.log(\"页面权限----\"+code);\r\n  if (!permissions.includes(code)) {\r\n    return false;\r\n  }else{\r\n    for (let item2 of permissionList) {\r\n      if(code === item2.action){\r\n        console.log(\"流程节点页面权限禁用--NODE--生效\");\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction globalDisabledAuth(code){\r\n  console.log(\"全局页面禁用权限--Global--开始\");\r\n\r\n  let permissionList = [];\r\n  let allPermissionList = [];\r\n\r\n  //let authList = Vue.ls.get(USER_AUTH);\r\n  let authList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\r\n  for (let auth of authList) {\r\n    if(auth.type == '2') {\r\n      permissionList.push(auth);\r\n    }\r\n  }\r\n  //console.log(\"页面禁用权限--Global--\",sessionStorage.getItem(SYS_BUTTON_AUTH));\r\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\r\n  for (let gauth of allAuthList) {\r\n    if(gauth.type == '2') {\r\n      allPermissionList.push(gauth);\r\n    }\r\n  }\r\n  //设置全局配置是否有命中\r\n  let  gFlag = false;//禁用命中\r\n  let invalidFlag = false;//无效命中\r\n  if(allPermissionList != null && allPermissionList != \"\" && allPermissionList != undefined && allPermissionList.length > 0){\r\n    for (let itemG of allPermissionList) {\r\n      if(code === itemG.action){\r\n        if(itemG.status == '0'){\r\n          invalidFlag = true;\r\n          break;\r\n        }else{\r\n          gFlag = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if(invalidFlag){\r\n    return false;\r\n  }\r\n  if (permissionList === null || permissionList === \"\" || permissionList === undefined||permissionList.length<=0) {\r\n    return gFlag;\r\n  }\r\n  let permissions = [];\r\n  for (let item of permissionList) {\r\n    if(item.type == '2') {\r\n      permissions.push(item.action);\r\n    }\r\n  }\r\n  //console.log(\"页面禁用权限----\"+code);\r\n  if (!permissions.includes(code)) {\r\n    return gFlag;\r\n  }else{\r\n    for (let item2 of permissionList) {\r\n      if(code === item2.action){\r\n        console.log(\"全局页面权限解除禁用--Global--生效\");\r\n        gFlag = false;\r\n      }\r\n    }\r\n    return gFlag;\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function colAuthFilter(columns,pre) {\r\n  let authList = getNoAuthCols(pre);\r\n  const cols = columns.filter(item => {\r\n    if (hasColoum(item,authList)) {\r\n      return true\r\n    }\r\n    return false\r\n  })\r\n  return cols\r\n}\r\n\r\n/**\r\n * 【子表行编辑】实现两个功能：\r\n * 1、隐藏JEditableTable无权限的字段\r\n * 2、禁用JEditableTable无权限的字段\r\n * @param columns\r\n * @param pre\r\n * @returns {*}\r\n */\r\nexport function colAuthFilterJEditableTable(columns,pre) {\r\n  let authList = getAllShowAndDisabledAuthCols(pre);\r\n  const cols = columns.filter(item => {\r\n    let oneAuth = authList.find(auth => {\r\n      return auth.action === pre + item.key;\r\n    });\r\n    if(!oneAuth){\r\n      return true\r\n    }\r\n\r\n    //代码严谨处理，防止一个授权标识，配置多次\r\n    if(oneAuth instanceof Array){\r\n      oneAuth = oneAuth[0]\r\n    }\r\n\r\n    //禁用逻辑\r\n    if (oneAuth.type == '2' && !oneAuth.isAuth) {\r\n      item[\"disabled\"] = true\r\n      return true\r\n    }\r\n    //隐藏逻辑逻辑\r\n    if (oneAuth.type == '1' && !oneAuth.isAuth) {\r\n      return false\r\n    }\r\n    return true\r\n  })\r\n  return cols\r\n}\r\n\r\n\r\nfunction hasColoum(item,authList){\r\n  if (authList.includes(item.dataIndex)) {\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n//权限无效时不做控制，有效时控制，只能控制 显示不显示\r\n//根据授权码前缀获取未授权的列信息\r\nexport function getNoAuthCols(pre){\r\n  if(!pre || pre.length==0){\r\n    return []\r\n  }\r\n  let permissionList = [];\r\n  let allPermissionList = [];\r\n\r\n  //let authList = Vue.ls.get(USER_AUTH);\r\n  let authList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\r\n  for (let auth of authList) {\r\n    //显示策略，有效状态\r\n    if(auth.type == '1'&&startWith(auth.action,pre)) {\r\n      permissionList.push(substrPre(auth.action,pre));\r\n    }\r\n  }\r\n  //console.log(\"页面禁用权限--Global--\",sessionStorage.getItem(SYS_BUTTON_AUTH));\r\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\r\n  for (let gauth of allAuthList) {\r\n    //显示策略，有效状态\r\n    if(gauth.type == '1'&&gauth.status == '1'&&startWith(gauth.action,pre)) {\r\n      allPermissionList.push(substrPre(gauth.action,pre));\r\n    }\r\n  }\r\n  const cols = allPermissionList.filter(item => {\r\n    if (permissionList.includes(item)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  })\r\n  return cols;\r\n}\r\n\r\n\r\n\r\n/**\r\n * 额外增加方法【用于行编辑组件】\r\n * date: 2020-04-05\r\n * author: scott\r\n * @param pre\r\n * @returns {*[]}\r\n */\r\nfunction getAllShowAndDisabledAuthCols(pre){\r\n  //用户拥有的权限\r\n  let userAuthList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\r\n  //全部权限配置\r\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\r\n\r\n  let newAllAuthList = allAuthList.map(function (item, index) {\r\n    let hasAuthArray = userAuthList.filter(u => u.action===item.action );\r\n    if (hasAuthArray && hasAuthArray.length>0) {\r\n      item[\"isAuth\"] = true\r\n    }\r\n    return item;\r\n  })\r\n\r\n  return newAllAuthList;\r\n}\r\n\r\nfunction startWith(str,pre) {\r\n  if (pre == null || pre == \"\" || str==null|| str==\"\"|| str.length == 0 || pre.length > str.length)\r\n    return false;\r\n  if (str.substr(0, pre.length) == pre)\r\n    return true;\r\n  else\r\n    return false;\r\n}\r\n\r\nfunction substrPre(str,pre) {\r\n  return str.substr(pre.length);\r\n}"]}]}