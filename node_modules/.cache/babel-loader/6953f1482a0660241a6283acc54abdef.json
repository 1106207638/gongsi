{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\user\\LoginSelectTenant.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\user\\LoginSelectTenant.vue","mtime":1615948822554},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBnZXRBY3Rpb24sIHB1dEFjdGlvbiB9IGZyb20gJ0AvYXBpL21hbmFnZSc7CmltcG9ydCB7IFVTRVJfSU5GTyB9IGZyb20gIkAvc3RvcmUvbXV0YXRpb24tdHlwZXMiOwppbXBvcnQgc3RvcmUgZnJvbSAnLi9Mb2dpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW5TZWxlY3RUZW5hbnQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgaXNNdWx0aURlcGFydDogZmFsc2UsCiAgICAgIGRlcGFydExpc3Q6IFtdLAogICAgICBpc011bHRpVGVuYW50OiBmYWxzZSwKICAgICAgdGVuYW50TGlzdDogW10sCiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgb3JnQ29kZTogJycsCiAgICAgIHRlbmFudF9pZDogJycsCiAgICAgIHZhbGlkYXRlX3N0YXR1czE6ICIiLAogICAgICB2YWxpZGF0ZV9zdGF0dXMyOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0aXRsZTogZnVuY3Rpb24gdGl0bGUoKSB7CiAgICAgIGlmICh0aGlzLmlzTXVsdGlEZXBhcnQgJiYgdGhpcy5pc011bHRpVGVuYW50KSB7CiAgICAgICAgcmV0dXJuICfor7fpgInmi6nnp5/miLflkozpg6jpl6gnOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNNdWx0aURlcGFydCAmJiAhdGhpcy5pc011bHRpVGVuYW50KSB7CiAgICAgICAgcmV0dXJuICfor7fpgInmi6npg6jpl6gnOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzTXVsdGlEZXBhcnQgJiYgdGhpcy5pc011bHRpVGVuYW50KSB7CiAgICAgICAgcmV0dXJuICfor7fpgInmi6nnp5/miLcnOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHRoaXMuZGVwYXJ0TGlzdCA9IFtdOwogICAgICB0aGlzLnRlbmFudExpc3QgPSBbXTsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMudmFsaWRhdGVfc3RhdHVzMSA9ICcnOwogICAgICB0aGlzLnZhbGlkYXRlX3N0YXR1czIgPSAnJzsKICAgIH0sCiAgICBiaXpEZXBhcnQ6IGZ1bmN0aW9uIGJpekRlcGFydChsb2dpblJlc3VsdCkgewogICAgICB2YXIgbXVsdGlfZGVwYXJ0ID0gbG9naW5SZXN1bHQubXVsdGlfZGVwYXJ0OyAvLzA65peg6YOo6ZeoIDE65LiA5Liq6YOo6ZeoIDI65aSa5Liq6YOo6ZeoCgogICAgICBpZiAobXVsdGlfZGVwYXJ0ID09IDApIHsKICAgICAgICB0aGlzLiRub3RpZmljYXRpb24ud2Fybih7CiAgICAgICAgICBtZXNzYWdlOiAn5o+Q56S6JywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAiXHU2MEE4XHU1QzFBXHU2NzJBXHU1RjUyXHU1QzVFXHU5MEU4XHU5NUU4LFx1OEJGN1x1Nzg2RVx1OEJBNFx1OEQyNlx1NTNGN1x1NEZFMVx1NjA2RiIsCiAgICAgICAgICBkdXJhdGlvbjogMwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaXNNdWx0aURlcGFydCA9IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKG11bHRpX2RlcGFydCA9PSAyKSB7CiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgICAgICB0aGlzLmlzTXVsdGlEZXBhcnQgPSB0cnVlOwogICAgICAgIHRoaXMuZGVwYXJ0TGlzdCA9IGxvZ2luUmVzdWx0LmRlcGFydHM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc011bHRpRGVwYXJ0ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBiaXpUZW5hbnQ6IGZ1bmN0aW9uIGJpelRlbmFudChpZHMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghaWRzIHx8IGlkcy5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuaXNNdWx0aVRlbmFudCA9IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKGlkcy5pbmRleE9mKCcsJykgPCAwKSB7CiAgICAgICAgdGhpcy50ZW5hbnRfaWQgPSBpZHM7CiAgICAgICAgdGhpcy5pc011bHRpVGVuYW50ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgICAgICB0aGlzLmlzTXVsdGlUZW5hbnQgPSB0cnVlOwogICAgICAgIGdldEFjdGlvbignL3N5cy90ZW5hbnQvcXVlcnlMaXN0JywgewogICAgICAgICAgaWRzOiBpZHMKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLnRlbmFudExpc3QgPSByZXMucmVzdWx0OwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdyhsb2dpblJlc3VsdCkgewogICAgICB0aGlzLmNsZWFyKCk7CiAgICAgIHRoaXMuYml6RGVwYXJ0KGxvZ2luUmVzdWx0KTsKICAgICAgdmFyIHVzZXIgPSBWdWUubHMuZ2V0KFVTRVJfSU5GTyk7CiAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VyLnVzZXJuYW1lOwogICAgICB2YXIgaWRzID0gdXNlci5yZWxUZW5hbnRJZHM7CiAgICAgIHRoaXMuYml6VGVuYW50KGlkcyk7CgogICAgICBpZiAodGhpcy52aXNpYmxlID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzYXZlVGVuYW50JywgdGhpcy50ZW5hbnRfaWQpOwogICAgICAgIHRoaXMuJGVtaXQoJ3N1Y2Nlc3MnKTsKICAgICAgfQogICAgfSwKICAgIHJlcXVlc3RGYWlsZWQ6IGZ1bmN0aW9uIHJlcXVlc3RGYWlsZWQoZXJyKSB7CiAgICAgIHRoaXMuJG5vdGlmaWNhdGlvblsnZXJyb3InXSh7CiAgICAgICAgbWVzc2FnZTogJ+eZu+W9leWksei0pScsCiAgICAgICAgZGVzY3JpcHRpb246ICgoZXJyLnJlc3BvbnNlIHx8IHt9KS5kYXRhIHx8IHt9KS5tZXNzYWdlIHx8IGVyci5tZXNzYWdlIHx8ICLor7fmsYLlh7rnjrDplJnor6/vvIzor7fnqI3lkI7lho3or5UiLAogICAgICAgIGR1cmF0aW9uOiA0CiAgICAgIH0pOwogICAgICB0aGlzLmxvZ2luQnRuID0gZmFsc2U7CiAgICB9LAogICAgZGVwYXJ0UmVzb2x2ZTogZnVuY3Rpb24gZGVwYXJ0UmVzb2x2ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChfdGhpczIuaXNNdWx0aURlcGFydCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgb3JnQ29kZTogX3RoaXMyLm9yZ0NvZGUsCiAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpczIudXNlcm5hbWUKICAgICAgICAgIH07CiAgICAgICAgICBwdXRBY3Rpb24oIi9zeXMvc2VsZWN0RGVwYXJ0Iiwgb2JqKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgdmFyIHVzZXJJbmZvID0gcmVzLnJlc3VsdC51c2VySW5mbzsKICAgICAgICAgICAgICBWdWUubHMuc2V0KFVTRVJfSU5GTywgdXNlckluZm8sIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ1NFVF9JTkZPJywgdXNlckluZm8pOyAvL2NvbnNvbGUubG9nKCItLS3liIfmjaLnu4Tnu4fmnLrmnoQtLS11c2VySW5mby0tLS0tLS0iLHN0b3JlLmdldHRlcnMudXNlckluZm8ub3JnQ29kZSk7CgoKICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLnJlcXVlc3RGYWlsZWQocmVzKTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnTG9nb3V0Jyk7CgogICAgICAgICAgICAgIHJlamVjdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdE9rOiBmdW5jdGlvbiBzZWxlY3RPaygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc011bHRpVGVuYW50ICYmICF0aGlzLnRlbmFudF9pZCkgewogICAgICAgIHRoaXMudmFsaWRhdGVfc3RhdHVzMSA9ICdlcnJvcic7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5pc011bHRpRGVwYXJ0ICYmICF0aGlzLm9yZ0NvZGUpIHsKICAgICAgICB0aGlzLnZhbGlkYXRlX3N0YXR1czIgPSAnZXJyb3InOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5kZXBhcnRSZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgnc2F2ZVRlbmFudCcsIF90aGlzMy50ZW5hbnRfaWQpOwoKICAgICAgICBpZiAoX3RoaXMzLmlzTXVsdGlUZW5hbnQpIHsKICAgICAgICAgIF90aGlzMy4kZW1pdCgnc3VjY2VzcycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuJGVtaXQoJ3N1Y2Nlc3MnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygn55m75b2V6YCJ5oup5Ye66Zeu6aKYJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVRlbmFudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlVGVuYW50Q2hhbmdlKGUpIHsKICAgICAgdGhpcy52YWxpZGF0ZV9zdGF0dXMxID0gJyc7CiAgICAgIHRoaXMudGVuYW50X2lkID0gZTsKICAgIH0sCiAgICBoYW5kbGVEZXBhcnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZURlcGFydENoYW5nZShlKSB7CiAgICAgIHRoaXMudmFsaWRhdGVfc3RhdHVzMiA9ICcnOwogICAgICB0aGlzLm9yZ0NvZGUgPSBlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["LoginSelectTenant.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"450\"\r\n    :visible=\"visible\"\r\n    :closable=\"false\"\r\n    :maskClosable=\"false\">\r\n\r\n    <template slot=\"footer\">\r\n      <a-button type=\"primary\" @click=\"selectOk\">确认</a-button>\r\n    </template>\r\n\r\n    <a-form>\r\n      <a-form-item v-if=\"isMultiTenant\" :labelCol=\"{span:4}\" :wrapperCol=\"{span:20}\" style=\"margin-bottom:10px\" :validate-status=\"validate_status1\">\r\n        <a-tooltip placement=\"topLeft\" >\r\n          <template slot=\"title\">\r\n            <span>您有多个租户，请选择登录租户</span>\r\n          </template>\r\n        <a-avatar style=\"backgroundColor:#87d068\" icon=\"gold\" />\r\n        </a-tooltip>\r\n\r\n        <a-select @change=\"handleTenantChange\" :class=\"{'valid-error':validate_status1=='error'}\" placeholder=\"请选择登录租户\" style=\"margin-left:10px;width: 80%\">\r\n          <a-icon slot=\"suffixIcon\" type=\"gold\" />\r\n          <a-select-option v-for=\"d in tenantList\" :key=\"d.id\" :value=\"d.id\">\r\n            {{ d.name }}\r\n          </a-select-option>\r\n        </a-select>\r\n      </a-form-item>\r\n\r\n\r\n      <a-form-item v-if=\"isMultiDepart\" :labelCol=\"{span:4}\" :wrapperCol=\"{span:20}\" style=\"margin-bottom:10px\" :validate-status=\"validate_status2\">\r\n        <a-tooltip placement=\"topLeft\" >\r\n          <template slot=\"title\">\r\n            <span>您有多个部门，请选择登录部门</span>\r\n          </template>\r\n          <a-avatar style=\"backgroundColor:rgb(104, 208, 203);\" icon=\"gold\" />\r\n        </a-tooltip>\r\n\r\n        <a-select @change=\"handleDepartChange\" :class=\"{'valid-error':validate_status2=='error'}\" placeholder=\"请选择登录部门\" style=\"margin-left:10px;width: 80%\">\r\n          <a-icon slot=\"suffixIcon\" type=\"gold\" />\r\n          <a-select-option v-for=\"d in departList\" :key=\"d.id\" :value=\"d.orgCode\">\r\n            {{ d.departName }}\r\n          </a-select-option>\r\n        </a-select>\r\n      </a-form-item>\r\n\r\n    </a-form>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n\r\n  import Vue from 'vue'\r\n  import { getAction,putAction } from '@/api/manage'\r\n  import { USER_INFO } from \"@/store/mutation-types\"\r\n  import store from './Login'\r\n\r\n  export default {\r\n    name: 'LoginSelectTenant',\r\n    data(){\r\n      return {\r\n        visible: false,\r\n        isMultiDepart:false,\r\n        departList:[],\r\n\r\n        isMultiTenant:false,\r\n        tenantList:[],\r\n\r\n        username:'',\r\n        orgCode:'',\r\n        tenant_id:'',\r\n\r\n        validate_status1: \"\",\r\n        validate_status2: \"\",\r\n      }\r\n    },\r\n    computed:{\r\n      title(){\r\n        if(this.isMultiDepart && this.isMultiTenant){\r\n          return '请选择租户和部门'\r\n        }else if(this.isMultiDepart && !this.isMultiTenant){\r\n          return '请选择部门'\r\n        }else if(!this.isMultiDepart && this.isMultiTenant){\r\n          return '请选择租户'\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      clear(){\r\n        this.departList = []\r\n        this.tenantList = []\r\n        this.visible=false\r\n        this.validate_status1=''\r\n        this.validate_status2=''\r\n      },\r\n      bizDepart(loginResult){\r\n        let multi_depart = loginResult.multi_depart\r\n        //0:无部门 1:一个部门 2:多个部门\r\n        if(multi_depart==0){\r\n          this.$notification.warn({\r\n            message: '提示',\r\n            description: `您尚未归属部门,请确认账号信息`,\r\n            duration:3\r\n          });\r\n          this.isMultiDepart = false\r\n        }else if(multi_depart==2){\r\n          this.visible=true\r\n          this.isMultiDepart = true\r\n          this.departList = loginResult.departs\r\n        }else {\r\n          this.isMultiDepart = false\r\n        }\r\n      },\r\n      bizTenant(ids){\r\n        if(!ids || ids.length==0){\r\n          this.isMultiTenant = false\r\n        } else if(ids.indexOf(',')<0){\r\n          this.tenant_id = ids;\r\n          this.isMultiTenant = false\r\n        }else{\r\n          this.visible = true\r\n          this.isMultiTenant = true\r\n          getAction('/sys/tenant/queryList', {ids: ids}).then(res=>{\r\n            this.tenantList = res.result\r\n          })\r\n        }\r\n      },\r\n      show(loginResult){\r\n        this.clear();\r\n        this.bizDepart(loginResult);\r\n\r\n        let user = Vue.ls.get(USER_INFO)\r\n        this.username = user.username\r\n        let ids = user.relTenantIds\r\n        this.bizTenant(ids);\r\n\r\n        if(this.visible===false){\r\n          this.$store.dispatch('saveTenant', this.tenant_id);\r\n          this.$emit('success')\r\n        }\r\n\r\n      },\r\n      requestFailed (err) {\r\n        this.$notification[ 'error' ]({\r\n          message: '登录失败',\r\n          description: ((err.response || {}).data || {}).message || err.message || \"请求出现错误，请稍后再试\",\r\n          duration: 4,\r\n        });\r\n        this.loginBtn = false;\r\n      },\r\n      departResolve(){\r\n        return new Promise((resolve, reject)=>{\r\n          if(this.isMultiDepart===false){\r\n            resolve();\r\n          }else{\r\n            let obj = {\r\n              orgCode:this.orgCode,\r\n              username:this.username\r\n            }\r\n            putAction(\"/sys/selectDepart\",obj).then(res=>{\r\n              if(res.success){\r\n                const userInfo = res.result.userInfo;\r\n                Vue.ls.set(USER_INFO, userInfo, 7 * 24 * 60 * 60 * 1000);\r\n                this.$store.commit('SET_INFO', userInfo);\r\n                //console.log(\"---切换组织机构---userInfo-------\",store.getters.userInfo.orgCode);\r\n                resolve();\r\n              }else{\r\n                this.requestFailed(res)\r\n                this.$store.dispatch('Logout');\r\n                reject();\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      selectOk(){\r\n        if(this.isMultiTenant && !this.tenant_id){\r\n          this.validate_status1='error'\r\n          return false\r\n        }\r\n        if(this.isMultiDepart && !this.orgCode){\r\n          this.validate_status2='error'\r\n          return false\r\n        }\r\n        this.departResolve().then(()=>{\r\n          this.$store.dispatch('saveTenant', this.tenant_id);\r\n          if(this.isMultiTenant){\r\n            this.$emit('success')\r\n          }else{\r\n            this.$emit('success')\r\n          }\r\n        }).catch(()=>{\r\n          console.log('登录选择出问题')\r\n        })\r\n      },\r\n      handleTenantChange(e){\r\n        this.validate_status1 = ''\r\n        this.tenant_id = e\r\n      },\r\n      handleDepartChange(e){\r\n        this.validate_status2 = ''\r\n        this.orgCode = e\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/views/user"}]}