{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\src\\components\\jeecg\\JVxeTable\\mixins\\vxe.web.socket.mixins.js","dependencies":[{"path":"D:\\vue\\src\\components\\jeecg\\JVxeTable\\mixins\\vxe.web.socket.mixins.js","mtime":1615948814796},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUvJzsKaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gJ0AvdXRpbHMvdXRpbCc7IC8vIHZ4ZSBzb2NrZXQKCnZhciB2cyA9IHsKICAvLyDpobXpnaLllK/kuIAgaWTvvIznlKjkuo7moIfor4blkIzkuIDnlKjmiLfvvIzkuI3lkIzpobXpnaLnmoR3ZWJzb2NrZXQKICBwYWdlSWQ6IHJhbmRvbVVVSUQoKSwKICAvLyB3ZWJTb2NrZXQg5a+56LGhCiAgd3M6IG51bGwsCiAgLy8g5LiA5Lqb5bi46YePCiAgY29uc3RhbnRzOiB7CiAgICAvLyDmtojmga/nsbvlnosKICAgIFRZUEU6ICd0eXBlJywKICAgIC8vIOa2iOaBr+aVsOaNrgogICAgREFUQTogJ2RhdGEnLAogICAgLy8g5raI5oGv57G75Z6L77ya5b+D6Lez5qOA5rWLCiAgICBUWVBFX0hCOiAnaGVhcnRfYmVhdCcsCiAgICAvLyDmtojmga/nsbvlnovvvJrpgJrnlKjmlbDmja7kvKDpgJIKICAgIFRZUEVfQ1NEOiAnY29tbW9uX3NlbmRfZGF0ZScsCiAgICAvLyDmtojmga/nsbvlnovvvJrmm7TmlrB2eGUgdGFibGXmlbDmja4KICAgIFRZUEVfVVZUOiAndXBkYXRlX3Z4ZV90YWJsZScKICB9LAogIC8vIOW/g+i3s+ajgOa1iwogIGhlYXJ0Q2hlY2s6IHsKICAgIC8vIOmXtOmalOaXtumXtO+8jOmXtOmalOWkmuS5heWPkemAgeS4gOasoeW/g+i3s+a2iOaBrwogICAgaW50ZXJ2YWw6IDEwMDAwLAogICAgLy8g5b+D6Lez5raI5oGv6LaF5pe25pe26Ze077yM5b+D6Lez5raI5oGv5aSa5LmF5rKh5pyJ5Zue5aSN5ZCO6YeN6L+eCiAgICB0aW1lb3V0OiA2MDAwLAogICAgdGltZW91dFRpbWVyOiBudWxsLAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0VGltZXIpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIHZzLnNlbmRNZXNzYWdlKHZzLmNvbnN0YW50cy5UWVBFX0hCLCAnJyk7IC8vIOWmguaenOi2hei/h+S4gOWumuaXtumXtOi/mOayoemHjee9ru+8jOivtOaYjuWQjuerr+S4u+WKqOaWreW8gOS6hgoKICAgICAgdGhpcy50aW1lb3V0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdnMucmVjb25uZWN0KCk7CiAgICAgIH0sIHRoaXMudGltZW91dCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIC8vIOW/g+i3s+a2iOaBr+i/lOWbngogICAgYmFjazogZnVuY3Rpb24gYmFjaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5zdGFydCgpOwogICAgICB9LCB0aGlzLmludGVydmFsKTsKICAgIH0KICB9LAoKICAvKiog5Yid5aeL5YyWIFdlYlNvY2tldCAqLwogIGluaXRpYWxXZWJTb2NrZXQ6IGZ1bmN0aW9uIGluaXRpYWxXZWJTb2NrZXQoKSB7CiAgICBpZiAodGhpcy53cyA9PT0gbnVsbCkgewogICAgICB2YXIgdXNlcklkID0gc3RvcmUuZ2V0dGVycy51c2VySW5mby5pZDsKCiAgICAgIHZhciBkb21haW4gPSB3aW5kb3cuX0NPTkZJR1snZG9taWFuVVJMJ10ucmVwbGFjZSgnaHR0cHM6Ly8nLCAnd3NzOi8vJykucmVwbGFjZSgnaHR0cDovLycsICd3czovLycpOwoKICAgICAgdmFyIHVybCA9ICIiLmNvbmNhdChkb21haW4sICIvdnhlU29ja2V0LyIpLmNvbmNhdCh1c2VySWQsICIvIikuY29uY2F0KHRoaXMucGFnZUlkKTsKICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodXJsKTsKICAgICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLm9uLm9wZW4uYmluZCh0aGlzKTsKICAgICAgdGhpcy53cy5vbmVycm9yID0gdGhpcy5vbi5lcnJvci5iaW5kKHRoaXMpOwogICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMub24ubWVzc2FnZS5iaW5kKHRoaXMpOwogICAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLm9uLmNsb3NlLmJpbmQodGhpcyk7CiAgICAgIGNvbnNvbGUubG9nKCd0aGlzLndzOiAnLCB0aGlzLndzKTsKICAgIH0KICB9LAogIC8vIOWPkemAgea2iOaBrwogIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZSh0eXBlLCBtZXNzYWdlKSB7CiAgICB0cnkgewogICAgICB2YXIgd3MgPSB0aGlzLndzOwoKICAgICAgaWYgKHdzICE9IG51bGwgJiYgd3MucmVhZHlTdGF0ZSA9PT0gd3MuT1BFTikgewogICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgIGRhdGE6IG1lc3NhZ2UKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBjb25zb2xlLndhcm4oJ+OAkFZYRVdlYlNvY2tldOOAkeWPkemAgea2iOaBr+Wksei0pe+8mignICsgZXJyLmNvZGUgKyAnKScpOwogICAgfQogIH0sCgogIC8qKiDnu5HlrprlhajlsYBWWEXooajmoLwgKi8KICB0YWJsZU1hcDogbmV3IE1hcCgpLAogIENTRE1hcDogbmV3IE1hcCgpLAoKICAvKiog5re75Yqg57uR5a6aICovCiAgYWRkQmluZDogZnVuY3Rpb24gYWRkQmluZChtYXAsIGtleSwgdmFsdWUpIHsKICAgIHZhciBiaW5kcyA9IG1hcC5nZXQoa2V5KTsKCiAgICBpZiAoQXJyYXkuaXNBcnJheShiaW5kcykpIHsKICAgICAgYmluZHMucHVzaCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICBtYXAuc2V0KGtleSwgW3ZhbHVlXSk7CiAgICB9CiAgfSwKCiAgLyoqIOenu+mZpOe7keWumiAqLwogIHJlbW92ZUJpbmQ6IGZ1bmN0aW9uIHJlbW92ZUJpbmQobWFwLCBrZXksIHZhbHVlKSB7CiAgICB2YXIgYmluZHMgPSBtYXAuZ2V0KGtleSk7CgogICAgaWYgKEFycmF5LmlzQXJyYXkoYmluZHMpKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgYmluZCA9IGJpbmRzW2ldOwoKICAgICAgICBpZiAoYmluZCA9PT0gdmFsdWUpIHsKICAgICAgICAgIGJpbmRzLnNwbGljZShpLCAxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGJpbmRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIG1hcC5kZWxldGUoa2V5KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgbWFwLmRlbGV0ZShrZXkpOwogICAgfQogIH0sCiAgLy8g5ZG85Y+r57uR5a6a55qE6KGo5Y2VCiAgY2FsbEJpbmQ6IGZ1bmN0aW9uIGNhbGxCaW5kKG1hcCwga2V5LCBjYWxsYmFjaykgewogICAgdmFyIGJpbmRzID0gbWFwLmdldChrZXkpOwoKICAgIGlmIChBcnJheS5pc0FycmF5KGJpbmRzKSkgewogICAgICBiaW5kcy5mb3JFYWNoKGNhbGxiYWNrKTsKICAgIH0KICB9LAogIGxvY2tSZWNvbm5lY3Q6IGZhbHNlLAoKICAvKiog5bCd6K+V6YeN6L+eICovCiAgcmVjb25uZWN0OiBmdW5jdGlvbiByZWNvbm5lY3QoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBpZiAodGhpcy5sb2NrUmVjb25uZWN0KSByZXR1cm47CiAgICB0aGlzLmxvY2tSZWNvbm5lY3QgPSB0cnVlOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpczIud3MgJiYgX3RoaXMyLndzLmNsb3NlKSB7CiAgICAgICAgX3RoaXMyLndzLmNsb3NlKCk7CiAgICAgIH0KCiAgICAgIF90aGlzMi53cyA9IG51bGw7CiAgICAgIGNvbnNvbGUuaW5mbygn44CQVlhFV2ViU29ja2V044CR5bCd6K+V6YeN6L+eLi4uJyk7CgogICAgICBfdGhpczIuaW5pdGlhbFdlYlNvY2tldCgpOwoKICAgICAgX3RoaXMyLmxvY2tSZWNvbm5lY3QgPSBmYWxzZTsKICAgIH0sIDUwMDApOwogIH0sCiAgb246IHsKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7CiAgICAgIGNvbnNvbGUubG9nKCfjgJBWWEVXZWJTb2NrZXTjgJHov57mjqXmiJDlip8nKTsKICAgICAgdGhpcy5oZWFydENoZWNrLnN0YXJ0KCk7CiAgICB9LAogICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGUpIHsKICAgICAgY29uc29sZS53YXJuKCfjgJBWWEVXZWJTb2NrZXTjgJHov57mjqXlj5HnlJ/plJnor686JywgZSk7CiAgICAgIHRoaXMucmVjb25uZWN0KCk7CiAgICB9LAogICAgbWVzc2FnZTogZnVuY3Rpb24gbWVzc2FnZShlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8g6Kej5p6Q5raI5oGvCiAgICAgIHZhciBqc29uOwoKICAgICAgdHJ5IHsKICAgICAgICBqc29uID0gSlNPTi5wYXJzZShlLmRhdGEpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS53YXJuKCfjgJBWWEVXZWJTb2NrZXTjgJHmlLbliLDml6Dms5Xop6PmnpDnmoTmtojmga86JywgZS5kYXRhKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB0eXBlID0ganNvblt0aGlzLmNvbnN0YW50cy5UWVBFXTsKICAgICAgdmFyIGRhdGEgPSBqc29uW3RoaXMuY29uc3RhbnRzLkRBVEFdOwoKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgLy8g5b+D6Lez5qOA5rWLCiAgICAgICAgY2FzZSB0aGlzLmNvbnN0YW50cy5UWVBFX0hCOgogICAgICAgICAgdGhpcy5oZWFydENoZWNrLmJhY2soKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIC8vIOmAmueUqOaVsOaNruS8oOmAkgoKICAgICAgICBjYXNlIHRoaXMuY29uc3RhbnRzLlRZUEVfQ1NEOgogICAgICAgICAgdGhpcy5jYWxsQmluZCh0aGlzLkNTRE1hcCwgZGF0YS5rZXksIGZ1bmN0aW9uIChmbikgewogICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkoX3RoaXMzLCBkYXRhLmFyZ3MpOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICAvLyDmm7TmlrBmb3Jt5pWw5o2uCgogICAgICAgIGNhc2UgdGhpcy5jb25zdGFudHMuVFlQRV9VVlQ6CiAgICAgICAgICB0aGlzLmNhbGxCaW5kKHRoaXMudGFibGVNYXAsIGRhdGEuc29ja2V0S2V5LCBmdW5jdGlvbiAodm0pIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5vblZNWydvblVwZGF0ZVRhYmxlJ10uYXBwbHkodm0sIGRhdGEuYXJncyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgY29uc29sZS53YXJuKCfjgJBWWEVXZWJTb2NrZXTjgJHmlLbliLDkuI3or4bliKvnmoTmtojmga/nsbvlnos6JyArIHR5cGUpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoZSkgewogICAgICBjb25zb2xlLmxvZygn44CQVlhFV2ViU29ja2V044CR6L+e5o6l6KKr5YWz6ZetOicsIGUpOwogICAgICB0aGlzLnJlY29ubmVjdCgpOwogICAgfQogIH0sCiAgb25WTTogewogICAgLyoqIOaUtuWIsOabtOaWsOihqOagvOeahOa2iOaBryAqLwogICAgb25VcGRhdGVUYWJsZTogZnVuY3Rpb24gb25VcGRhdGVUYWJsZShyb3csIGNhc2VJZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIC8vIOWIpOaWreaYr+S4jeaYr+iHquW3seWPkeeahOa2iOaBrwogICAgICBpZiAodGhpcy5jYXNlSWQgIT09IGNhc2VJZCkgewogICAgICAgIHZhciB0YWJsZVJvdyA9IHRoaXMuZ2V0SWZSb3dCeUlkKHJvdy5pZCkucm93OyAvLyDlsYDpg6jkv53mm7TmlrDmlbDmja4KCiAgICAgICAgaWYgKHRhYmxlUm93KSB7CiAgICAgICAgICAvLyDnibnmrorlpITnkIbmi5bova7nirbmgIEKICAgICAgICAgIGlmIChyb3dbJ3R1Z19zdGF0dXMnXSAmJiB0YWJsZVJvd1sndHVnX3N0YXR1cyddKSB7CiAgICAgICAgICAgIHJvd1sndHVnX3N0YXR1cyddID0gT2JqZWN0LmFzc2lnbih7fSwgdGFibGVSb3dbJ3R1Z19zdGF0dXMnXSwgcm93Wyd0dWdfc3RhdHVzJ10pOwogICAgICAgICAgfSAvLyDliKTmlq3mmK/lkKblkK/nlKjph43ovb3nibnmlYgKCgogICAgICAgICAgaWYgKHRoaXMucmVsb2FkRWZmZWN0KSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnJlbG9hZEVmZmVjdFJvd0tleXNNYXAsIHJvdy5pZCwgdHJ1ZSk7CiAgICAgICAgICB9CgogICAgICAgICAgT2JqZWN0LmtleXMocm93KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2lkJykgewogICAgICAgICAgICAgIF90aGlzNC4kc2V0KHRhYmxlUm93LCBrZXksIHJvd1trZXldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLiRyZWZzLnZ4ZS5yZWxvYWRSb3codGFibGVSb3cpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICAvLyDmmK/lkKblvIDlkK/kvb/nlKggd2ViU29ja2V0IOaXoOeXleWIt+aWsAogICAgc29ja2V0UmVsb2FkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc29ja2V0S2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3Z4ZS1kZWZhdWx0JwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5zb2NrZXRSZWxvYWQpIHsKICAgICAgdnMuaW5pdGlhbFdlYlNvY2tldCgpOwogICAgICB2cy5hZGRCaW5kKHZzLnRhYmxlTWFwLCB0aGlzLnNvY2tldEtleSwgdGhpcyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiog5Y+R6YCBc29ja2V05raI5oGv5pu05paw6KGMICovCiAgICBzb2NrZXRTZW5kVXBkYXRlUm93OiBmdW5jdGlvbiBzb2NrZXRTZW5kVXBkYXRlUm93KHJvdykgewogICAgICB2cy5zZW5kTWVzc2FnZSh2cy5jb25zdGFudHMuVFlQRV9VVlQsIHsKICAgICAgICBzb2NrZXRLZXk6IHRoaXMuc29ja2V0S2V5LAogICAgICAgIGFyZ3M6IFtyb3csIHRoaXMuY2FzZUlkXQogICAgICB9KTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB2cy5yZW1vdmVCaW5kKHZzLnRhYmxlTWFwLCB0aGlzLnNvY2tldEtleSwgdGhpcyk7CiAgfQp9OwovKioNCiAqIOa3u+WKoFdlYlNvY2tldOmAmueUqOaVsOaNruS8oOmAkue7keWumu+8jOebuOWQjOeahGtleeWPr+S7pea3u+WKoOWkmuS4quaWueazlee7keWumg0KICogQHBhcmFtIGtleSDllK/kuIBrZXkNCiAqIEBwYXJhbSBmbiDlvZPmtojmga/mnaXnmoTml7blgJnop6blj5HnmoTlm57osIPmlrnms5UNCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGFkZEJpbmRTb2NrZXRDU0Qoa2V5LCBmbikgewogIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHsKICAgIHZzLmFkZEJpbmQodnMuQ1NETWFwLCBrZXksIGZuKTsKICB9Cn0KLyoqDQogKiDnp7vpmaRXZWJTb2NrZXTpgJrnlKjmlbDmja7kvKDpgJLnu5HlrpoNCiAqIEBwYXJhbSBrZXkg5ZSv5LiAa2V5DQogKiBAcGFyYW0gZm4g6KaB56e76Zmk55qE5pa55rOV77yM5b+F6aG75ZKM5re75Yqg5pe255qE5pa55rOV5YaF5a2Y5bGC6Z2i5LiK5L+d5oyB5LiA6Ie05omN5Y+v5Lul5q2j56Gu56e76ZmkDQogKi8KCmV4cG9ydCBmdW5jdGlvbiByZW1vdmVCaW5kU29ja2V0Q1NEKGtleSwgZm4pIHsKICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7CiAgICB2cy5yZW1vdmVCaW5kKHZzLkNTRE1hcCwga2V5LCBmbik7CiAgfQp9"},{"version":3,"sources":["D:/vue/src/components/jeecg/JVxeTable/mixins/vxe.web.socket.mixins.js"],"names":["store","randomUUID","vs","pageId","ws","constants","TYPE","DATA","TYPE_HB","TYPE_CSD","TYPE_UVT","heartCheck","interval","timeout","timeoutTimer","clear","clearTimeout","start","sendMessage","window","setTimeout","reconnect","back","initialWebSocket","userId","getters","userInfo","id","domain","_CONFIG","replace","url","WebSocket","onopen","on","open","bind","onerror","error","onmessage","message","onclose","close","console","log","type","readyState","OPEN","send","JSON","stringify","data","err","warn","code","tableMap","Map","CSDMap","addBind","map","key","value","binds","get","Array","isArray","push","set","removeBind","i","length","splice","delete","callBind","callback","forEach","lockReconnect","info","e","json","parse","fn","apply","args","socketKey","vm","onVM","onUpdateTable","row","caseId","tableRow","getIfRowById","Object","assign","reloadEffect","$set","reloadEffectRowKeysMap","keys","$refs","vxe","reloadRow","props","socketReload","Boolean","default","String","mounted","methods","socketSendUpdateRow","beforeDestroy","addBindSocketCSD","removeBindSocketCSD"],"mappings":"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","sourcesContent":["import store from '@/store/'\r\nimport { randomUUID } from '@/utils/util'\r\n// vxe socket\r\nconst vs = {\r\n  // 页面唯一 id，用于标识同一用户，不同页面的websocket\r\n  pageId: randomUUID(),\r\n  // webSocket 对象\r\n  ws: null,\r\n  // 一些常量\r\n  constants: {\r\n    // 消息类型\r\n    TYPE: 'type',\r\n    // 消息数据\r\n    DATA: 'data',\r\n    // 消息类型：心跳检测\r\n    TYPE_HB: 'heart_beat',\r\n    // 消息类型：通用数据传递\r\n    TYPE_CSD: 'common_send_date',\r\n    // 消息类型：更新vxe table数据\r\n    TYPE_UVT: 'update_vxe_table',\r\n  },\r\n  // 心跳检测\r\n  heartCheck: {\r\n    // 间隔时间，间隔多久发送一次心跳消息\r\n    interval: 10000,\r\n    // 心跳消息超时时间，心跳消息多久没有回复后重连\r\n    timeout: 6000,\r\n    timeoutTimer: null,\r\n    clear() {\r\n      clearTimeout(this.timeoutTimer)\r\n      return this\r\n    },\r\n    start() {\r\n      vs.sendMessage(vs.constants.TYPE_HB, '')\r\n      // 如果超过一定时间还没重置，说明后端主动断开了\r\n      this.timeoutTimer = window.setTimeout(() => {\r\n        vs.reconnect()\r\n      }, this.timeout)\r\n      return this\r\n    },\r\n    // 心跳消息返回\r\n    back() {\r\n      this.clear()\r\n      window.setTimeout(() => this.start(), this.interval)\r\n    },\r\n  },\r\n\r\n  /** 初始化 WebSocket */\r\n  initialWebSocket() {\r\n    if (this.ws === null) {\r\n      const userId = store.getters.userInfo.id\r\n      const domain = window._CONFIG['domianURL'].replace('https://', 'wss://').replace('http://', 'ws://')\r\n      const url = `${domain}/vxeSocket/${userId}/${this.pageId}`\r\n\r\n      this.ws = new WebSocket(url)\r\n      this.ws.onopen = this.on.open.bind(this)\r\n      this.ws.onerror = this.on.error.bind(this)\r\n      this.ws.onmessage = this.on.message.bind(this)\r\n      this.ws.onclose = this.on.close.bind(this)\r\n\r\n      console.log('this.ws: ', this.ws)\r\n    }\r\n  },\r\n\r\n  // 发送消息\r\n  sendMessage(type, message) {\r\n    try {\r\n      let ws = this.ws\r\n      if (ws != null && ws.readyState === ws.OPEN) {\r\n        ws.send(JSON.stringify({\r\n          type: type,\r\n          data: message\r\n        }))\r\n      }\r\n    } catch (err) {\r\n      console.warn('【VXEWebSocket】发送消息失败：(' + err.code + ')')\r\n    }\r\n  },\r\n\r\n  /** 绑定全局VXE表格 */\r\n  tableMap: new Map(),\r\n  CSDMap: new Map(),\r\n  /** 添加绑定 */\r\n  addBind(map, key, value) {\r\n    let binds = map.get(key)\r\n    if (Array.isArray(binds)) {\r\n      binds.push(value)\r\n    } else {\r\n      map.set(key, [value])\r\n    }\r\n  },\r\n  /** 移除绑定 */\r\n  removeBind(map, key, value) {\r\n    let binds = map.get(key)\r\n    if (Array.isArray(binds)) {\r\n      for (let i = 0; i < binds.length; i++) {\r\n        let bind = binds[i]\r\n        if (bind === value) {\r\n          binds.splice(i, 1)\r\n          break\r\n        }\r\n      }\r\n      if (binds.length === 0) {\r\n        map.delete(key)\r\n      }\r\n    } else {\r\n      map.delete(key)\r\n    }\r\n  },\r\n  // 呼叫绑定的表单\r\n  callBind(map, key, callback) {\r\n    let binds = map.get(key)\r\n    if (Array.isArray(binds)) {\r\n      binds.forEach(callback)\r\n    }\r\n  },\r\n\r\n  lockReconnect: false,\r\n  /** 尝试重连 */\r\n  reconnect() {\r\n    if (this.lockReconnect) return\r\n    this.lockReconnect = true\r\n    setTimeout(() => {\r\n      if (this.ws && this.ws.close) {\r\n        this.ws.close()\r\n      }\r\n      this.ws = null\r\n      console.info('【VXEWebSocket】尝试重连...')\r\n      this.initialWebSocket()\r\n      this.lockReconnect = false\r\n    }, 5000)\r\n  },\r\n\r\n  on: {\r\n    open() {\r\n      console.log('【VXEWebSocket】连接成功')\r\n      this.heartCheck.start()\r\n    },\r\n    error(e) {\r\n      console.warn('【VXEWebSocket】连接发生错误:', e)\r\n      this.reconnect()\r\n    },\r\n    message(e) {\r\n      // 解析消息\r\n      let json\r\n      try {\r\n        json = JSON.parse(e.data)\r\n      } catch (e) {\r\n        console.warn('【VXEWebSocket】收到无法解析的消息:', e.data)\r\n        return\r\n      }\r\n      let type = json[this.constants.TYPE]\r\n      let data = json[this.constants.DATA]\r\n      switch (type) {\r\n        // 心跳检测\r\n        case this.constants.TYPE_HB:\r\n          this.heartCheck.back()\r\n          break\r\n        // 通用数据传递\r\n        case this.constants.TYPE_CSD:\r\n          this.callBind(this.CSDMap, data.key, (fn) => fn.apply(this, data.args))\r\n          break\r\n        // 更新form数据\r\n        case this.constants.TYPE_UVT:\r\n          this.callBind(this.tableMap, data.socketKey, (vm) => this.onVM['onUpdateTable'].apply(vm, data.args))\r\n          break\r\n        default:\r\n          console.warn('【VXEWebSocket】收到不识别的消息类型:' + type)\r\n          break\r\n      }\r\n    },\r\n    close(e) {\r\n      console.log('【VXEWebSocket】连接被关闭:', e)\r\n      this.reconnect()\r\n    },\r\n  },\r\n\r\n  onVM: {\r\n    /** 收到更新表格的消息 */\r\n    onUpdateTable(row, caseId) {\r\n      // 判断是不是自己发的消息\r\n      if (this.caseId !== caseId) {\r\n        const tableRow = this.getIfRowById(row.id).row\r\n        // 局部保更新数据\r\n        if (tableRow) {\r\n          // 特殊处理拖轮状态\r\n          if (row['tug_status'] && tableRow['tug_status']) {\r\n            row['tug_status'] = Object.assign({}, tableRow['tug_status'], row['tug_status'])\r\n          }\r\n          // 判断是否启用重载特效\r\n          if (this.reloadEffect) {\r\n            this.$set(this.reloadEffectRowKeysMap, row.id, true)\r\n          }\r\n          Object.keys(row).forEach(key => {\r\n            if (key !== 'id') {\r\n              this.$set(tableRow, key, row[key])\r\n            }\r\n          })\r\n          this.$refs.vxe.reloadRow(tableRow)\r\n        }\r\n      }\r\n    },\r\n  },\r\n\r\n}\r\n\r\nexport default {\r\n  props: {\r\n    // 是否开启使用 webSocket 无痕刷新\r\n    socketReload: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    socketKey: {\r\n      type: String,\r\n      default: 'vxe-default'\r\n    },\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  mounted() {\r\n    if (this.socketReload) {\r\n      vs.initialWebSocket()\r\n      vs.addBind(vs.tableMap, this.socketKey, this)\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    /** 发送socket消息更新行 */\r\n    socketSendUpdateRow(row) {\r\n      vs.sendMessage(vs.constants.TYPE_UVT, {\r\n        socketKey: this.socketKey,\r\n        args: [row, this.caseId],\r\n      })\r\n    },\r\n\r\n  },\r\n  beforeDestroy() {\r\n    vs.removeBind(vs.tableMap, this.socketKey, this)\r\n  },\r\n}\r\n\r\n/**\r\n * 添加WebSocket通用数据传递绑定，相同的key可以添加多个方法绑定\r\n * @param key 唯一key\r\n * @param fn 当消息来的时候触发的回调方法\r\n */\r\nexport function addBindSocketCSD(key, fn) {\r\n  if (typeof fn === 'function') {\r\n    vs.addBind(vs.CSDMap, key, fn)\r\n  }\r\n}\r\n\r\n/**\r\n * 移除WebSocket通用数据传递绑定\r\n * @param key 唯一key\r\n * @param fn 要移除的方法，必须和添加时的方法内存层面上保持一致才可以正确移除\r\n */\r\nexport function removeBindSocketCSD(key, fn) {\r\n  if (typeof fn === 'function') {\r\n    vs.removeBind(vs.CSDMap, key, fn)\r\n  }\r\n}\r\n"]}]}