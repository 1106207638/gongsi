{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\src\\components\\tools\\setting.js","dependencies":[{"path":"D:\\vue\\src\\components\\tools\\setting.js","mtime":1615948816708},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudC1kZXNpZ24tdnVlL2VzJzsgLy8gaW1wb3J0IGRlZmF1bHRTZXR0aW5ncyBmcm9tICcuLi9kZWZhdWx0U2V0dGluZ3MnOwoKdmFyIGxlc3NOb2Rlc0FwcGVuZGVkOwp2YXIgY29sb3JMaXN0ID0gW3sKICBrZXk6ICfoloTmmq4nLAogIGNvbG9yOiAnI0Y1MjIyRCcKfSwgewogIGtleTogJ+eBq+WxsScsCiAgY29sb3I6ICcjRkE1NDFDJwp9LCB7CiAga2V5OiAn5pel5pquJywKICBjb2xvcjogJyNGQUFEMTQnCn0sIHsKICBrZXk6ICfmmI7pnZInLAogIGNvbG9yOiAnIzEzQzJDMicKfSwgewogIGtleTogJ+aegeWFiee7vycsCiAgY29sb3I6ICcjNTJDNDFBJwp9LCB7CiAga2V5OiAn5ouC5pmT6JOd77yI6buY6K6k77yJJywKICBjb2xvcjogJyMxODkwRkYnCn0sIHsKICBrZXk6ICfmnoHlrqLok50nLAogIGNvbG9yOiAnIzJGNTRFQicKfSwgewogIGtleTogJ+mFsee0qycsCiAgY29sb3I6ICcjNzIyRUQxJwp9XTsKCnZhciB1cGRhdGVUaGVtZSA9IGZ1bmN0aW9uIHVwZGF0ZVRoZW1lKHByaW1hcnlDb2xvcikgewogIC8vIERvbid0IGNvbXBpbGUgbGVzcyBpbiBwcm9kdWN0aW9uIQoKICAvKiBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykgew0KICAgIHJldHVybjsNCiAgfSAqLwogIC8vIERldGVybWluZSBpZiB0aGUgY29tcG9uZW50IGlzIHJlbW91bnRlZAogIGlmICghcHJpbWFyeUNvbG9yKSB7CiAgICByZXR1cm47CiAgfQoKICB2YXIgaGlkZU1lc3NhZ2UgPSBtZXNzYWdlLmxvYWRpbmcoJ+ato+WcqOe8luivkeS4u+mimO+8gScsIDApOwogIGNvbnNvbGUuaW5mbygiXHU2QjYzXHU1NzI4XHU3RjE2XHU4QkQxXHU0RTNCXHU5ODk4ISIpOwoKICBmdW5jdGlvbiBidWlsZEl0KCkgewogICAgLy8g5q2j56Gu55qE5Yik5a6abGVzc+aYr+WQpuW3sue7j+WKoOi9vWxlc3MubW9kaWZ5VmFyc+WPr+eUqAogICAgaWYgKCF3aW5kb3cubGVzcyB8fCAhd2luZG93Lmxlc3MubW9kaWZ5VmFycykgewogICAgICByZXR1cm47CiAgICB9IC8vIGxlc3MubW9kaWZ5VmFyc+WPr+eUqAoKCiAgICB3aW5kb3cubGVzcy5tb2RpZnlWYXJzKHsKICAgICAgJ0BwcmltYXJ5LWNvbG9yJzogcHJpbWFyeUNvbG9yCiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgaGlkZU1lc3NhZ2UoKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgbWVzc2FnZS5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSB0aGVtZScpOwogICAgICBoaWRlTWVzc2FnZSgpOwogICAgfSk7CiAgfQoKICBpZiAoIWxlc3NOb2Rlc0FwcGVuZGVkKSB7CiAgICAvLyBpbnNlcnQgbGVzcy5qcyBhbmQgY29sb3IubGVzcwogICAgdmFyIGxlc3NTdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7CiAgICB2YXIgbGVzc0NvbmZpZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgIHZhciBsZXNzU2NyaXB0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgbGVzc1N0eWxlTm9kZS5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdzdHlsZXNoZWV0L2xlc3MnKTsKICAgIGxlc3NTdHlsZU5vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyAnY29sb3IubGVzcycpOwogICAgbGVzc0NvbmZpZ05vZGUuaW5uZXJIVE1MID0gIlxuICAgICAgd2luZG93Lmxlc3MgPSB7XG4gICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICBlbnY6ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgamF2YXNjcmlwdEVuYWJsZWQ6IHRydWVcbiAgICAgIH07XG4gICAgIjsKICAgIGxlc3NTY3JpcHROb2RlLnNyYyA9ICdodHRwczovL2d3LmFsaXBheW9iamVjdHMuY29tL29zL2xpYi9sZXNzLmpzLzMuOC4xL2xlc3MubWluLmpzJzsKICAgIGxlc3NTY3JpcHROb2RlLmFzeW5jID0gdHJ1ZTsKCiAgICBsZXNzU2NyaXB0Tm9kZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGJ1aWxkSXQoKTsKICAgICAgbGVzc1NjcmlwdE5vZGUub25sb2FkID0gbnVsbDsKICAgIH07CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsZXNzU3R5bGVOb2RlKTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGVzc0NvbmZpZ05vZGUpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsZXNzU2NyaXB0Tm9kZSk7CiAgICBsZXNzTm9kZXNBcHBlbmRlZCA9IHRydWU7CiAgfSBlbHNlIHsKICAgIGJ1aWxkSXQoKTsKICB9Cn07Cgp2YXIgdXBkYXRlQ29sb3JXZWFrID0gZnVuY3Rpb24gdXBkYXRlQ29sb3JXZWFrKGNvbG9yV2VhaykgewogIC8vIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gY29sb3JXZWFrID8gJ2NvbG9yV2VhaycgOiAnJzsKICBjb2xvcldlYWsgPyBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2NvbG9yV2VhaycpIDogZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdjb2xvcldlYWsnKTsKfTsKCmV4cG9ydCB7IHVwZGF0ZVRoZW1lLCBjb2xvckxpc3QsIHVwZGF0ZUNvbG9yV2VhayB9Ow=="},{"version":3,"sources":["D:/vue/src/components/tools/setting.js"],"names":["message","lessNodesAppended","colorList","key","color","updateTheme","primaryColor","hideMessage","loading","console","info","buildIt","window","less","modifyVars","then","catch","error","lessStyleNode","document","createElement","lessConfigNode","lessScriptNode","setAttribute","__webpack_public_path__","innerHTML","src","async","onload","body","appendChild","updateColorWeak","colorWeak","classList","add","remove"],"mappings":"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","sourcesContent":["import { message } from 'ant-design-vue/es';\r\n// import defaultSettings from '../defaultSettings';\r\n\r\nlet lessNodesAppended;\r\n\r\nconst colorList = [\r\n  {\r\n    key: '薄暮', color: '#F5222D',\r\n  },\r\n  {\r\n    key: '火山', color: '#FA541C',\r\n  },\r\n  {\r\n    key: '日暮', color: '#FAAD14',\r\n  },\r\n  {\r\n    key: '明青', color: '#13C2C2',\r\n  },\r\n  {\r\n    key: '极光绿', color: '#52C41A',\r\n  },\r\n  {\r\n    key: '拂晓蓝（默认）', color: '#1890FF',\r\n  },\r\n  {\r\n    key: '极客蓝', color: '#2F54EB',\r\n  },\r\n  {\r\n    key: '酱紫', color: '#722ED1',\r\n  },\r\n];\r\n\r\nconst updateTheme = primaryColor => {\r\n  // Don't compile less in production!\r\n  /* if (process.env.NODE_ENV === 'production') {\r\n    return;\r\n  } */\r\n  // Determine if the component is remounted\r\n  if (!primaryColor) {\r\n    return;\r\n  }\r\n  const hideMessage = message.loading('正在编译主题！', 0);\r\n  console.info(`正在编译主题!`)\r\n  function buildIt() {\r\n    // 正确的判定less是否已经加载less.modifyVars可用\r\n    if (!window.less || !window.less.modifyVars) {\r\n      return;\r\n    }\r\n    // less.modifyVars可用\r\n    window.less.modifyVars({\r\n        '@primary-color': primaryColor,\r\n      })\r\n      .then(() => {\r\n        hideMessage();\r\n      })\r\n      .catch(() => {\r\n        message.error('Failed to update theme');\r\n        hideMessage();\r\n      });\r\n  }\r\n  if (!lessNodesAppended) {\r\n    // insert less.js and color.less\r\n    const lessStyleNode = document.createElement('link');\r\n    const lessConfigNode = document.createElement('script');\r\n    const lessScriptNode = document.createElement('script');\r\n    lessStyleNode.setAttribute('rel', 'stylesheet/less');\r\n    lessStyleNode.setAttribute('href', __webpack_public_path__ + 'color.less')\r\n    lessConfigNode.innerHTML = `\r\n      window.less = {\r\n        async: true,\r\n        env: 'production',\r\n        javascriptEnabled: true\r\n      };\r\n    `;\r\n    lessScriptNode.src = 'https://gw.alipayobjects.com/os/lib/less.js/3.8.1/less.min.js';\r\n    lessScriptNode.async = true;\r\n    lessScriptNode.onload = () => {\r\n      buildIt();\r\n      lessScriptNode.onload = null;\r\n    };\r\n    document.body.appendChild(lessStyleNode);\r\n    document.body.appendChild(lessConfigNode);\r\n    document.body.appendChild(lessScriptNode);\r\n    lessNodesAppended = true;\r\n  } else {\r\n    buildIt();\r\n  }\r\n};\r\n\r\nconst updateColorWeak = colorWeak => {\r\n  // document.body.className = colorWeak ? 'colorWeak' : '';\r\n  colorWeak ? document.body.classList.add('colorWeak') : document.body.classList.remove('colorWeak')\r\n};\r\n\r\nexport { updateTheme, colorList, updateColorWeak }"]}]}