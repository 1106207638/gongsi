{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\jeecg\\minipop\\JFilePop.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\jeecg\\minipop\\JFilePop.vue","mtime":1615948814849},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEpVcGxvYWQgZnJvbSAnQC9jb21wb25lbnRzL2plZWNnL0pVcGxvYWQnOwppbXBvcnQgeyBnZXRGaWxlQWNjZXNzSHR0cFVybCB9IGZyb20gJ0AvYXBpL21hbmFnZSc7Cgp2YXIgZ2V0RmlsZU5hbWUgPSBmdW5jdGlvbiBnZXRGaWxlTmFtZShwYXRoKSB7CiAgaWYgKHBhdGgubGFzdEluZGV4T2YoIlxcIikgPj0gMCkgewogICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoIlxcXFwiLCAiZyIpOwogICAgcGF0aCA9IHBhdGgucmVwbGFjZShyZWcsICIvIik7CiAgfQoKICByZXR1cm4gcGF0aC5zdWJzdHJpbmcocGF0aC5sYXN0SW5kZXhPZigiLyIpICsgMSk7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0pGaWxlUG9wJywKICBjb21wb25lbnRzOiB7CiAgICBKVXBsb2FkOiBKVXBsb2FkCiAgfSwKICBwcm9wczogewogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgcG9zaXRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncmlnaHQnLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNTIwLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICBwb3BDb250YWluZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIG51bWJlcjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogMAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBmaWxlUGF0aDogJycsCiAgICAgIGlkOiAnJywKICAgICAgZmlsZVR5cGU6ICdmaWxlJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHRoaXMuZmlsZVBhdGggPSB2YWx1ZTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KGlkLCB2YWx1ZSwgZmxhZykgewogICAgICB0aGlzLmlkID0gaWQ7CiAgICAgIHRoaXMuZmlsZVBhdGggPSB2YWx1ZTsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKCiAgICAgIGlmIChmbGFnID09PSAnaW1nJykgewogICAgICAgIHRoaXMuZmlsZVR5cGUgPSAnaW1hZ2UnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsZVR5cGUgPSAnZmlsZSc7CiAgICAgIH0KICAgIH0sCiAgICBvazogZnVuY3Rpb24gb2soKSB7CiAgICAgIGlmICghdGhpcy5maWxlUGF0aCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuacquS4iuS8oOS7u+S9leaWh+S7tiIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIGFyciA9IHRoaXMuZmlsZVBhdGguc3BsaXQoIiwiKTsKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICBuYW1lOiBnZXRGaWxlTmFtZShhcnJbMF0pLAogICAgICAgIHVybDogZ2V0RmlsZUFjY2Vzc0h0dHBVcmwoYXJyWzBdKSwKICAgICAgICBwYXRoOiB0aGlzLmZpbGVQYXRoLAogICAgICAgIHN0YXR1czogJ2RvbmUnLAogICAgICAgIGlkOiB0aGlzLmlkCiAgICAgIH07CiAgICAgIHRoaXMuJGVtaXQoJ29rJywgb2JqKTsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["JFilePop.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <a-modal\r\n      :title=\"fileType === 'image' ? '图片上传' : '文件上传'\"\r\n      :width=\"width\"\r\n      :visible=\"visible\"\r\n      @ok=\"ok\"\r\n      cancelText=\"取消\"\r\n      @cancel=\"close\">\r\n      <!--style=\"top: 20px;\"-->\r\n      <j-upload :file-type=\"fileType\" :value=\"filePath\" @change=\"handleChange\" :disabled=\"disabled\" :number=\"number\"></j-upload>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import JUpload from '@/components/jeecg/JUpload'\r\n  import { getFileAccessHttpUrl } from '@/api/manage';\r\n\r\n  const getFileName=(path)=>{\r\n    if(path.lastIndexOf(\"\\\\\")>=0){\r\n      let reg=new RegExp(\"\\\\\\\\\",\"g\");\r\n      path = path.replace(reg,\"/\");\r\n    }\r\n    return path.substring(path.lastIndexOf(\"/\")+1);\r\n  }\r\n\r\n  export default {\r\n    name: 'JFilePop',\r\n    components: { JUpload },\r\n    props:{\r\n      title:{\r\n        type:String,\r\n        default:'',\r\n        required:false\r\n      },\r\n      position:{\r\n        type:String,\r\n        default:'right',\r\n        required:false\r\n      },\r\n      height:{\r\n        type:Number,\r\n        default:200,\r\n        required:false\r\n      },\r\n      width:{\r\n        type:Number,\r\n        default:520,\r\n        required:false\r\n      },\r\n\r\n      popContainer:{\r\n        type:String,\r\n        default:'',\r\n        required:false\r\n      },\r\n      disabled:{\r\n        type:Boolean,\r\n        default:false,\r\n        required:false\r\n      },\r\n      number:{\r\n        type:Number,\r\n        required:false,\r\n        default: 0\r\n      }\r\n    },\r\n    data(){\r\n      return {\r\n        visible:false,\r\n        filePath:'',\r\n        id:'',\r\n        fileType:'file'\r\n\r\n      }\r\n    },\r\n    methods:{\r\n      handleChange(value){\r\n        this.filePath = value;\r\n      },\r\n      show(id,value,flag){\r\n        this.id = id;\r\n        this.filePath = value;\r\n        this.visible=true\r\n        if(flag === 'img'){\r\n          this.fileType = 'image'\r\n        }else{\r\n          this.fileType = 'file'\r\n        }\r\n\r\n      },\r\n      ok(){\r\n        if(!this.filePath){\r\n          this.$message.error(\"未上传任何文件\")\r\n          return false;\r\n        }\r\n        let arr = this.filePath.split(\",\")\r\n        let obj = {\r\n          name:getFileName(arr[0]),\r\n          url:getFileAccessHttpUrl(arr[0]),\r\n          path:this.filePath,\r\n          status: 'done',\r\n          id:this.id\r\n        }\r\n        this.$emit('ok',obj)\r\n        this.visible=false\r\n      },\r\n      close(){\r\n        this.visible=false\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components/jeecg/minipop"}]}