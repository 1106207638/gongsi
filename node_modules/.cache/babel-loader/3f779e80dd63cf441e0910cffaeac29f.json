{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\vue\\src\\store\\modules\\user.js","mtime":1615948817006},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBsb2dpbiwgbG9nb3V0LCBwaG9uZUxvZ2luLCB0aGlyZExvZ2luIH0gZnJvbSAiQC9hcGkvbG9naW4iOwppbXBvcnQgeyBBQ0NFU1NfVE9LRU4sIFVTRVJfTkFNRSwgVVNFUl9JTkZPLCBVU0VSX0FVVEgsIFNZU19CVVRUT05fQVVUSCwgVUlfQ0FDSEVfREJfRElDVF9EQVRBLCBURU5BTlRfSUQsIENBQ0hFX0lOQ0xVREVEX1JPVVRFUyB9IGZyb20gIkAvc3RvcmUvbXV0YXRpb24tdHlwZXMiOwppbXBvcnQgeyB3ZWxjb21lIH0gZnJvbSAiQC91dGlscy91dGlsIjsKaW1wb3J0IHsgcXVlcnlQZXJtaXNzaW9uc0J5VXNlciB9IGZyb20gJ0AvYXBpL2FwaSc7CmltcG9ydCB7IGdldEFjdGlvbiB9IGZyb20gJ0AvYXBpL21hbmFnZSc7CnZhciB1c2VyID0gewogIHN0YXRlOiB7CiAgICB0b2tlbjogJycsCiAgICB1c2VybmFtZTogJycsCiAgICByZWFsbmFtZTogJycsCiAgICB0ZW5hbnRpZDogJycsCiAgICB3ZWxjb21lOiAnJywKICAgIGF2YXRhcjogJycsCiAgICBwZXJtaXNzaW9uTGlzdDogW10sCiAgICBpbmZvOiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIH0sCiAgICBTRVRfTkFNRTogZnVuY3Rpb24gU0VUX05BTUUoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIHVzZXJuYW1lID0gX3JlZi51c2VybmFtZSwKICAgICAgICAgIHJlYWxuYW1lID0gX3JlZi5yZWFsbmFtZSwKICAgICAgICAgIHdlbGNvbWUgPSBfcmVmLndlbGNvbWU7CiAgICAgIHN0YXRlLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgICAgIHN0YXRlLnJlYWxuYW1lID0gcmVhbG5hbWU7CiAgICAgIHN0YXRlLndlbGNvbWUgPSB3ZWxjb21lOwogICAgfSwKICAgIFNFVF9BVkFUQVI6IGZ1bmN0aW9uIFNFVF9BVkFUQVIoc3RhdGUsIGF2YXRhcikgewogICAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgICB9LAogICAgU0VUX1BFUk1JU1NJT05MSVNUOiBmdW5jdGlvbiBTRVRfUEVSTUlTU0lPTkxJU1Qoc3RhdGUsIHBlcm1pc3Npb25MaXN0KSB7CiAgICAgIHN0YXRlLnBlcm1pc3Npb25MaXN0ID0gcGVybWlzc2lvbkxpc3Q7CiAgICB9LAogICAgU0VUX0lORk86IGZ1bmN0aW9uIFNFVF9JTkZPKHN0YXRlLCBpbmZvKSB7CiAgICAgIHN0YXRlLmluZm8gPSBpbmZvOwogICAgfSwKICAgIFNFVF9URU5BTlQ6IGZ1bmN0aW9uIFNFVF9URU5BTlQoc3RhdGUsIGlkKSB7CiAgICAgIHN0YXRlLnRlbmFudGlkID0gaWQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyBDQVPpqozor4HnmbvlvZUKICAgIFZhbGlkYXRlTG9naW46IGZ1bmN0aW9uIFZhbGlkYXRlTG9naW4oX3JlZjIsIHVzZXJJbmZvKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZ2V0QWN0aW9uKCIvc3lzL2Nhcy9jbGllbnQvdmFsaWRhdGVMb2dpbiIsIHVzZXJJbmZvKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2coIi0tLS1jYXMg55m75b2VLS0tLS0tLS0iLCByZXNwb25zZSk7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLnJlc3VsdDsKICAgICAgICAgICAgdmFyIF91c2VySW5mbyA9IHJlc3VsdC51c2VySW5mbzsKICAgICAgICAgICAgVnVlLmxzLnNldChBQ0NFU1NfVE9LRU4sIHJlc3VsdC50b2tlbiwgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOwogICAgICAgICAgICBWdWUubHMuc2V0KFVTRVJfTkFNRSwgX3VzZXJJbmZvLnVzZXJuYW1lLCA3ICogMjQgKiA2MCAqIDYwICogMTAwMCk7CiAgICAgICAgICAgIFZ1ZS5scy5zZXQoVVNFUl9JTkZPLCBfdXNlckluZm8sIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCByZXN1bHQudG9rZW4pOwogICAgICAgICAgICBjb21taXQoJ1NFVF9JTkZPJywgX3VzZXJJbmZvKTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIHsKICAgICAgICAgICAgICB1c2VybmFtZTogX3VzZXJJbmZvLnVzZXJuYW1lLAogICAgICAgICAgICAgIHJlYWxuYW1lOiBfdXNlckluZm8ucmVhbG5hbWUsCiAgICAgICAgICAgICAgd2VsY29tZTogd2VsY29tZSgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb21taXQoJ1NFVF9BVkFUQVInLCBfdXNlckluZm8uYXZhdGFyKTsKICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeZu+W9lQogICAgTG9naW46IGZ1bmN0aW9uIExvZ2luKF9yZWYzLCB1c2VySW5mbykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGxvZ2luKHVzZXJJbmZvKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gJzIwMCcpIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLnJlc3VsdDsKICAgICAgICAgICAgdmFyIF91c2VySW5mbzIgPSByZXN1bHQudXNlckluZm87CiAgICAgICAgICAgIFZ1ZS5scy5zZXQoQUNDRVNTX1RPS0VOLCByZXN1bHQudG9rZW4sIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgICAgVnVlLmxzLnNldChVU0VSX05BTUUsIF91c2VySW5mbzIudXNlcm5hbWUsIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgICAgVnVlLmxzLnNldChVU0VSX0lORk8sIF91c2VySW5mbzIsIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgICAgVnVlLmxzLnNldChVSV9DQUNIRV9EQl9ESUNUX0RBVEEsIHJlc3VsdC5zeXNBbGxEaWN0SXRlbXMsIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCByZXN1bHQudG9rZW4pOwogICAgICAgICAgICBjb21taXQoJ1NFVF9JTkZPJywgX3VzZXJJbmZvMik7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX05BTUUnLCB7CiAgICAgICAgICAgICAgdXNlcm5hbWU6IF91c2VySW5mbzIudXNlcm5hbWUsCiAgICAgICAgICAgICAgcmVhbG5hbWU6IF91c2VySW5mbzIucmVhbG5hbWUsCiAgICAgICAgICAgICAgd2VsY29tZTogd2VsY29tZSgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb21taXQoJ1NFVF9BVkFUQVInLCBfdXNlckluZm8yLmF2YXRhcik7CiAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5omL5py65Y+355m75b2VCiAgICBQaG9uZUxvZ2luOiBmdW5jdGlvbiBQaG9uZUxvZ2luKF9yZWY0LCB1c2VySW5mbykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHBob25lTG9naW4odXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAnMjAwJykgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UucmVzdWx0OwogICAgICAgICAgICB2YXIgX3VzZXJJbmZvMyA9IHJlc3VsdC51c2VySW5mbzsKICAgICAgICAgICAgVnVlLmxzLnNldChBQ0NFU1NfVE9LRU4sIHJlc3VsdC50b2tlbiwgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOwogICAgICAgICAgICBWdWUubHMuc2V0KFVTRVJfTkFNRSwgX3VzZXJJbmZvMy51c2VybmFtZSwgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOwogICAgICAgICAgICBWdWUubHMuc2V0KFVTRVJfSU5GTywgX3VzZXJJbmZvMywgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOwogICAgICAgICAgICBWdWUubHMuc2V0KFVJX0NBQ0hFX0RCX0RJQ1RfREFUQSwgcmVzdWx0LnN5c0FsbERpY3RJdGVtcywgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOwogICAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIHJlc3VsdC50b2tlbik7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX0lORk8nLCBfdXNlckluZm8zKTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIHsKICAgICAgICAgICAgICB1c2VybmFtZTogX3VzZXJJbmZvMy51c2VybmFtZSwKICAgICAgICAgICAgICByZWFsbmFtZTogX3VzZXJJbmZvMy5yZWFsbmFtZSwKICAgICAgICAgICAgICB3ZWxjb21lOiB3ZWxjb21lKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX0FWQVRBUicsIF91c2VySW5mbzMuYXZhdGFyKTsKICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W55So5oi35L+h5oGvCiAgICBHZXRQZXJtaXNzaW9uTGlzdDogZnVuY3Rpb24gR2V0UGVybWlzc2lvbkxpc3QoX3JlZjUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBxdWVyeVBlcm1pc3Npb25zQnlVc2VyKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBtZW51RGF0YSA9IHJlc3BvbnNlLnJlc3VsdC5tZW51OwogICAgICAgICAgdmFyIGF1dGhEYXRhID0gcmVzcG9uc2UucmVzdWx0LmF1dGg7CiAgICAgICAgICB2YXIgYWxsQXV0aERhdGEgPSByZXNwb25zZS5yZXN1bHQuYWxsQXV0aDsgLy9WdWUubHMuc2V0KFVTRVJfQVVUSCxhdXRoRGF0YSk7CgogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShVU0VSX0FVVEgsIEpTT04uc3RyaW5naWZ5KGF1dGhEYXRhKSk7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNZU19CVVRUT05fQVVUSCwgSlNPTi5zdHJpbmdpZnkoYWxsQXV0aERhdGEpKTsKCiAgICAgICAgICBpZiAobWVudURhdGEgJiYgbWVudURhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAvL3VwZGF0ZS0tYmVnaW4tLWF1dG9yOnFpbmZlbmctLS0tLWRhdGU6MjAyMDAxMDktLS0tLS1mb3LvvJpKRUVDRy02MyDkuIDnuqfoj5zljZXnmoTlrZDoj5zljZXlhajpg6jmmK/pmpDol4/ot6/nlLHvvIzliJnkuIDnuqfoj5zljZXkuI3mmL7npLotLS0tLS0KICAgICAgICAgICAgbWVudURhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICBpZiAoaXRlbVsiY2hpbGRyZW4iXSkgewogICAgICAgICAgICAgICAgdmFyIGhhc0NoaWxkcmVuTWVudSA9IGl0ZW1bImNoaWxkcmVuIl0uZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiAhaS5oaWRkZW4gfHwgaS5oaWRkZW4gPT0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoaGFzQ2hpbGRyZW5NZW51ID09IG51bGwgfHwgaGFzQ2hpbGRyZW5NZW51Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW1bImhpZGRlbiJdID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOyAvL2NvbnNvbGUubG9nKCIgbWVudSBzaG93IGpzb24gIiwgbWVudURhdGEpCiAgICAgICAgICAgIC8vdXBkYXRlLS1lbmQtLWF1dG9yOnFpbmZlbmctLS0tLWRhdGU6MjAyMDAxMDktLS0tLS1mb3LvvJpKRUVDRy02MyDkuIDnuqfoj5zljZXnmoTlrZDoj5zljZXlhajpg6jmmK/pmpDol4/ot6/nlLHvvIzliJnkuIDnuqfoj5zljZXkuI3mmL7npLotLS0tLS0KCiAgICAgICAgICAgIGNvbW1pdCgnU0VUX1BFUk1JU1NJT05MSVNUJywgbWVudURhdGEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KCdnZXRQZXJtaXNzaW9uTGlzdDogcGVybWlzc2lvbnMgbXVzdCBiZSBhIG5vbi1udWxsIGFycmF5ICEnKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeZu+WHugogICAgTG9nb3V0OiBmdW5jdGlvbiBMb2dvdXQoX3JlZjYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjYuc3RhdGU7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHZhciBsb2dvdXRUb2tlbiA9IHN0YXRlLnRva2VuOwogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpOwogICAgICAgIGNvbW1pdCgnU0VUX1BFUk1JU1NJT05MSVNUJywgW10pOwogICAgICAgIFZ1ZS5scy5yZW1vdmUoQUNDRVNTX1RPS0VOKTsKICAgICAgICBWdWUubHMucmVtb3ZlKFVJX0NBQ0hFX0RCX0RJQ1RfREFUQSk7CiAgICAgICAgVnVlLmxzLnJlbW92ZShDQUNIRV9JTkNMVURFRF9ST1VURVMpOyAvL2NvbnNvbGUubG9nKCdsb2dvdXRUb2tlbjogJysgbG9nb3V0VG9rZW4pCgogICAgICAgIGxvZ291dChsb2dvdXRUb2tlbikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuVlVFX0FQUF9TU08gPT0gJ3RydWUnKSB7CiAgICAgICAgICAgIHZhciBzZXZpY2UgPSAnaHR0cDovLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvJzsKICAgICAgICAgICAgdmFyIHNlcnZpY2VVcmwgPSBlbmNvZGVVUklDb21wb25lbnQoc2V2aWNlKTsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0NBU19CQVNFX1VSTCArICcvbG9nb3V0P3NlcnZpY2U9JyArIHNlcnZpY2VVcmw7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g56ys5LiJ5pa555m75b2VCiAgICBUaGlyZExvZ2luOiBmdW5jdGlvbiBUaGlyZExvZ2luKF9yZWY3LCBwYXJhbSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjcuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHRoaXJkTG9naW4ocGFyYW0udG9rZW4sIHBhcmFtLnRoaXJkVHlwZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09ICcyMDAnKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5yZXN1bHQ7CiAgICAgICAgICAgIHZhciB1c2VySW5mbyA9IHJlc3VsdC51c2VySW5mbzsKICAgICAgICAgICAgVnVlLmxzLnNldChBQ0NFU1NfVE9LRU4sIHJlc3VsdC50b2tlbiwgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOwogICAgICAgICAgICBWdWUubHMuc2V0KFVTRVJfTkFNRSwgdXNlckluZm8udXNlcm5hbWUsIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgICAgVnVlLmxzLnNldChVU0VSX0lORk8sIHVzZXJJbmZvLCA3ICogMjQgKiA2MCAqIDYwICogMTAwMCk7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzdWx0LnRva2VuKTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfSU5GTycsIHVzZXJJbmZvKTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIHsKICAgICAgICAgICAgICB1c2VybmFtZTogdXNlckluZm8udXNlcm5hbWUsCiAgICAgICAgICAgICAgcmVhbG5hbWU6IHVzZXJJbmZvLnJlYWxuYW1lLAogICAgICAgICAgICAgIHdlbGNvbWU6IHdlbGNvbWUoKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfQVZBVEFSJywgdXNlckluZm8uYXZhdGFyKTsKICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVRlbmFudDogZnVuY3Rpb24gc2F2ZVRlbmFudChfcmVmOCwgaWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICAgICAgVnVlLmxzLnNldChURU5BTlRfSUQsIGlkLCA3ICogMjQgKiA2MCAqIDYwICogMTAwMCk7CiAgICAgIGNvbW1pdCgnU0VUX1RFTkFOVCcsIGlkKTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHVzZXI7"},{"version":3,"sources":["D:/vue/src/store/modules/user.js"],"names":["Vue","login","logout","phoneLogin","thirdLogin","ACCESS_TOKEN","USER_NAME","USER_INFO","USER_AUTH","SYS_BUTTON_AUTH","UI_CACHE_DB_DICT_DATA","TENANT_ID","CACHE_INCLUDED_ROUTES","welcome","queryPermissionsByUser","getAction","user","state","token","username","realname","tenantid","avatar","permissionList","info","mutations","SET_TOKEN","SET_NAME","SET_AVATAR","SET_PERMISSIONLIST","SET_INFO","SET_TENANT","id","actions","ValidateLogin","userInfo","commit","Promise","resolve","reject","then","response","console","log","success","result","ls","set","catch","error","Login","code","sysAllDictItems","PhoneLogin","GetPermissionList","menuData","menu","authData","auth","allAuthData","allAuth","sessionStorage","setItem","JSON","stringify","length","forEach","item","index","hasChildrenMenu","filter","i","hidden","Logout","logoutToken","remove","process","env","VUE_APP_SSO","sevice","window","location","host","serviceUrl","encodeURIComponent","href","VUE_APP_CAS_BASE_URL","ThirdLogin","param","thirdType","saveTenant"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport { login, logout, phoneLogin, thirdLogin } from \"@/api/login\"\r\nimport { ACCESS_TOKEN, USER_NAME,USER_INFO,USER_AUTH,SYS_BUTTON_AUTH,UI_CACHE_DB_DICT_DATA,TENANT_ID,CACHE_INCLUDED_ROUTES } from \"@/store/mutation-types\"\r\nimport { welcome } from \"@/utils/util\"\r\nimport { queryPermissionsByUser } from '@/api/api'\r\nimport { getAction } from '@/api/manage'\r\n\r\nconst user = {\r\n  state: {\r\n    token: '',\r\n    username: '',\r\n    realname: '',\r\n    tenantid:'',\r\n    welcome: '',\r\n    avatar: '',\r\n    permissionList: [],\r\n    info: {}\r\n  },\r\n\r\n  mutations: {\r\n    SET_TOKEN: (state, token) => {\r\n      state.token = token\r\n    },\r\n    SET_NAME: (state, { username, realname, welcome }) => {\r\n      state.username = username\r\n      state.realname = realname\r\n      state.welcome = welcome\r\n    },\r\n    SET_AVATAR: (state, avatar) => {\r\n      state.avatar = avatar\r\n    },\r\n    SET_PERMISSIONLIST: (state, permissionList) => {\r\n      state.permissionList = permissionList\r\n    },\r\n    SET_INFO: (state, info) => {\r\n      state.info = info\r\n    },\r\n    SET_TENANT: (state, id) => {\r\n      state.tenantid = id\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    // CAS验证登录\r\n    ValidateLogin({ commit }, userInfo) {\r\n      return new Promise((resolve, reject) => {\r\n        getAction(\"/sys/cas/client/validateLogin\",userInfo).then(response => {\r\n          console.log(\"----cas 登录--------\",response);\r\n          if(response.success){\r\n            const result = response.result\r\n            const userInfo = result.userInfo\r\n            Vue.ls.set(ACCESS_TOKEN, result.token, 7 * 24 * 60 * 60 * 1000)\r\n            Vue.ls.set(USER_NAME, userInfo.username, 7 * 24 * 60 * 60 * 1000)\r\n            Vue.ls.set(USER_INFO, userInfo, 7 * 24 * 60 * 60 * 1000)\r\n            commit('SET_TOKEN', result.token)\r\n            commit('SET_INFO', userInfo)\r\n            commit('SET_NAME', { username: userInfo.username,realname: userInfo.realname, welcome: welcome() })\r\n            commit('SET_AVATAR', userInfo.avatar)\r\n            resolve(response)\r\n          }else{\r\n            resolve(response)\r\n          }\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n    // 登录\r\n    Login({ commit }, userInfo) {\r\n      return new Promise((resolve, reject) => {\r\n        login(userInfo).then(response => {\r\n          if(response.code =='200'){\r\n            const result = response.result\r\n            const userInfo = result.userInfo\r\n            Vue.ls.set(ACCESS_TOKEN, result.token, 7 * 24 * 60 * 60 * 1000)\r\n            Vue.ls.set(USER_NAME, userInfo.username, 7 * 24 * 60 * 60 * 1000)\r\n            Vue.ls.set(USER_INFO, userInfo, 7 * 24 * 60 * 60 * 1000)\r\n            Vue.ls.set(UI_CACHE_DB_DICT_DATA, result.sysAllDictItems, 7 * 24 * 60 * 60 * 1000)\r\n            commit('SET_TOKEN', result.token)\r\n            commit('SET_INFO', userInfo)\r\n            commit('SET_NAME', { username: userInfo.username,realname: userInfo.realname, welcome: welcome() })\r\n            commit('SET_AVATAR', userInfo.avatar)\r\n            resolve(response)\r\n          }else{\r\n            reject(response)\r\n          }\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n    //手机号登录\r\n    PhoneLogin({ commit }, userInfo) {\r\n      return new Promise((resolve, reject) => {\r\n          phoneLogin(userInfo).then(response => {\r\n          if(response.code =='200'){\r\n        const result = response.result\r\n        const userInfo = result.userInfo\r\n        Vue.ls.set(ACCESS_TOKEN, result.token, 7 * 24 * 60 * 60 * 1000)\r\n        Vue.ls.set(USER_NAME, userInfo.username, 7 * 24 * 60 * 60 * 1000)\r\n        Vue.ls.set(USER_INFO, userInfo, 7 * 24 * 60 * 60 * 1000)\r\n        Vue.ls.set(UI_CACHE_DB_DICT_DATA, result.sysAllDictItems, 7 * 24 * 60 * 60 * 1000)\r\n        commit('SET_TOKEN', result.token)\r\n        commit('SET_INFO', userInfo)\r\n        commit('SET_NAME', { username: userInfo.username,realname: userInfo.realname, welcome: welcome() })\r\n        commit('SET_AVATAR', userInfo.avatar)\r\n        resolve(response)\r\n      }else{\r\n        reject(response)\r\n      }\r\n    }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n    },\r\n    // 获取用户信息\r\n    GetPermissionList({ commit }) {\r\n      return new Promise((resolve, reject) => {\r\n        queryPermissionsByUser().then(response => {\r\n          const menuData = response.result.menu;\r\n          const authData = response.result.auth;\r\n          const allAuthData = response.result.allAuth;\r\n          //Vue.ls.set(USER_AUTH,authData);\r\n          sessionStorage.setItem(USER_AUTH,JSON.stringify(authData));\r\n          sessionStorage.setItem(SYS_BUTTON_AUTH,JSON.stringify(allAuthData));\r\n          if (menuData && menuData.length > 0) {\r\n            //update--begin--autor:qinfeng-----date:20200109------for：JEECG-63 一级菜单的子菜单全部是隐藏路由，则一级菜单不显示------\r\n            menuData.forEach((item, index) => {\r\n              if (item[\"children\"]) {\r\n                let hasChildrenMenu = item[\"children\"].filter((i) => {\r\n                  return !i.hidden || i.hidden == false\r\n                })\r\n                if (hasChildrenMenu == null || hasChildrenMenu.length == 0) {\r\n                  item[\"hidden\"] = true\r\n                }\r\n              }\r\n            })\r\n            //console.log(\" menu show json \", menuData)\r\n            //update--end--autor:qinfeng-----date:20200109------for：JEECG-63 一级菜单的子菜单全部是隐藏路由，则一级菜单不显示------\r\n            commit('SET_PERMISSIONLIST', menuData)\r\n          } else {\r\n            reject('getPermissionList: permissions must be a non-null array !')\r\n          }\r\n          resolve(response)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n\r\n    // 登出\r\n    Logout({ commit, state }) {\r\n      return new Promise((resolve) => {\r\n        let logoutToken = state.token;\r\n        commit('SET_TOKEN', '')\r\n        commit('SET_PERMISSIONLIST', [])\r\n        Vue.ls.remove(ACCESS_TOKEN)\r\n        Vue.ls.remove(UI_CACHE_DB_DICT_DATA)\r\n        Vue.ls.remove(CACHE_INCLUDED_ROUTES)\r\n        //console.log('logoutToken: '+ logoutToken)\r\n        logout(logoutToken).then(() => {\r\n          if (process.env.VUE_APP_SSO == 'true') {\r\n            let sevice = 'http://' + window.location.host + '/'\r\n            let serviceUrl = encodeURIComponent(sevice)\r\n            window.location.href = process.env.VUE_APP_CAS_BASE_URL + '/logout?service=' + serviceUrl\r\n          }\r\n          resolve()\r\n        }).catch(() => {\r\n          resolve()\r\n        })\r\n      })\r\n    },\r\n    // 第三方登录\r\n    ThirdLogin({ commit }, param) {\r\n      return new Promise((resolve, reject) => {\r\n        thirdLogin(param.token,param.thirdType).then(response => {\r\n          if(response.code =='200'){\r\n            const result = response.result\r\n            const userInfo = result.userInfo\r\n            Vue.ls.set(ACCESS_TOKEN, result.token, 7 * 24 * 60 * 60 * 1000)\r\n            Vue.ls.set(USER_NAME, userInfo.username, 7 * 24 * 60 * 60 * 1000)\r\n            Vue.ls.set(USER_INFO, userInfo, 7 * 24 * 60 * 60 * 1000)\r\n            commit('SET_TOKEN', result.token)\r\n            commit('SET_INFO', userInfo)\r\n            commit('SET_NAME', { username: userInfo.username,realname: userInfo.realname, welcome: welcome() })\r\n            commit('SET_AVATAR', userInfo.avatar)\r\n            resolve(response)\r\n          }else{\r\n            reject(response)\r\n          }\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n    saveTenant({ commit }, id){\r\n      Vue.ls.set(TENANT_ID, id, 7 * 24 * 60 * 60 * 1000)\r\n      commit('SET_TENANT', id)\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default user"]}]}