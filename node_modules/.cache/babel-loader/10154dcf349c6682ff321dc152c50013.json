{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\online\\modules\\catalog.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\online\\modules\\catalog.vue","mtime":1615948820501},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0QWN0aW9uLCBodHRwQWN0aW9uIH0gZnJvbSAnQC9hcGkvbWFuYWdlJzsKaW1wb3J0IHBpY2sgZnJvbSAnbG9kYXNoLnBpY2snOwppbXBvcnQgeyB2YWxpZGF0ZUR1cGxpY2F0ZVZhbHVlIH0gZnJvbSAnQC91dGlscy91dGlsJzsKaW1wb3J0IEpEaWN0U2VsZWN0VGFnIGZyb20gIkAvY29tcG9uZW50cy9kaWN0L0pEaWN0U2VsZWN0VGFnIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjYXRhbG9nIiwKICBjb21wb25lbnRzOiB7CiAgICBKRGljdFNlbGVjdFRhZzogSkRpY3RTZWxlY3RUYWcKICB9LAogIHByb3A6IHsKICAgIHRhc2tJZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHJlZURhdGE6IFtdLAogICAgICBwZjogbnVsbCwKICAgICAgdmFsdWU6ICdub3JtYWwnLAogICAgICByZWNvcmQ6IG51bGwsCiAgICAgIHRpdGxlOiAi5pON5L2cIiwKICAgICAgd2lkdGg6IDUwMCwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIG1vZGVsOiB7fSwKICAgICAgbGFiZWxDb2w6IHsKICAgICAgICB4czogewogICAgICAgICAgc3BhbjogMjQKICAgICAgICB9LAogICAgICAgIHNtOiB7CiAgICAgICAgICBzcGFuOiA1CiAgICAgICAgfQogICAgICB9LAogICAgICB3cmFwcGVyQ29sOiB7CiAgICAgICAgeHM6IHsKICAgICAgICAgIHNwYW46IDI0CiAgICAgICAgfSwKICAgICAgICBzbTogewogICAgICAgICAgc3BhbjogMTYKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZvcm06IHRoaXMuJGZvcm0uY3JlYXRlRm9ybSh0aGlzKSwKICAgICAgY29uZmlybUxvYWRpbmc6IGZhbHNlLAogICAgICB2YWxpZGF0b3JSdWxlczoge30sCiAgICAgIHVybDogewogICAgICAgIC8vIOiOt+WPluebmOespgogICAgICAgIGdldHBmOiAib25saW5lL2NnZm9ybS9oZWFkL3Jvb3RGaWxlIiwKICAgICAgICBnZXR1cDogJ29ubGluZS9jZ2Zvcm0vaGVhZC9maWxlVHJlZScKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBvbkxvYWREYXRhOiBmdW5jdGlvbiBvbkxvYWREYXRhKHRyZWVOb2RlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBpZiAodHJlZU5vZGUuZGF0YVJlZi5jaGlsZHJlbikgewogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgIHBhcmVudFBhdGg6IHRyZWVOb2RlLmRhdGFSZWYua2V5CiAgICAgICAgfTsKICAgICAgICBnZXRBY3Rpb24oX3RoaXMudXJsLmdldHVwLCBvYmopLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRyZWVOb2RlLmRhdGFSZWYuY2hpbGRyZW4gPSByZXMucmVzdWx0OwogICAgICAgICAgICBfdGhpcy50cmVlRGF0YSA9IF90b0NvbnN1bWFibGVBcnJheShfdGhpcy50cmVlRGF0YSk7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLndhcm5pbmcocmVzLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge30pOwogICAgICB9KTsKICAgIH0sCiAgICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3Qoa2V5cywgZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coJ1RyaWdnZXIgU2VsZWN0Jywga2V5cywgZXZlbnQpOwogICAgICB0aGlzLnBmID0ga2V5czsKICAgIH0sCiAgICBvbkV4cGFuZDogZnVuY3Rpb24gb25FeHBhbmQoKSB7fSwKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQocmVjb3JkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgICAgdmFyIHVybCA9IHRoaXMudXJsLmdldHBmOwogICAgICBnZXRBY3Rpb24odXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczIudHJlZURhdGEgPSByZXMucmVzdWx0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uud2FybmluZyhyZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZU9rOiBmdW5jdGlvbiBoYW5kbGVPaygpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgICAgaWYgKHRoYXQucGYpIHsKICAgICAgICB0aGF0LiRlbWl0KCdvaycsIHRoYXQucGYpOwogICAgICAgIHRoYXQudmlzaWJsZSA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup55uu5b2V77yBJyk7CiAgICAgIH0gLy8g6Kem5Y+R6KGo5Y2V6aqM6K+BCgogICAgfSwKICAgIGhhbmRsZUNhbmNlbDogZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKCkgewogICAgICB0aGlzLmNsb3NlKCk7CiAgICB9LAogICAgcG9wdXBDYWxsYmFjazogZnVuY3Rpb24gcG9wdXBDYWxsYmFjayhyb3cpIHsKICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHBpY2socm93LCAnbmFtZScpKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["catalog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <j-modal\r\n      :title=\"title\"\r\n      :width=\"width\"\r\n      :visible=\"visible\"\r\n      :fullscreen=\"false\"\r\n      :confirmLoading=\"confirmLoading\"\r\n      switchFullscreen\r\n      @ok=\"handleOk\"\r\n      @cancel=\"handleCancel\"\r\n      cancelText=\"关闭\">\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-directory-tree multiple default-expand-all :tree-data=\"treeData\"\r\n                        :load-data=\"onLoadData\" @select=\"onSelect\" @expand=\"onExpand\">\r\n\r\n      </a-directory-tree>\r\n    </a-spin>\r\n  </j-modal>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {getAction, httpAction} from '@/api/manage'\r\nimport pick from 'lodash.pick'\r\nimport {validateDuplicateValue} from '@/utils/util'\r\nimport JDictSelectTag from \"@/components/dict/JDictSelectTag\"\r\n\r\n\r\nexport default {\r\n  name: \"catalog\",\r\n  components: {\r\n    JDictSelectTag,\r\n  },\r\n  prop: {\r\n    taskId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      treeData:[],\r\n      pf:null,\r\n      value:'normal',\r\n      record:null,\r\n      title: \"操作\",\r\n      width: 500,\r\n      visible: false,\r\n      model: {},\r\n      labelCol: {\r\n        xs: {span: 24},\r\n        sm: {span: 5},\r\n      },\r\n      wrapperCol: {\r\n        xs: {span: 24},\r\n        sm: {span: 16},\r\n      },\r\n      form: this.$form.createForm(this),\r\n      confirmLoading: false,\r\n      validatorRules: {},\r\n      url: {\r\n        // 获取盘符\r\n        getpf: \"online/cgform/head/rootFile\",\r\n        getup:'online/cgform/head/fileTree'\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    onLoadData(treeNode) {\r\n      return new Promise(resolve => {\r\n        if (treeNode.dataRef.children) {\r\n          resolve();\r\n          return;\r\n        }\r\n        var obj = {\r\n          parentPath:treeNode.dataRef.key\r\n        }\r\n        getAction(this.url.getup, obj).then((res) => {\r\n          if (res.success) {\r\n            treeNode.dataRef.children = res.result\r\n            this.treeData = [...this.treeData];\r\n            resolve();\r\n          } else {\r\n            this.$message.warning(res.message);\r\n          }\r\n        }).finally(() => {\r\n        })\r\n      });\r\n    },\r\n    onSelect(keys, event) {\r\n      console.log('Trigger Select', keys, event);\r\n      this.pf = keys\r\n    },\r\n    onExpand() {\r\n    },\r\n    edit(record) {\r\n      this.visible = true;\r\n      var url = this.url.getpf\r\n      getAction(url, {}).then((res) => {\r\n        console.log(res)\r\n        if (res.success) {\r\n          this.treeData = res.result\r\n        } else {\r\n          this.$message.warning(res.message);\r\n        }\r\n      }).finally(() => {\r\n      })\r\n    },\r\n    close() {\r\n      this.$emit('close');\r\n      this.visible = false;\r\n    },\r\n    handleOk() {\r\n      const that = this;\r\n      if(that.pf) {\r\n        that.$emit('ok',that.pf);\r\n        that.visible = false;\r\n      }else {\r\n        that.$message.warning('请选择目录！');\r\n      }\r\n      // 触发表单验证\r\n\r\n\r\n    },\r\n    handleCancel() {\r\n      this.close()\r\n    },\r\n    popupCallback(row) {\r\n      this.form.setFieldsValue(pick(row, 'name'))\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.form-item {\r\n  margin-left: 15px\r\n}\r\n/deep/ .form-item {\r\n  margin-left: 0;\r\n}\r\n\r\n</style>"],"sourceRoot":"src/views/online/modules"}]}