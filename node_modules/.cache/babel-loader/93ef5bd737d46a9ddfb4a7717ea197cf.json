{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\dict\\JMultiSelectTag.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\dict\\JMultiSelectTag.vue","mtime":1615948814057},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYWpheEdldERpY3RJdGVtcywgZ2V0RGljdEl0ZW1zRnJvbUNhY2hlIH0gZnJvbSAnQC9hcGkvYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdKTXVsdGlTZWxlY3RUYWcnLAogIHByb3BzOiB7CiAgICBkaWN0Q29kZTogU3RyaW5nLAogICAgcGxhY2Vob2xkZXI6IFN0cmluZywKICAgIGRpc2FibGVkOiBCb29sZWFuLAogICAgdmFsdWU6IFN0cmluZywKICAgIHR5cGU6IFN0cmluZywKICAgIG9wdGlvbnM6IEFycmF5CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGljdE9wdGlvbnM6IFtdLAogICAgICB0YWdUeXBlOiAiIiwKICAgICAgYXJyYXlWYWx1ZTogIXRoaXMudmFsdWUgPyBbXSA6IHRoaXMudmFsdWUuc3BsaXQoIiwiKQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAoIXRoaXMudHlwZSB8fCB0aGlzLnR5cGUgPT09ICJsaXN0X211bHRpIikgewogICAgICB0aGlzLnRhZ1R5cGUgPSAic2VsZWN0IjsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudGFnVHlwZSA9IHRoaXMudHlwZTsKICAgIH0gLy/ojrflj5blrZflhbjmlbDmja4KICAgIC8vdGhpcy5pbml0RGljdERhdGEoKTsKCiAgfSwKICB3YXRjaDogewogICAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyh2YWwpIHsKICAgICAgdGhpcy5zZXRDdXJyZW50RGljdE9wdGlvbnModmFsKTsKICAgIH0sCiAgICBkaWN0Q29kZTogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5pbml0RGljdERhdGEoKTsKICAgICAgfQogICAgfSwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2YWwpIHsKICAgICAgaWYgKCF2YWwpIHsKICAgICAgICB0aGlzLmFycmF5VmFsdWUgPSBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFycmF5VmFsdWUgPSB0aGlzLnZhbHVlLnNwbGl0KCIsIik7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXREaWN0RGF0YTogZnVuY3Rpb24gaW5pdERpY3REYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuZGljdE9wdGlvbnMgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5vcHRpb25zKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+S8mOWFiOS7jue8k+WtmOS4reivu+WPluWtl+WFuOmFjee9rgogICAgICAgIGlmIChnZXREaWN0SXRlbXNGcm9tQ2FjaGUodGhpcy5kaWN0Q29kZSkpIHsKICAgICAgICAgIHRoaXMuZGljdE9wdGlvbnMgPSBnZXREaWN0SXRlbXNGcm9tQ2FjaGUodGhpcy5kaWN0Q29kZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvL+agueaNruWtl+WFuENvZGUsIOWIneWni+WMluWtl+WFuOaVsOe7hAoKCiAgICAgICAgYWpheEdldERpY3RJdGVtcyh0aGlzLmRpY3RDb2RlLCBudWxsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICBfdGhpcy5kaWN0T3B0aW9ucyA9IHJlcy5yZXN1bHQ7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uoc2VsZWN0ZWRWYWx1ZSkgewogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBzZWxlY3RlZFZhbHVlLmpvaW4oIiwiKSk7CiAgICB9LAogICAgc2V0Q3VycmVudERpY3RPcHRpb25zOiBmdW5jdGlvbiBzZXRDdXJyZW50RGljdE9wdGlvbnMoZGljdE9wdGlvbnMpIHsKICAgICAgdGhpcy5kaWN0T3B0aW9ucyA9IGRpY3RPcHRpb25zOwogICAgfSwKICAgIGdldEN1cnJlbnREaWN0T3B0aW9uczogZnVuY3Rpb24gZ2V0Q3VycmVudERpY3RPcHRpb25zKCkgewogICAgICByZXR1cm4gdGhpcy5kaWN0T3B0aW9uczsKICAgIH0sCiAgICAvLyB1cGRhdGUtLWJlZ2luLS1hdXRvcjpsdmRhbmRhbi0tLS0tZGF0ZToyMDIwMTEyMC0tLS0tLWZvcu+8mkxPV0NPRC0xMDg2IOS4i+aLieWkmumAieahhizmkJzntKLml7blj6rlrZflhbhjb2Rl6L+b6KGM5pCc57Si5LiN6IO96YCa6L+H5a2X5YW4dGV4dOaQnOe0ogogICAgZmlsdGVyT3B0aW9uOiBmdW5jdGlvbiBmaWx0ZXJPcHRpb24oaW5wdXQsIG9wdGlvbikgewogICAgICByZXR1cm4gb3B0aW9uLmNvbXBvbmVudE9wdGlvbnMuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0udGV4dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoaW5wdXQudG9Mb3dlckNhc2UoKSkgPj0gMDsKICAgIH0gLy8gdXBkYXRlLS1lbmQtLWF1dG9yOmx2ZGFuZGFuLS0tLS1kYXRlOjIwMjAxMTIwLS0tLS0tZm9y77yaTE9XQ09ELTEwODYg5LiL5ouJ5aSa6YCJ5qGGLOaQnOe0ouaXtuWPquWtl+WFuGNvZGXov5vooYzmkJzntKLkuI3og73pgJrov4flrZflhbh0ZXh05pCc57SiCgogIH0sCiAgbW9kZWw6IHsKICAgIHByb3A6ICd2YWx1ZScsCiAgICBldmVudDogJ2NoYW5nZScKICB9Cn07"},{"version":3,"sources":["JMultiSelectTag.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,gBAAA,EAAA,qBAAA,QAAA,WAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,MADA;AAEA,IAAA,WAAA,EAAA,MAFA;AAGA,IAAA,QAAA,EAAA,OAHA;AAIA,IAAA,KAAA,EAAA,MAJA;AAKA,IAAA,IAAA,EAAA,MALA;AAMA,IAAA,OAAA,EAAA;AANA,GAFA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,CAAA,KAAA,KAAA,GAAA,EAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,GAAA;AAHA,KAAA;AAKA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,QAAA,CAAA,KAAA,IAAA,IAAA,KAAA,IAAA,KAAA,YAAA,EAAA;AACA,WAAA,OAAA,GAAA,QAAA;AACA,KAFA,MAEA;AACA,WAAA,OAAA,GAAA,KAAA,IAAA;AACA,KALA,CAMA;AACA;;AACA,GAzBA;AA0BA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA,iBAAA,GAAA,EAAA;AACA,WAAA,qBAAA,CAAA,GAAA;AACA,KAHA;AAIA,IAAA,QAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,qBAEA;AACA,aAAA,YAAA;AACA;AAJA,KAJA;AAUA,IAAA,KAVA,iBAUA,GAVA,EAUA;AACA,UAAA,CAAA,GAAA,EAAA;AACA,aAAA,UAAA,GAAA,EAAA;AACA,OAFA,MAEA;AACA,aAAA,UAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA;AACA;AAhBA,GA1BA;AA4CA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,UAAA,KAAA,OAAA,IAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,WAAA,sBAAA,KAAA,OAAA;AACA,OAFA,MAEA;AACA;AACA,YAAA,qBAAA,CAAA,KAAA,QAAA,CAAA,EAAA;AACA,eAAA,WAAA,GAAA,qBAAA,CAAA,KAAA,QAAA,CAAA;AACA;AACA,SALA,CAMA;;;AACA,QAAA,gBAAA,CAAA,KAAA,QAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,MAAA;AACA;AACA,SAJA;AAKA;AAEA,KAlBA;AAmBA,IAAA,QAnBA,oBAmBA,aAnBA,EAmBA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,aAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,KArBA;AAsBA,IAAA,qBAtBA,iCAsBA,WAtBA,EAsBA;AACA,WAAA,WAAA,GAAA,WAAA;AACA,KAxBA;AAyBA,IAAA,qBAzBA,mCAyBA;AACA,aAAA,KAAA,WAAA;AACA,KA3BA;AA4BA;AACA,IAAA,YA7BA,wBA6BA,KA7BA,EA6BA,MA7BA,EA6BA;AACA,aAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,CAAA,CAAA,EAAA,QAAA,CAAA,CAAA,EAAA,IAAA,CAAA,WAAA,GAAA,OAAA,CAAA,KAAA,CAAA,WAAA,EAAA,KAAA,CAAA;AACA,KA/BA,CAgCA;;AAhCA,GA5CA;AA8EA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,OADA;AAEA,IAAA,KAAA,EAAA;AAFA;AA9EA,CAAA","sourcesContent":["<template>\r\n  <a-checkbox-group v-if=\"tagType=='checkbox'\" @change=\"onChange\" :value=\"arrayValue\" :disabled=\"disabled\">\r\n    <a-checkbox v-for=\"(item, key) in dictOptions\" :key=\"key\" :value=\"item.value\">{{ item.text || item.label }}</a-checkbox>\r\n  </a-checkbox-group>\r\n\r\n  <a-select\r\n    v-else-if=\"tagType=='select'\"\r\n    :value=\"arrayValue\"\r\n    @change=\"onChange\"\r\n    :disabled=\"disabled\"\r\n    mode=\"multiple\"\r\n    :placeholder=\"placeholder\"\r\n    :getPopupContainer=\"(node) => node.parentNode\"\r\n    optionFilterProp=\"children\"\r\n    :filterOption=\"filterOption\"\r\n    allowClear>\r\n    <a-select-option\r\n      v-for=\"(item,index) in dictOptions\"\r\n      :key=\"index\"\r\n      :value=\"item.value\">\r\n      <span style=\"display: inline-block;width: 100%\" :title=\" item.text || item.label \">\r\n        {{ item.text || item.label }}\r\n      </span>\r\n    </a-select-option>\r\n  </a-select>\r\n\r\n</template>\r\n\r\n<script>\r\n  import {ajaxGetDictItems,getDictItemsFromCache} from '@/api/api'\r\n  export default {\r\n    name: 'JMultiSelectTag',\r\n    props: {\r\n      dictCode: String,\r\n      placeholder: String,\r\n      disabled: Boolean,\r\n      value: String,\r\n      type: String,\r\n      options:Array\r\n    },\r\n    data() {\r\n      return {\r\n        dictOptions: [],\r\n        tagType:\"\",\r\n        arrayValue:!this.value?[]:this.value.split(\",\")\r\n      }\r\n    },\r\n    created() {\r\n      if(!this.type || this.type===\"list_multi\"){\r\n        this.tagType = \"select\"\r\n      }else{\r\n        this.tagType = this.type\r\n      }\r\n      //获取字典数据\r\n      //this.initDictData();\r\n    },\r\n    watch:{\r\n      options: function(val){\r\n        this.setCurrentDictOptions(val);\r\n      },\r\n      dictCode:{\r\n        immediate:true,\r\n        handler() {\r\n          this.initDictData()\r\n        },\r\n      },\r\n      value (val) {\r\n        if(!val){\r\n          this.arrayValue = []\r\n        }else{\r\n          this.arrayValue = this.value.split(\",\")\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      initDictData() {\r\n        if(this.options && this.options.length>0){\r\n          this.dictOptions = [...this.options]\r\n        }else{\r\n          //优先从缓存中读取字典配置\r\n          if(getDictItemsFromCache(this.dictCode)){\r\n            this.dictOptions = getDictItemsFromCache(this.dictCode);\r\n            return\r\n          }\r\n          //根据字典Code, 初始化字典数组\r\n          ajaxGetDictItems(this.dictCode, null).then((res) => {\r\n            if (res.success) {\r\n              this.dictOptions = res.result;\r\n            }\r\n          })\r\n        }\r\n\r\n      },\r\n      onChange (selectedValue) {\r\n        this.$emit('change', selectedValue.join(\",\"));\r\n      },\r\n      setCurrentDictOptions(dictOptions){\r\n        this.dictOptions = dictOptions\r\n      },\r\n      getCurrentDictOptions(){\r\n        return this.dictOptions\r\n      },\r\n      // update--begin--autor:lvdandan-----date:20201120------for：LOWCOD-1086 下拉多选框,搜索时只字典code进行搜索不能通过字典text搜索\r\n      filterOption(input, option) {\r\n        return option.componentOptions.children[0].children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n      }\r\n      // update--end--autor:lvdandan-----date:20201120------for：LOWCOD-1086 下拉多选框,搜索时只字典code进行搜索不能通过字典text搜索\r\n    },\r\n    model: {\r\n      prop: 'value',\r\n      event: 'change'\r\n    }\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/components/dict"}]}