{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\jeecg\\dynamic\\JMdEditorDyn.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\jeecg\\dynamic\\JMdEditorDyn.vue","mtime":1615948814835},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8vCi8vCi8vCi8vCmltcG9ydCBsb2FkIGZyb20gJy4vbG9hZCc7CmltcG9ydCB7IG1kX2pzLCBtZF96aF9jbl9qcyB9IGZyb20gJy4vUmVzb3VyY2UnOwppbXBvcnQgZGVmYXVsdE9wdGlvbnMgZnJvbSAnQC9jb21wb25lbnRzL2plZWNnL0pNYXJrZG93bkVkaXRvci9kZWZhdWx0LW9wdGlvbnMuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0pNZEVkaXRvckR5bicsCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICdtYXJrZG93bi1lZGl0b3ItJyArICtuZXcgRGF0ZSgpICsgKChNYXRoLnJhbmRvbSgpICogMTAwMCkudG9GaXhlZCgwKSArICcnKTsKICAgICAgfQogICAgfSwKICAgIG9wdGlvbnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gZGVmYXVsdE9wdGlvbnM7CiAgICAgIH0KICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ21hcmtkb3duJwogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJzMwMHB4JwogICAgfSwKICAgIGxhbmd1YWdlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnemgtQ04nCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdG9yOiBudWxsLAogICAgICBkeW5hbWljSWQ6IHRoaXMuaWQKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZWRpdG9yT3B0aW9uczogZnVuY3Rpb24gZWRpdG9yT3B0aW9ucygpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgdGhpcy5vcHRpb25zKTsKICAgICAgb3B0aW9ucy5pbml0aWFsRWRpdFR5cGUgPSB0aGlzLm1vZGU7CiAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgICAgIG9wdGlvbnMubGFuZ3VhZ2UgPSB0aGlzLmxhbmd1YWdlOwogICAgICByZXR1cm4gb3B0aW9uczsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobmV3VmFsdWUsIHByZVZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gcHJlVmFsdWUgJiYgbmV3VmFsdWUgIT09IHRoaXMuZWRpdG9yLmdldE1hcmtkb3duKCkpIHsKICAgICAgICB0aGlzLmVkaXRvci5zZXRNYXJrZG93bihuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBsYW5ndWFnZTogZnVuY3Rpb24gbGFuZ3VhZ2UodmFsKSB7CiAgICAgIHRoaXMuZGVzdHJveUVkaXRvcigpOwogICAgICB0aGlzLmluaXRFZGl0b3IoKTsKICAgIH0sCiAgICBoZWlnaHQ6IGZ1bmN0aW9uIGhlaWdodChuZXdWYWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5oZWlnaHQobmV3VmFsdWUpOwogICAgfSwKICAgIG1vZGU6IGZ1bmN0aW9uIG1vZGUobmV3VmFsdWUpIHsKICAgICAgdGhpcy5lZGl0b3IuY2hhbmdlTW9kZShuZXdWYWx1ZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuZGVzdHJveUVkaXRvcigpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdGhpcy5pbml0RWRpdG9yKCk7CiAgICAgIC8qIGxvYWQobWRfanMsJycsKCk9PnsKICAgICAgICAgbG9hZChtZF96aF9jbl9qcywnJywoKT0+ewogICAgICAgICAgfSkKICAgICAgIH0pKi8KICAgIH0sCiAgICBpbml0RWRpdG9yOiBmdW5jdGlvbiBpbml0RWRpdG9yKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIEVkaXRvciA9IHRvYXN0dWkuRWRpdG9yOwogICAgICB0aGlzLmVkaXRvciA9IG5ldyBFZGl0b3IoX29iamVjdFNwcmVhZCh7CiAgICAgICAgZWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZHluYW1pY0lkKQogICAgICB9LCB0aGlzLmVkaXRvck9wdGlvbnMpKTsKCiAgICAgIGlmICh0aGlzLnZhbHVlKSB7CiAgICAgICAgdGhpcy5lZGl0b3Iuc2V0TWFya2Rvd24odGhpcy52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZWRpdG9yLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJGVtaXQoJ2NoYW5nZScsIF90aGlzLmVkaXRvci5nZXRNYXJrZG93bigpKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVzdHJveUVkaXRvcjogZnVuY3Rpb24gZGVzdHJveUVkaXRvcigpIHsKICAgICAgaWYgKCF0aGlzLmVkaXRvcikgcmV0dXJuOwogICAgICB0aGlzLmVkaXRvci5vZmYoJ2NoYW5nZScpOwogICAgICB0aGlzLmVkaXRvci5yZW1vdmUoKTsKICAgIH0sCiAgICBzZXRNYXJrZG93bjogZnVuY3Rpb24gc2V0TWFya2Rvd24odmFsdWUpIHsKICAgICAgdGhpcy5lZGl0b3Iuc2V0TWFya2Rvd24odmFsdWUpOwogICAgfSwKICAgIGdldE1hcmtkb3duOiBmdW5jdGlvbiBnZXRNYXJrZG93bigpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLmdldE1hcmtkb3duKCk7CiAgICB9LAogICAgc2V0SHRtbDogZnVuY3Rpb24gc2V0SHRtbCh2YWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5zZXRIdG1sKHZhbHVlKTsKICAgIH0sCiAgICBnZXRIdG1sOiBmdW5jdGlvbiBnZXRIdG1sKCkgewogICAgICByZXR1cm4gdGhpcy5lZGl0b3IuZ2V0SHRtbCgpOwogICAgfQogIH0sCiAgbW9kZWw6IHsKICAgIHByb3A6ICd2YWx1ZScsCiAgICBldmVudDogJ2NoYW5nZScKICB9Cn07"},{"version":3,"sources":["JMdEditorDyn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"j-markdown-editor\" :id=\"dynamicId\"/>\r\n</template>\r\n\r\n<script>\r\n  import load from './load'\r\n  import { md_js, md_zh_cn_js } from './Resource'\r\n  import defaultOptions from '@/components/jeecg/JMarkdownEditor/default-options.js'\r\n\r\n  export default {\r\n    name: 'JMdEditorDyn',\r\n    props: {\r\n      value: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      id: {\r\n        type: String,\r\n        required: false,\r\n        default() {\r\n          return 'markdown-editor-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\r\n        }\r\n      },\r\n      options: {\r\n        type: Object,\r\n        default() {\r\n          return defaultOptions\r\n        }\r\n      },\r\n      mode: {\r\n        type: String,\r\n        default: 'markdown'\r\n      },\r\n      height: {\r\n        type: String,\r\n        required: false,\r\n        default: '300px'\r\n      },\r\n      language: {\r\n        type: String,\r\n        required: false,\r\n        default: 'zh-CN'\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        editor: null,\r\n        dynamicId: this.id\r\n      }\r\n    },\r\n    computed: {\r\n      editorOptions() {\r\n        const options = Object.assign({}, defaultOptions, this.options)\r\n        options.initialEditType = this.mode\r\n        options.height = this.height\r\n        options.language = this.language\r\n        return options\r\n      }\r\n    },\r\n    watch: {\r\n      value(newValue, preValue) {\r\n        if (newValue !== preValue && newValue !== this.editor.getMarkdown()) {\r\n          this.editor.setMarkdown(newValue)\r\n        }\r\n      },\r\n      language(val) {\r\n        this.destroyEditor()\r\n        this.initEditor()\r\n      },\r\n      height(newValue) {\r\n        this.editor.height(newValue)\r\n      },\r\n      mode(newValue) {\r\n        this.editor.changeMode(newValue)\r\n      }\r\n    },\r\n    mounted() {\r\n      this.init()\r\n    },\r\n    destroyed() {\r\n      this.destroyEditor()\r\n    },\r\n    methods: {\r\n      init(){\r\n\r\n        this.initEditor()\r\n       /* load(md_js,'',()=>{\r\n          load(md_zh_cn_js,'',()=>{\r\n\r\n          })\r\n        })*/\r\n      },\r\n      initEditor() {\r\n        const Editor = toastui.Editor\r\n        this.editor = new Editor({\r\n          el: document.getElementById(this.dynamicId),\r\n          ...this.editorOptions\r\n        })\r\n        if (this.value) {\r\n          this.editor.setMarkdown(this.value)\r\n        }\r\n        this.editor.on('change', () => {\r\n          this.$emit('change', this.editor.getMarkdown())\r\n        })\r\n      },\r\n      destroyEditor() {\r\n        if (!this.editor) return\r\n        this.editor.off('change')\r\n        this.editor.remove()\r\n      },\r\n      setMarkdown(value) {\r\n        this.editor.setMarkdown(value)\r\n      },\r\n      getMarkdown() {\r\n        return this.editor.getMarkdown()\r\n      },\r\n      setHtml(value) {\r\n        this.editor.setHtml(value)\r\n      },\r\n      getHtml() {\r\n        return this.editor.getHtml()\r\n      }\r\n    },\r\n    model: {\r\n      prop: 'value',\r\n      event: 'change'\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang=\"less\">\r\n\r\n  .j-markdown-editor {\r\n    /deep/ .tui-editor-defaultUI {\r\n      .te-mode-switch,\r\n      .tui-scrollsync\r\n      {\r\n        line-height: 1.5;\r\n      }\r\n    }\r\n  }\r\n\r\n</style>"],"sourceRoot":"src/components/jeecg/dynamic"}]}