{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\src\\utils\\hasPermission.js","dependencies":[{"path":"D:\\vue\\src\\utils\\hasPermission.js","mtime":1615948817607},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgVVNFUl9BVVRILCBTWVNfQlVUVE9OX0FVVEggfSBmcm9tICJAL3N0b3JlL211dGF0aW9uLXR5cGVzIjsKdmFyIGhhc1Blcm1pc3Npb24gPSB7CiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUsIG9wdGlvbnMpIHsKICAgIC8vY29uc29sZS5sb2cob3B0aW9ucyk7CiAgICBWdWUuZGlyZWN0aXZlKCdoYXMnLCB7CiAgICAgIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZywgdm5vZGUpIHsKICAgICAgICBjb25zb2xlLmxvZygi6aG16Z2i5p2D6ZmQ5o6n5Yi2LS0tLSIpOyAvL2NvbnNvbGUudGltZSgpCiAgICAgICAgLy/oioLngrnmnYPpmZDlpITnkIbvvIzlpoLmnpzlkb3kuK3liJnkuI3ov5vooYzlhajlsYDmnYPpmZDlpITnkIYKCiAgICAgICAgaWYgKCFmaWx0ZXJOb2RlUGVybWlzc2lvbihlbCwgYmluZGluZywgdm5vZGUpKSB7CiAgICAgICAgICBmaWx0ZXJHbG9iYWxQZXJtaXNzaW9uKGVsLCBiaW5kaW5nLCB2bm9kZSk7CiAgICAgICAgfSAvL2NvbnNvbGUudGltZUVuZCgpIC8v6K6h5pe257uT5p2f5bm26L6T5Ye65pe26ZW/CgogICAgICB9CiAgICB9KTsKICB9Cn07Ci8qKg0KICog5rWB56iL6IqC54K55p2D6ZmQ5o6n5Yi2DQogKi8KCmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJOb2RlUGVybWlzc2lvbihlbCwgYmluZGluZywgdm5vZGUpIHsKICB2YXIgcGVybWlzc2lvbkxpc3QgPSBbXTsKCiAgdHJ5IHsKICAgIHZhciBvYmogPSB2bm9kZS5jb250ZXh0LiRwcm9wcy5mb3JtRGF0YTsKCiAgICBpZiAob2JqKSB7CiAgICAgIHZhciBicG1MaXN0ID0gb2JqLnBlcm1pc3Npb25MaXN0OwogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGJwbUxpc3RbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICB2YXIgYnBtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKGJwbS50eXBlICE9ICcyJykgewogICAgICAgICAgICBwZXJtaXNzaW9uTGlzdC5wdXNoKGJwbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSBjYXRjaCAoZSkgey8vY29uc29sZS5sb2coIumhtemdouadg+mZkOW8guW4uC0tLS0iLCBlKTsKICB9CgogIGlmIChwZXJtaXNzaW9uTGlzdCA9PT0gbnVsbCB8fCBwZXJtaXNzaW9uTGlzdCA9PT0gIiIgfHwgcGVybWlzc2lvbkxpc3QgPT09IHVuZGVmaW5lZCB8fCBwZXJtaXNzaW9uTGlzdC5sZW5ndGggPD0gMCkgewogICAgLy9lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKQogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgY29uc29sZS5sb2coIua1geeoi+iKgueCuemhtemdouadg+mZkC0tTk9ERS0tIik7CiAgdmFyIHBlcm1pc3Npb25zID0gW107CgogIGZvciAodmFyIF9pID0gMCwgX3Blcm1pc3Npb25MaXN0ID0gcGVybWlzc2lvbkxpc3Q7IF9pIDwgX3Blcm1pc3Npb25MaXN0Lmxlbmd0aDsgX2krKykgewogICAgdmFyIGl0ZW0gPSBfcGVybWlzc2lvbkxpc3RbX2ldOwoKICAgIGlmIChpdGVtLnR5cGUgIT0gJzInKSB7CiAgICAgIHBlcm1pc3Npb25zLnB1c2goaXRlbS5hY3Rpb24pOwogICAgfQogIH0gLy9jb25zb2xlLmxvZygi6aG16Z2i5p2D6ZmQLS0tLSIrcGVybWlzc2lvbnMpOwogIC8vY29uc29sZS5sb2coIumhtemdouadg+mZkC0tLS0iK2JpbmRpbmcudmFsdWUpOwoKCiAgaWYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhiaW5kaW5nLnZhbHVlKSkgewogICAgLy9lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKQogICAgcmV0dXJuIGZhbHNlOwogIH0gZWxzZSB7CiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlOwogICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlOwogICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDsKCiAgICB0cnkgewogICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gcGVybWlzc2lvbkxpc3RbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHsKICAgICAgICB2YXIgaXRlbTIgPSBfc3RlcDIudmFsdWU7CgogICAgICAgIGlmIChiaW5kaW5nLnZhbHVlID09PSBpdGVtMi5hY3Rpb24pIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7CiAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjsKICAgIH0gZmluYWxseSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpOwogICAgICAgIH0KICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7CiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0KLyoqDQogKiDlhajlsYDmnYPpmZDmjqfliLYNCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckdsb2JhbFBlcm1pc3Npb24oZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgY29uc29sZS5sb2coIuWFqOWxgOmhtemdouadg+mZkC0tR2xvYmFsLS0iKTsKICB2YXIgcGVybWlzc2lvbkxpc3QgPSBbXTsKICB2YXIgYWxsUGVybWlzc2lvbkxpc3QgPSBbXTsgLy9sZXQgYXV0aExpc3QgPSBWdWUubHMuZ2V0KFVTRVJfQVVUSCk7CgogIHZhciBhdXRoTGlzdCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShVU0VSX0FVVEgpIHx8ICJbXSIpOwogIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7CiAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlOwogIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gYXV0aExpc3RbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHsKICAgICAgdmFyIGF1dGggPSBfc3RlcDMudmFsdWU7CgogICAgICBpZiAoYXV0aC50eXBlICE9ICcyJykgewogICAgICAgIHBlcm1pc3Npb25MaXN0LnB1c2goYXV0aCk7CiAgICAgIH0KICAgIH0gLy9jb25zb2xlLmxvZygi6aG16Z2i5p2D6ZmQLS1HbG9iYWwtLSIsc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTWVNfQlVUVE9OX0FVVEgpKTsKCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlOwogICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuICE9IG51bGwpIHsKICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpOwogICAgICB9CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7CiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzOwogICAgICB9CiAgICB9CiAgfQoKICB2YXIgYWxsQXV0aExpc3QgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU1lTX0JVVFRPTl9BVVRIKSB8fCAiW10iKTsKICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlOwogIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTsKICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IGFsbEF1dGhMaXN0W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7CiAgICAgIHZhciBnYXV0aCA9IF9zdGVwNC52YWx1ZTsKCiAgICAgIGlmIChnYXV0aC50eXBlICE9ICcyJykgewogICAgICAgIGFsbFBlcm1pc3Npb25MaXN0LnB1c2goZ2F1dGgpOwogICAgICB9CiAgICB9IC8v6K6+572u5YWo5bGA6YWN572u5piv5ZCm5pyJ5ZG95LitCgogIH0gY2F0Y2ggKGVycikgewogICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTsKICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTsKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkgewogICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDsKICAgICAgfQogICAgfQogIH0KCiAgdmFyIGludmFsaWRGbGFnID0gZmFsc2U7IC8v5peg5pWI5ZG95LitCgogIGlmIChhbGxQZXJtaXNzaW9uTGlzdCAhPSBudWxsICYmIGFsbFBlcm1pc3Npb25MaXN0ICE9ICIiICYmIGFsbFBlcm1pc3Npb25MaXN0ICE9IHVuZGVmaW5lZCAmJiBhbGxQZXJtaXNzaW9uTGlzdC5sZW5ndGggPiAwKSB7CiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlOwogICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlOwogICAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDsKCiAgICB0cnkgewogICAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0gYWxsUGVybWlzc2lvbkxpc3RbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDU7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWUpIHsKICAgICAgICB2YXIgaXRlbUcgPSBfc3RlcDUudmFsdWU7CgogICAgICAgIGlmIChiaW5kaW5nLnZhbHVlID09PSBpdGVtRy5hY3Rpb24pIHsKICAgICAgICAgIGlmIChpdGVtRy5zdGF0dXMgPT0gJzAnKSB7CiAgICAgICAgICAgIGludmFsaWRGbGFnID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gdHJ1ZTsKICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyOwogICAgfSBmaW5hbGx5IHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7CiAgICAgICAgfQogICAgICB9IGZpbmFsbHkgewogICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHsKICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGlmIChpbnZhbGlkRmxhZykgewogICAgcmV0dXJuOwogIH0KCiAgaWYgKHBlcm1pc3Npb25MaXN0ID09PSBudWxsIHx8IHBlcm1pc3Npb25MaXN0ID09PSAiIiB8fCBwZXJtaXNzaW9uTGlzdCA9PT0gdW5kZWZpbmVkIHx8IHBlcm1pc3Npb25MaXN0Lmxlbmd0aCA8PSAwKSB7CiAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgIHJldHVybjsKICB9CgogIHZhciBwZXJtaXNzaW9ucyA9IFtdOwoKICBmb3IgKHZhciBfaTIgPSAwLCBfcGVybWlzc2lvbkxpc3QyID0gcGVybWlzc2lvbkxpc3Q7IF9pMiA8IF9wZXJtaXNzaW9uTGlzdDIubGVuZ3RoOyBfaTIrKykgewogICAgdmFyIGl0ZW0gPSBfcGVybWlzc2lvbkxpc3QyW19pMl07CgogICAgaWYgKGl0ZW0udHlwZSAhPSAnMicpIHsKICAgICAgLy91cGRhdGUtLWJlZ2luLS1hdXRvcjp3YW5nc2h1YWktLS0tLWRhdGU6MjAyMDA3MjktLS0tLS1mb3LvvJrmjInpkq7mnYPpmZDvvIzmjojmnYPmoIfor4bnmoTmj5DnpLrkv6Hmga/mmK/lpJrkuKrnlKjpgJflj7fliIbpmpTpgLvovpHlpITnkIYgZ2l0ZWUjSTFPVUdVLS0tLS0tLQogICAgICBpZiAoaXRlbS5hY3Rpb24pIHsKICAgICAgICBpZiAoaXRlbS5hY3Rpb24uaW5jbHVkZXMoIiwiKSkgewogICAgICAgICAgdmFyIHNwbGl0ID0gaXRlbS5hY3Rpb24uc3BsaXQoIiwiKTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICghc3BsaXRbaV0gfHwgc3BsaXRbaV0ubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcGVybWlzc2lvbnMucHVzaChzcGxpdFtpXSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlcm1pc3Npb25zLnB1c2goaXRlbS5hY3Rpb24pOwogICAgICAgIH0KICAgICAgfSAvL3VwZGF0ZS0tZW5kLS1hdXRvcjp3YW5nc2h1YWktLS0tLWRhdGU6MjAyMDA3MjktLS0tLS1mb3LvvJrmjInpkq7mnYPpmZDvvIzmjojmnYPmoIfor4bnmoTmj5DnpLrkv6Hmga/mmK/lpJrkuKrnlKjpgJflj7fliIbpmpTpgLvovpHlpITnkIYgZ2l0ZWUjSTFPVUdVLS0tLS0tCgogICAgfQogIH0KCiAgaWYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhiaW5kaW5nLnZhbHVlKSkgewogICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7CiAgfQp9CmV4cG9ydCBkZWZhdWx0IGhhc1Blcm1pc3Npb247"},{"version":3,"sources":["D:/vue/src/utils/hasPermission.js"],"names":["USER_AUTH","SYS_BUTTON_AUTH","hasPermission","install","Vue","options","directive","inserted","el","binding","vnode","console","log","filterNodePermission","filterGlobalPermission","permissionList","obj","context","$props","formData","bpmList","bpm","type","push","e","undefined","length","permissions","item","action","includes","value","item2","allPermissionList","authList","JSON","parse","sessionStorage","getItem","auth","allAuthList","gauth","invalidFlag","itemG","status","parentNode","removeChild","split","i"],"mappings":"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","sourcesContent":["import { USER_AUTH,SYS_BUTTON_AUTH } from \"@/store/mutation-types\"\r\n\r\nconst hasPermission = {\r\n    install (Vue, options) {\r\n          //console.log(options);\r\n          Vue.directive('has', {\r\n            inserted: (el, binding, vnode)=>{\r\n                console.log(\"页面权限控制----\");\r\n                //console.time()\r\n                //节点权限处理，如果命中则不进行全局权限处理\r\n                if(!filterNodePermission(el, binding, vnode)){\r\n                  filterGlobalPermission(el, binding, vnode);\r\n                }\r\n                //console.timeEnd() //计时结束并输出时长\r\n            }\r\n          });\r\n    }\r\n};\r\n\r\n/**\r\n * 流程节点权限控制\r\n */\r\nexport function filterNodePermission(el, binding, vnode) {\r\n  let permissionList = [];\r\n  try {\r\n    let obj = vnode.context.$props.formData;\r\n    if (obj) {\r\n      let bpmList = obj.permissionList;\r\n      for (let bpm of bpmList) {\r\n        if(bpm.type != '2') {\r\n          permissionList.push(bpm);\r\n        }\r\n      }\r\n    }else{\r\n      return false;\r\n    }\r\n  } catch (e) {\r\n    //console.log(\"页面权限异常----\", e);\r\n  }\r\n  if (permissionList === null || permissionList === \"\" || permissionList === undefined||permissionList.length<=0) {\r\n    //el.parentNode.removeChild(el)\r\n    return false;\r\n  }\r\n\r\n  console.log(\"流程节点页面权限--NODE--\");\r\n  let permissions = [];\r\n  for (let item of permissionList) {\r\n    if(item.type != '2') {\r\n      permissions.push(item.action);\r\n    }\r\n  }\r\n  //console.log(\"页面权限----\"+permissions);\r\n  //console.log(\"页面权限----\"+binding.value);\r\n  if (!permissions.includes(binding.value)) {\r\n    //el.parentNode.removeChild(el)\r\n    return false;\r\n  }else{\r\n    for (let item2 of permissionList) {\r\n      if(binding.value === item2.action){\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * 全局权限控制\r\n */\r\nexport function filterGlobalPermission(el, binding, vnode) {\r\n  console.log(\"全局页面权限--Global--\");\r\n\r\n  let permissionList = [];\r\n  let allPermissionList = [];\r\n\r\n  //let authList = Vue.ls.get(USER_AUTH);\r\n  let authList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\r\n  for (let auth of authList) {\r\n    if(auth.type != '2') {\r\n      permissionList.push(auth);\r\n    }\r\n  }\r\n  //console.log(\"页面权限--Global--\",sessionStorage.getItem(SYS_BUTTON_AUTH));\r\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\r\n  for (let gauth of allAuthList) {\r\n    if(gauth.type != '2') {\r\n      allPermissionList.push(gauth);\r\n    }\r\n  }\r\n  //设置全局配置是否有命中\r\n  let invalidFlag = false;//无效命中\r\n  if(allPermissionList != null && allPermissionList != \"\" && allPermissionList != undefined && allPermissionList.length > 0){\r\n    for (let itemG of allPermissionList) {\r\n      if(binding.value === itemG.action){\r\n        if(itemG.status == '0'){\r\n          invalidFlag = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if(invalidFlag){\r\n    return;\r\n  }\r\n  if (permissionList === null || permissionList === \"\" || permissionList === undefined||permissionList.length<=0) {\r\n    el.parentNode.removeChild(el);\r\n    return;\r\n  }\r\n  let permissions = [];\r\n  for (let item of permissionList) {\r\n    if(item.type != '2'){\r\n      //update--begin--autor:wangshuai-----date:20200729------for：按钮权限，授权标识的提示信息是多个用逗号分隔逻辑处理 gitee#I1OUGU-------\r\n      if(item.action){\r\n        if(item.action.includes(\",\")){\r\n          let split = item.action.split(\",\")\r\n            for (let i = 0; i <split.length ; i++) {\r\n              if(!split[i] ||split[i].length==0){\r\n                continue;\r\n              }\r\n              permissions.push(split[i]);\r\n          }\r\n        }else{\r\n          permissions.push(item.action);\r\n        }\r\n      }\r\n      //update--end--autor:wangshuai-----date:20200729------for：按钮权限，授权标识的提示信息是多个用逗号分隔逻辑处理 gitee#I1OUGU------\r\n    }\r\n  }\r\n  if (!permissions.includes(binding.value)) {\r\n    el.parentNode.removeChild(el);\r\n  }\r\n}\r\n\r\nexport default hasPermission;\r\n"]}]}