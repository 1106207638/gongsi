{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\system\\modules\\UserModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\system\\modules\\UserModal.vue","mtime":1615948821524},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHBpY2sgZnJvbSAnbG9kYXNoLnBpY2snOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsgLy8g5byV5YWl5pCc57Si6YOo6Zeo5by55Ye65qGG55qE57uE5Lu2CgppbXBvcnQgZGVwYXJ0V2luZG93IGZyb20gJy4vRGVwYXJ0V2luZG93JzsKaW1wb3J0IEpTZWxlY3RQb3NpdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvamVlY2diaXovSlNlbGVjdFBvc2l0aW9uJzsKaW1wb3J0IHsgQUNDRVNTX1RPS0VOIH0gZnJvbSAiQC9zdG9yZS9tdXRhdGlvbi10eXBlcyI7CmltcG9ydCB7IGdldEFjdGlvbiB9IGZyb20gJ0AvYXBpL21hbmFnZSc7CmltcG9ydCB7IGFkZFVzZXIsIGVkaXRVc2VyLCBxdWVyeVVzZXJSb2xlLCBxdWVyeWFsbCB9IGZyb20gJ0AvYXBpL2FwaSc7CmltcG9ydCB7IGRpc2FibGVkQXV0aEZpbHRlciB9IGZyb20gIkAvdXRpbHMvYXV0aEZpbHRlciI7CmltcG9ydCB7IGR1cGxpY2F0ZUNoZWNrIH0gZnJvbSAnQC9hcGkvYXBpJzsKaW1wb3J0IEpJbWFnZVVwbG9hZCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2plZWNnL0pJbWFnZVVwbG9hZCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlck1vZGFsIiwKICBjb21wb25lbnRzOiB7CiAgICBKSW1hZ2VVcGxvYWQ6IEpJbWFnZVVwbG9hZCwKICAgIGRlcGFydFdpbmRvdzogZGVwYXJ0V2luZG93LAogICAgSlNlbGVjdFBvc2l0aW9uOiBKU2VsZWN0UG9zaXRpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZXBhcnREaXNhYmxlZDogZmFsc2UsCiAgICAgIC8v5piv5ZCm5piv5oiR55qE6YOo6Zeo6LCD55So6K+l6aG16Z2iCiAgICAgIHJvbGVEaXNhYmxlZDogZmFsc2UsCiAgICAgIC8v5piv5ZCm5piv6KeS6Imy57u05oqk6LCD55So6K+l6aG16Z2iCiAgICAgIG1vZGFsV2lkdGg6IDgwMCwKICAgICAgZHJhd2VyV2lkdGg6IDcwMCwKICAgICAgbW9kYWx0b2dnbGVGbGFnOiB0cnVlLAogICAgICBjb25maXJtRGlydHk6IGZhbHNlLAogICAgICBzZWxlY3RlZERlcGFydEtleXM6IFtdLAogICAgICAvL+S/neWtmOeUqOaIt+mAieaLqemDqOmXqGlkCiAgICAgIGNoZWNrZWREZXBhcnRLZXlzOiBbXSwKICAgICAgY2hlY2tlZERlcGFydE5hbWVzOiBbXSwKICAgICAgLy8g5L+d5a2Y6YOo6Zeo55qE5ZCN56ewID0+dGl0bGUKICAgICAgY2hlY2tlZERlcGFydE5hbWVTdHJpbmc6ICIiLAogICAgICAvLyDkv53lrZjpg6jpl6jnmoTlkI3np7AgPT50aXRsZQogICAgICByZXN1bHREZXBhcnRPcHRpb25zOiBbXSwKICAgICAgdXNlcklkOiAiIiwKICAgICAgLy/kv53lrZjnlKjmiLdpZAogICAgICBkaXNhYmxlU3VibWl0OiBmYWxzZSwKICAgICAgdXNlckRlcGFydE1vZGVsOiB7CiAgICAgICAgdXNlcklkOiAnJywKICAgICAgICBkZXBhcnRJZExpc3Q6IFtdCiAgICAgIH0sCiAgICAgIC8vIOS/neWtmFN5c1VzZXJEZXBhcnTnmoTnlKjmiLfpg6jpl6jkuK3pl7TooajmlbDmja7pnIDopoHnmoTlr7nosaEKICAgICAgZGF0ZUZvcm1hdDogIllZWVktTU0tREQiLAogICAgICB2YWxpZGF0b3JSdWxlczogewogICAgICAgIHVzZXJuYW1lOiB7CiAgICAgICAgICBydWxlczogW3sKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLfotKblj7chJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWxpZGF0b3I6IHRoaXMudmFsaWRhdGVVc2VybmFtZQogICAgICAgICAgfV0KICAgICAgICB9LAogICAgICAgIHBhc3N3b3JkOiB7CiAgICAgICAgICBydWxlczogW3sKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHBhdHRlcm46IC9eKD89LipbYS16QS1aXSkoPz0uKlxkKSg/PS4qW34hQCMkJV4mKigpXytgXC09e306IjsnPD4/LC4vXSkuezgsfSQvLAogICAgICAgICAgICBtZXNzYWdlOiAn5a+G56CB55SxOOS9jeaVsOWtl+OAgeWkp+Wwj+WGmeWtl+avjeWSjOeJueauiuespuWPt+e7hOaIkCEnCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogdGhpcy52YWxpZGF0ZVRvTmV4dFBhc3N3b3JkCiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgY29uZmlybXBhc3N3b3JkOiB7CiAgICAgICAgICBydWxlczogW3sKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fph43mlrDovpPlhaXnmbvlvZXlr4bnoIEhJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWxpZGF0b3I6IHRoaXMuY29tcGFyZVRvRmlyc3RQYXNzd29yZAogICAgICAgICAgfV0KICAgICAgICB9LAogICAgICAgIHJlYWxuYW1lOiB7CiAgICAgICAgICBydWxlczogW3sKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI3np7AhJwogICAgICAgICAgfV0KICAgICAgICB9LAogICAgICAgIHBob25lOiB7CiAgICAgICAgICBydWxlczogW3sKICAgICAgICAgICAgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlUGhvbmUKICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICBlbWFpbDogewogICAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICAgIHZhbGlkYXRvcjogdGhpcy52YWxpZGF0ZUVtYWlsCiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgcm9sZXM6IHt9LAogICAgICAgIC8vICBzZXg6e2luaXRpYWxWYWx1ZTooKCF0aGlzLm1vZGVsLnNleCk/IiI6ICh0aGlzLm1vZGVsLnNleCsiIikpfQogICAgICAgIHdvcmtObzogewogICAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5bel5Y+3JwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWxpZGF0b3I6IHRoaXMudmFsaWRhdGVXb3JrTm8KICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICB0ZWxlcGhvbmU6IHsKICAgICAgICAgIHJ1bGVzOiBbewogICAgICAgICAgICBwYXR0ZXJuOiAvXjBcZHsyLDN9LVsxLTldXGR7Niw3fSQvLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5q2j56Gu55qE5bqn5py65Y+356CBJwogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlcGFydElkU2hvdzogZmFsc2UsCiAgICAgIGRlcGFydElkczogW10sCiAgICAgIC8v6LSf6LSj6YOo6ZeoaWQKICAgICAgdGl0bGU6ICLmk43kvZwiLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgbW9kZWw6IHt9LAogICAgICByb2xlTGlzdDogW10sCiAgICAgIHNlbGVjdGVkUm9sZTogW10sCiAgICAgIGxhYmVsQ29sOiB7CiAgICAgICAgeHM6IHsKICAgICAgICAgIHNwYW46IDI0CiAgICAgICAgfSwKICAgICAgICBzbTogewogICAgICAgICAgc3BhbjogNQogICAgICAgIH0KICAgICAgfSwKICAgICAgd3JhcHBlckNvbDogewogICAgICAgIHhzOiB7CiAgICAgICAgICBzcGFuOiAyNAogICAgICAgIH0sCiAgICAgICAgc206IHsKICAgICAgICAgIHNwYW46IDE2CiAgICAgICAgfQogICAgICB9LAogICAgICB1cGxvYWRMb2FkaW5nOiBmYWxzZSwKICAgICAgY29uZmlybUxvYWRpbmc6IGZhbHNlLAogICAgICBoZWFkZXJzOiB7fSwKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICBwaWNVcmw6ICIiLAogICAgICB1cmw6IHsKICAgICAgICBmaWxlVXBsb2FkOiB3aW5kb3cuX0NPTkZJR1snZG9taWFuVVJMJ10gKyAiL3N5cy9jb21tb24vdXBsb2FkIiwKICAgICAgICB1c2VyV2l0aERlcGFydDogIi9zeXMvdXNlci91c2VyRGVwYXJ0TGlzdCIsCiAgICAgICAgLy8g5byV5YWl5Li65oyH5a6a55So5oi35p+l55yL6YOo6Zeo5L+h5oGv6ZyA6KaB55qEdXJsCiAgICAgICAgdXNlcklkOiAiL3N5cy91c2VyL2dlbmVyYXRlVXNlcklkIiwKICAgICAgICAvLyDlvJXlhaXnlJ/miJDmt7vliqDnlKjmiLfmg4XlhrXkuIvnmoR1cmwKICAgICAgICBzeW5jVXNlckJ5VXNlck5hbWU6ICIvYWN0L3Byb2Nlc3MvZXh0QWN0UHJvY2Vzcy9kb1N5bmNVc2VyQnlVc2VyTmFtZSIsCiAgICAgICAgLy/lkIzmraXnlKjmiLfliLDlt6XkvZzmtYEKICAgICAgICBxdWVyeVRlbmFudExpc3Q6ICcvc3lzL3RlbmFudC9xdWVyeUxpc3QnCiAgICAgIH0sCiAgICAgIGlkZW50aXR5OiAiMSIsCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgdGVuYW50TGlzdDogW10sCiAgICAgIGN1cnJlbnRUZW5hbnQ6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB0b2tlbiA9IFZ1ZS5scy5nZXQoQUNDRVNTX1RPS0VOKTsKICAgIHRoaXMuaGVhZGVycyA9IHsKICAgICAgIlgtQWNjZXNzLVRva2VuIjogdG9rZW4KICAgIH07CiAgICB0aGlzLmluaXRUZW5hbnRMaXN0KCk7CiAgfSwKICBjb21wdXRlZDogewogICAgdXBsb2FkQWN0aW9uOiBmdW5jdGlvbiB1cGxvYWRBY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLnVybC5maWxlVXBsb2FkOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaXNEaXNhYmxlZEF1dGg6IGZ1bmN0aW9uIGlzRGlzYWJsZWRBdXRoKGNvZGUpIHsKICAgICAgcmV0dXJuIGRpc2FibGVkQXV0aEZpbHRlcihjb2RlKTsKICAgIH0sCiAgICBpbml0VGVuYW50TGlzdDogZnVuY3Rpb24gaW5pdFRlbmFudExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBnZXRBY3Rpb24odGhpcy51cmwucXVlcnlUZW5hbnRMaXN0KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzLnRlbmFudExpc3QgPSByZXMucmVzdWx0OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/nqpflj6PmnIDlpKfljJbliIfmjaIKICAgIHRvZ2dsZVNjcmVlbjogZnVuY3Rpb24gdG9nZ2xlU2NyZWVuKCkgewogICAgICBpZiAodGhpcy5tb2RhbHRvZ2dsZUZsYWcpIHsKICAgICAgICB0aGlzLm1vZGFsV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vZGFsV2lkdGggPSA4MDA7CiAgICAgIH0KCiAgICAgIHRoaXMubW9kYWx0b2dnbGVGbGFnID0gIXRoaXMubW9kYWx0b2dnbGVGbGFnOwogICAgfSwKICAgIGluaXRpYWxSb2xlTGlzdDogZnVuY3Rpb24gaW5pdGlhbFJvbGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHF1ZXJ5YWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczIucm9sZUxpc3QgPSByZXMucmVzdWx0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkVXNlclJvbGVzOiBmdW5jdGlvbiBsb2FkVXNlclJvbGVzKHVzZXJpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHF1ZXJ5VXNlclJvbGUoewogICAgICAgIHVzZXJpZDogdXNlcmlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMzLnNlbGVjdGVkUm9sZSA9IHJlcy5yZXN1bHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWREZXBhcnRLZXlzID0gW107CiAgICAgIHRoaXMuY2hlY2tlZERlcGFydEtleXMgPSBbXTsKICAgICAgdGhpcy5jaGVja2VkRGVwYXJ0TmFtZXMgPSBbXTsKICAgICAgdGhpcy5jaGVja2VkRGVwYXJ0TmFtZVN0cmluZyA9ICIiOwogICAgICB0aGlzLnVzZXJJZCA9ICIiOwogICAgICB0aGlzLnJlc3VsdERlcGFydE9wdGlvbnMgPSBbXTsKICAgICAgdGhpcy5kZXBhcnRJZCA9IFtdOwogICAgICB0aGlzLmRlcGFydElkU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmN1cnJlbnRUZW5hbnQgPSBbXTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdGhpcy5waWNVcmwgPSAiIjsKICAgICAgdGhpcy5yZWZyZXNoKCk7CiAgICAgIHRoaXMuZWRpdCh7CiAgICAgICAgYWN0aXZpdGlTeW5jOiAnMScKICAgICAgfSk7CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyZWNvcmQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnJlc2V0U2NyZWVuU2l6ZSgpOyAvLyDosIPnlKjmraTmlrnms5Us5qC55o2u5bGP5bmV5a695bqm6Ieq6YCC5bqU6LCD5pW05oq95bGJ55qE5a695bqmCgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQuaW5pdGlhbFJvbGVMaXN0KCk7CiAgICAgIHRoYXQuY2hlY2tlZERlcGFydE5hbWVTdHJpbmcgPSAiIjsKICAgICAgdGhhdC5mb3JtLnJlc2V0RmllbGRzKCk7CgogICAgICBpZiAocmVjb3JkLmhhc093blByb3BlcnR5KCJpZCIpKSB7CiAgICAgICAgdGhhdC5sb2FkVXNlclJvbGVzKHJlY29yZC5pZCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQuZmlsZUxpc3QgPSByZWNvcmQuYXZhdGFyOwogICAgICAgIH0sIDUpOwogICAgICB9CgogICAgICB0aGF0LnVzZXJJZCA9IHJlY29yZC5pZDsKICAgICAgdGhhdC52aXNpYmxlID0gdHJ1ZTsKICAgICAgdGhhdC5tb2RlbCA9IE9iamVjdC5hc3NpZ24oe30sIHJlY29yZCk7CiAgICAgIHRoYXQuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGF0LmZvcm0uc2V0RmllbGRzVmFsdWUocGljayhfdGhpczQubW9kZWwsICd1c2VybmFtZScsICdzZXgnLCAncmVhbG5hbWUnLCAnZW1haWwnLCAncGhvbmUnLCAnYWN0aXZpdGlTeW5jJywgJ3dvcmtObycsICd0ZWxlcGhvbmUnLCAncG9zdCcpKTsKICAgICAgfSk7IC8v6Lqr5Lu95Li65LiK57qn5pi+56S66LSf6LSj6YOo6Zeo77yM5ZCm5YiZ5LiN5pi+56S6CgogICAgICBpZiAodGhpcy5tb2RlbC51c2VySWRlbnRpdHkgPT0gIjIiKSB7CiAgICAgICAgdGhpcy5pZGVudGl0eSA9ICIyIjsKICAgICAgICB0aGlzLmRlcGFydElkU2hvdyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pZGVudGl0eSA9ICIxIjsKICAgICAgICB0aGlzLmRlcGFydElkU2hvdyA9IGZhbHNlOwogICAgICB9IC8vIOiwg+eUqOafpeivoueUqOaIt+WvueW6lOeahOmDqOmXqOS/oeaBr+eahOaWueazlQoKCiAgICAgIHRoYXQuY2hlY2tlZERlcGFydEtleXMgPSBbXTsKICAgICAgdGhhdC5sb2FkQ2hlY2tlZERlcGFydHMoKTsgLy91cGRhdGUtYmVnaW4tYXV0aG9yOnRhb3lhbiBkYXRlOjIwMjA3MTAgZm9yOuWkmuenn+aIt+mFjee9rgoKICAgICAgaWYgKCFyZWNvcmQucmVsVGVuYW50SWRzIHx8IHJlY29yZC5yZWxUZW5hbnRJZHMubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLmN1cnJlbnRUZW5hbnQgPSBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmN1cnJlbnRUZW5hbnQgPSByZWNvcmQucmVsVGVuYW50SWRzLnNwbGl0KCcsJykubWFwKE51bWJlcik7CiAgICAgIH0gLy91cGRhdGUtZW5kLWF1dGhvcjp0YW95YW4gZGF0ZToyMDIwNzEwIGZvcjrlpJrnp5/miLfphY3nva4KCiAgICB9LAogICAgLy8KICAgIGxvYWRDaGVja2VkRGVwYXJ0czogZnVuY3Rpb24gbG9hZENoZWNrZWREZXBhcnRzKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIGlmICghdGhhdC51c2VySWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGdldEFjdGlvbih0aGF0LnVybC51c2VyV2l0aERlcGFydCwgewogICAgICAgIHVzZXJJZDogdGhhdC51c2VySWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdGhhdC5jaGVja2VkRGVwYXJ0TmFtZXMgPSBbXTsKCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB2YXIgZGVwYXJ0ID0gW107CiAgICAgICAgICB2YXIgZGVwYXJ0SWQgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5yZXN1bHQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhhdC5jaGVja2VkRGVwYXJ0TmFtZXMucHVzaChyZXMucmVzdWx0W2ldLnRpdGxlKTsKICAgICAgICAgICAgX3RoaXM1LmNoZWNrZWREZXBhcnROYW1lU3RyaW5nID0gX3RoaXM1LmNoZWNrZWREZXBhcnROYW1lcy5qb2luKCIsIik7CiAgICAgICAgICAgIHRoYXQuY2hlY2tlZERlcGFydEtleXMucHVzaChyZXMucmVzdWx0W2ldLmtleSk7IC8v5paw5aKe6LSf6LSj6YOo6Zeo6YCJ5oup5LiL5ouJ5qGGCgogICAgICAgICAgICBkZXBhcnQucHVzaCh7CiAgICAgICAgICAgICAga2V5OiByZXMucmVzdWx0W2ldLmtleSwKICAgICAgICAgICAgICB0aXRsZTogcmVzLnJlc3VsdFtpXS50aXRsZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZGVwYXJ0SWQucHVzaChyZXMucmVzdWx0W2ldLmtleSk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhhdC5yZXN1bHREZXBhcnRPcHRpb25zID0gZGVwYXJ0OyAvL+WIpOaWremDqOmXqGlk5piv5ZCm5a2Y5Zyo77yM5LiN5a2Y5Zyo5oup55u05o6l6buY6K6k5b2T5YmN5omA5Zyo6YOo6ZeoCgogICAgICAgICAgaWYgKF90aGlzNS5tb2RlbC5kZXBhcnRJZHMpIHsKICAgICAgICAgICAgX3RoaXM1LmRlcGFydElkcyA9IF90aGlzNS5tb2RlbC5kZXBhcnRJZHMuc3BsaXQoIiwiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNS5kZXBhcnRJZHMgPSBkZXBhcnRJZDsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGF0LnVzZXJEZXBhcnRNb2RlbC5kZXBhcnRJZExpc3QgPSB0aGF0LmNoZWNrZWREZXBhcnRLZXlzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLmRpc2FibGVTdWJtaXQgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RlZFJvbGUgPSBbXTsKICAgICAgdGhpcy51c2VyRGVwYXJ0TW9kZWwgPSB7CiAgICAgICAgdXNlcklkOiAnJywKICAgICAgICBkZXBhcnRJZExpc3Q6IFtdCiAgICAgIH07CiAgICAgIHRoaXMuY2hlY2tlZERlcGFydE5hbWVzID0gW107CiAgICAgIHRoaXMuY2hlY2tlZERlcGFydE5hbWVTdHJpbmcgPSAnJzsKICAgICAgdGhpcy5jaGVja2VkRGVwYXJ0S2V5cyA9IFtdOwogICAgICB0aGlzLnNlbGVjdGVkRGVwYXJ0S2V5cyA9IFtdOwogICAgICB0aGlzLnJlc3VsdERlcGFydE9wdGlvbnMgPSBbXTsKICAgICAgdGhpcy5kZXBhcnRJZHMgPSBbXTsKICAgICAgdGhpcy5kZXBhcnRJZFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5pZGVudGl0eSA9ICIxIjsKICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgfSwKICAgIG1vbWVudDogbW9tZW50LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHRoYXQgPSB0aGlzOyAvLyDop6blj5HooajljZXpqozor4EKCiAgICAgIHRoaXMuZm9ybS52YWxpZGF0ZUZpZWxkcyhmdW5jdGlvbiAoZXJyLCB2YWx1ZXMpIHsKICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgdGhhdC5jb25maXJtTG9hZGluZyA9IHRydWU7CgogICAgICAgICAgaWYgKCF2YWx1ZXMuYmlydGhkYXkpIHsKICAgICAgICAgICAgdmFsdWVzLmJpcnRoZGF5ID0gJyc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YWx1ZXMuYmlydGhkYXkgPSB2YWx1ZXMuYmlydGhkYXkuZm9ybWF0KF90aGlzNi5kYXRlRm9ybWF0KTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBPYmplY3QuYXNzaWduKF90aGlzNi5tb2RlbCwgdmFsdWVzKTsKCiAgICAgICAgICBpZiAodGhhdC5maWxlTGlzdCAhPSAnJykgewogICAgICAgICAgICBmb3JtRGF0YS5hdmF0YXIgPSB0aGF0LmZpbGVMaXN0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9ybURhdGEuYXZhdGFyID0gbnVsbDsKICAgICAgICAgIH0gLy91cGRhdGUtYmVnaW4tYXV0aG9yOnRhb3lhbiBkYXRlOjIwMjA3MTAgZm9yOuWkmuenn+aIt+mFjee9rgoKCiAgICAgICAgICBmb3JtRGF0YS5yZWxUZW5hbnRJZHMgPSBfdGhpczYuY3VycmVudFRlbmFudC5sZW5ndGggPiAwID8gX3RoaXM2LmN1cnJlbnRUZW5hbnQuam9pbignLCcpIDogJyc7IC8vdXBkYXRlLWVuZC1hdXRob3I6dGFveWFuIGRhdGU6MjAyMDcxMCBmb3I65aSa56ef5oi36YWN572uCgogICAgICAgICAgZm9ybURhdGEuc2VsZWN0ZWRyb2xlcyA9IF90aGlzNi5zZWxlY3RlZFJvbGUubGVuZ3RoID4gMCA/IF90aGlzNi5zZWxlY3RlZFJvbGUuam9pbigiLCIpIDogJyc7CiAgICAgICAgICBmb3JtRGF0YS5zZWxlY3RlZGRlcGFydHMgPSBfdGhpczYudXNlckRlcGFydE1vZGVsLmRlcGFydElkTGlzdC5sZW5ndGggPiAwID8gX3RoaXM2LnVzZXJEZXBhcnRNb2RlbC5kZXBhcnRJZExpc3Quam9pbigiLCIpIDogJyc7CiAgICAgICAgICBmb3JtRGF0YS51c2VySWRlbnRpdHkgPSBfdGhpczYuaWRlbnRpdHk7IC8v5aaC5p6c5piv5LiK57qn5oup5Lyg5YWlZGVwYXJ0SWRzLOWQpuWImeS4uuepugoKICAgICAgICAgIGlmIChfdGhpczYuaWRlbnRpdHkgPT09ICIyIikgewogICAgICAgICAgICBmb3JtRGF0YS5kZXBhcnRJZHMgPSBfdGhpczYuZGVwYXJ0SWRzLmpvaW4oIiwiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvcm1EYXRhLmRlcGFydElkcyA9ICIiOwogICAgICAgICAgfSAvLyB0aGF0LmFkZERlcGFydHNUb1VzZXIodGhhdCxmb3JtRGF0YSk7IC8vIOiwg+eUqOagueaNruW9k+WJjeeUqOaIt+a3u+WKoOmDqOmXqOS/oeaBr+eahOaWueazlQoKCiAgICAgICAgICB2YXIgb2JqOwoKICAgICAgICAgIGlmICghX3RoaXM2Lm1vZGVsLmlkKSB7CiAgICAgICAgICAgIGZvcm1EYXRhLmlkID0gX3RoaXM2LnVzZXJJZDsKICAgICAgICAgICAgb2JqID0gYWRkVXNlcihmb3JtRGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvYmogPSBlZGl0VXNlcihmb3JtRGF0YSk7CiAgICAgICAgICB9CgogICAgICAgICAgb2JqLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICAgIHRoYXQuJGVtaXQoJ29rJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS53YXJuaW5nKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoYXQuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhhdC5jaGVja2VkRGVwYXJ0TmFtZXMgPSBbXTsKICAgICAgICAgICAgdGhhdC51c2VyRGVwYXJ0TW9kZWwuZGVwYXJ0SWRMaXN0ID0gewogICAgICAgICAgICAgIHVzZXJJZDogJycsCiAgICAgICAgICAgICAgZGVwYXJ0SWRMaXN0OiBbXQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGF0LmNsb3NlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNhbmNlbDogZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKCkgewogICAgICB0aGlzLmNsb3NlKCk7CiAgICB9LAogICAgdmFsaWRhdGVUb05leHRQYXNzd29yZDogZnVuY3Rpb24gdmFsaWRhdGVUb05leHRQYXNzd29yZChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIGZvcm0gPSB0aGlzLmZvcm07CiAgICAgIHZhciBjb25maXJtcGFzc3dvcmQgPSBmb3JtLmdldEZpZWxkVmFsdWUoJ2NvbmZpcm1wYXNzd29yZCcpOwoKICAgICAgaWYgKHZhbHVlICYmIGNvbmZpcm1wYXNzd29yZCAmJiB2YWx1ZSAhPT0gY29uZmlybXBhc3N3b3JkKSB7CiAgICAgICAgY2FsbGJhY2soJ+S4pOasoei+k+WFpeeahOWvhueggeS4jeS4gOagt++8gScpOwogICAgICB9CgogICAgICBpZiAodmFsdWUgJiYgdGhpcy5jb25maXJtRGlydHkpIHsKICAgICAgICBmb3JtLnZhbGlkYXRlRmllbGRzKFsnY29uZmlybSddLCB7CiAgICAgICAgICBmb3JjZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CgogICAgICBjYWxsYmFjaygpOwogICAgfSwKICAgIGNvbXBhcmVUb0ZpcnN0UGFzc3dvcmQ6IGZ1bmN0aW9uIGNvbXBhcmVUb0ZpcnN0UGFzc3dvcmQocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciBmb3JtID0gdGhpcy5mb3JtOwoKICAgICAgaWYgKHZhbHVlICYmIHZhbHVlICE9PSBmb3JtLmdldEZpZWxkVmFsdWUoJ3Bhc3N3b3JkJykpIHsKICAgICAgICBjYWxsYmFjaygn5Lik5qyh6L6T5YWl55qE5a+G56CB5LiN5LiA5qC377yBJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlUGhvbmU6IGZ1bmN0aW9uIHZhbGlkYXRlUGhvbmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vdXBkYXRlLWJlZ2luLS1BdXRob3I6a2FuZ3hpYW9saW4gIERhdGU6MjAxOTA4MjYgZm9y77yaWzA1XSDmiYvmnLrlj7fkuI3mlK/mjIExOTnlj7fnoIHmrrUtLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGlmIChuZXcgUmVnRXhwKC9eMVszfDR8NXw3fDh8OV1bMC05XVxkezh9JC8pLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICAvL3VwZGF0ZS1lbmQtLUF1dGhvcjprYW5neGlhb2xpbiAgRGF0ZToyMDE5MDgyNiBmb3LvvJpbMDVdIOaJi+acuuWPt+S4jeaUr+aMgTE5OeWPt+eggeautS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICB0YWJsZU5hbWU6ICdzeXNfdXNlcicsCiAgICAgICAgICAgIGZpZWxkTmFtZTogJ3Bob25lJywKICAgICAgICAgICAgZmllbGRWYWw6IHZhbHVlLAogICAgICAgICAgICBkYXRhSWQ6IHRoaXMudXNlcklkCiAgICAgICAgICB9OwogICAgICAgICAgZHVwbGljYXRlQ2hlY2socGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjYWxsYmFjaygi5omL5py65Y+35bey5a2Y5ZyoISIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soIuivt+i+k+WFpeato+ehruagvOW8j+eahOaJi+acuuWPt+eggSEiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZUVtYWlsOiBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobmV3IFJlZ0V4cCgvXigoW148PigpXFtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVxbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLykudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgIHRhYmxlTmFtZTogJ3N5c191c2VyJywKICAgICAgICAgICAgZmllbGROYW1lOiAnZW1haWwnLAogICAgICAgICAgICBmaWVsZFZhbDogdmFsdWUsCiAgICAgICAgICAgIGRhdGFJZDogdGhpcy51c2VySWQKICAgICAgICAgIH07CiAgICAgICAgICBkdXBsaWNhdGVDaGVjayhwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjYWxsYmFjaygi6YKu566x5bey5a2Y5ZyoISIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soIuivt+i+k+WFpeato+ehruagvOW8j+eahOmCrueusSEiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZVVzZXJuYW1lOiBmdW5jdGlvbiB2YWxpZGF0ZVVzZXJuYW1lKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHRhYmxlTmFtZTogJ3N5c191c2VyJywKICAgICAgICBmaWVsZE5hbWU6ICd1c2VybmFtZScsCiAgICAgICAgZmllbGRWYWw6IHZhbHVlLAogICAgICAgIGRhdGFJZDogdGhpcy51c2VySWQKICAgICAgfTsKICAgICAgZHVwbGljYXRlQ2hlY2socGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKCLnlKjmiLflkI3lt7LlrZjlnKghIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB2YWxpZGF0ZVdvcmtObzogZnVuY3Rpb24gdmFsaWRhdGVXb3JrTm8ocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgdGFibGVOYW1lOiAnc3lzX3VzZXInLAogICAgICAgIGZpZWxkTmFtZTogJ3dvcmtfbm8nLAogICAgICAgIGZpZWxkVmFsOiB2YWx1ZSwKICAgICAgICBkYXRhSWQ6IHRoaXMudXNlcklkCiAgICAgIH07CiAgICAgIGR1cGxpY2F0ZUNoZWNrKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjYWxsYmFjaygi5bel5Y+35bey5a2Y5ZyoISIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ29uZmlybUJsdXI6IGZ1bmN0aW9uIGhhbmRsZUNvbmZpcm1CbHVyKGUpIHsKICAgICAgdmFyIHZhbHVlID0gZS50YXJnZXQudmFsdWU7CiAgICAgIHRoaXMuY29uZmlybURpcnR5ID0gdGhpcy5jb25maXJtRGlydHkgfHwgISF2YWx1ZTsKICAgIH0sCiAgICBub3JtRmlsZTogZnVuY3Rpb24gbm9ybUZpbGUoZSkgewogICAgICBjb25zb2xlLmxvZygnVXBsb2FkIGV2ZW50OicsIGUpOwoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHsKICAgICAgICByZXR1cm4gZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGUgJiYgZS5maWxlTGlzdDsKICAgIH0sCiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBmaWxlVHlwZSA9IGZpbGUudHlwZTsKCiAgICAgIGlmIChmaWxlVHlwZS5pbmRleE9mKCdpbWFnZScpIDwgMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+35LiK5Lyg5Zu+54mHJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vVE9ETyDpqozor4Hmlofku7blpKflsI8KCiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoaW5mbykgewogICAgICB0aGlzLnBpY1VybCA9ICIiOwoKICAgICAgaWYgKGluZm8uZmlsZS5zdGF0dXMgPT09ICd1cGxvYWRpbmcnKSB7CiAgICAgICAgdGhpcy51cGxvYWRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChpbmZvLmZpbGUuc3RhdHVzID09PSAnZG9uZScpIHsKICAgICAgICB2YXIgcmVzcG9uc2UgPSBpbmZvLmZpbGUucmVzcG9uc2U7CiAgICAgICAgdGhpcy51cGxvYWRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgdGhpcy5tb2RlbC5hdmF0YXIgPSByZXNwb25zZS5tZXNzYWdlOwogICAgICAgICAgdGhpcy5waWNVcmwgPSAiSGFzIG5vIHBpYyB1cmwgeWV0IjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKHJlc3BvbnNlLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOaQnOe0oueUqOaIt+WvueW6lOeahOmDqOmXqEFQSQogICAgb25TZWFyY2g6IGZ1bmN0aW9uIG9uU2VhcmNoKCkgewogICAgICB0aGlzLiRyZWZzLmRlcGFydFdpbmRvdy5hZGQodGhpcy5jaGVja2VkRGVwYXJ0S2V5cywgdGhpcy51c2VySWQpOwogICAgfSwKICAgIC8vIOiOt+WPlueUqOaIt+WvueW6lOmDqOmXqOW8ueWHuuahhuaPkOS6pOe7mei/lOWbnueahOaVsOaNrgogICAgbW9kYWxGb3JtT2s6IGZ1bmN0aW9uIG1vZGFsRm9ybU9rKGZvcm1EYXRhKSB7CiAgICAgIHRoaXMuY2hlY2tlZERlcGFydE5hbWVzID0gW107CiAgICAgIHRoaXMuc2VsZWN0ZWREZXBhcnRLZXlzID0gW107CiAgICAgIHRoaXMuY2hlY2tlZERlcGFydE5hbWVTdHJpbmcgPSAnJzsKICAgICAgdGhpcy51c2VySWQgPSBmb3JtRGF0YS51c2VySWQ7CiAgICAgIHRoaXMudXNlckRlcGFydE1vZGVsLnVzZXJJZCA9IGZvcm1EYXRhLnVzZXJJZDsKICAgICAgdGhpcy5kZXBhcnRJZHMgPSBbXTsKICAgICAgdGhpcy5yZXN1bHREZXBhcnRPcHRpb25zID0gW107CiAgICAgIHZhciBkZXBhcnQgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybURhdGEuZGVwYXJ0SWRMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZERlcGFydEtleXMucHVzaChmb3JtRGF0YS5kZXBhcnRJZExpc3RbaV0ua2V5KTsKICAgICAgICB0aGlzLmNoZWNrZWREZXBhcnROYW1lcy5wdXNoKGZvcm1EYXRhLmRlcGFydElkTGlzdFtpXS50aXRsZSk7CiAgICAgICAgdGhpcy5jaGVja2VkRGVwYXJ0TmFtZVN0cmluZyA9IHRoaXMuY2hlY2tlZERlcGFydE5hbWVzLmpvaW4oIiwiKTsgLy/mlrDlop7pg6jpl6jpgInmi6nvvIzlpoLmnpzkuIrpnaLpg6jpl6jpgInmi6nlkI7kuI3kuLrnqbrnm7TmjqXku5jnu5notJ/otKPpg6jpl6gKCiAgICAgICAgZGVwYXJ0LnB1c2goewogICAgICAgICAga2V5OiBmb3JtRGF0YS5kZXBhcnRJZExpc3RbaV0ua2V5LAogICAgICAgICAgdGl0bGU6IGZvcm1EYXRhLmRlcGFydElkTGlzdFtpXS50aXRsZQogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGVwYXJ0SWRzLnB1c2goZm9ybURhdGEuZGVwYXJ0SWRMaXN0W2ldLmtleSk7CiAgICAgIH0KCiAgICAgIHRoaXMucmVzdWx0RGVwYXJ0T3B0aW9ucyA9IGRlcGFydDsKICAgICAgdGhpcy51c2VyRGVwYXJ0TW9kZWwuZGVwYXJ0SWRMaXN0ID0gdGhpcy5zZWxlY3RlZERlcGFydEtleXM7CiAgICAgIHRoaXMuY2hlY2tlZERlcGFydEtleXMgPSB0aGlzLnNlbGVjdGVkRGVwYXJ0S2V5czsgLy/mm7TmlrDlvZPliY3nmoTpgInmi6lrZXlzCiAgICB9LAogICAgLy8g5qC55o2u5bGP5bmV5Y+Y5YyWLOiuvue9ruaKveWxieWwuuWvuAogICAgcmVzZXRTY3JlZW5TaXplOiBmdW5jdGlvbiByZXNldFNjcmVlblNpemUoKSB7CiAgICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CgogICAgICBpZiAoc2NyZWVuV2lkdGggPCA1MDApIHsKICAgICAgICB0aGlzLmRyYXdlcldpZHRoID0gc2NyZWVuV2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kcmF3ZXJXaWR0aCA9IDcwMDsKICAgICAgfQogICAgfSwKICAgIGlkZW50aXR5Q2hhbmdlOiBmdW5jdGlvbiBpZGVudGl0eUNoYW5nZShlKSB7CiAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gIjEiKSB7CiAgICAgICAgdGhpcy5kZXBhcnRJZFNob3cgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRlcGFydElkU2hvdyA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["UserModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-drawer\r\n    :title=\"title\"\r\n    :maskClosable=\"true\"\r\n    :width=\"drawerWidth\"\r\n    placement=\"right\"\r\n    :closable=\"true\"\r\n    @close=\"handleCancel\"\r\n    :visible=\"visible\"\r\n    style=\"height: 100%;overflow: auto;padding-bottom: 53px;\">\r\n\r\n    <template slot=\"title\">\r\n      <div style=\"width: 100%;\">\r\n        <span>{{ title }}</span>\r\n        <span style=\"display:inline-block;width:calc(100% - 51px);padding-right:10px;text-align: right\">\r\n          <a-button @click=\"toggleScreen\" icon=\"appstore\" style=\"height:20px;width:20px;border:0px\"></a-button>\r\n        </span>\r\n      </div>\r\n\r\n    </template>\r\n\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-form :form=\"form\">\r\n\r\n        <a-form-item label=\"用户账号\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-input placeholder=\"请输入用户账号\" v-decorator.trim=\"[ 'username', validatorRules.username]\" :readOnly=\"!!model.id\"/>\r\n        </a-form-item>\r\n\r\n        <template v-if=\"!model.id\">\r\n          <a-form-item label=\"登录密码\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" >\r\n            <a-input type=\"password\" placeholder=\"请输入登录密码\" v-decorator=\"[ 'password',validatorRules.password]\" />\r\n          </a-form-item>\r\n\r\n          <a-form-item label=\"确认密码\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" >\r\n            <a-input type=\"password\" @blur=\"handleConfirmBlur\" placeholder=\"请重新输入登录密码\" v-decorator=\"[ 'confirmpassword', validatorRules.confirmpassword]\"/>\r\n          </a-form-item>\r\n        </template>\r\n\r\n        <a-form-item label=\"用户姓名\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" >\r\n          <a-input placeholder=\"请输入用户姓名\" v-decorator.trim=\"[ 'realname', validatorRules.realname]\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"工号\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-input placeholder=\"请输入工号\" v-decorator.trim=\"[ 'workNo', validatorRules.workNo]\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"职务\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <j-select-position placeholder=\"请选择职务\" :multiple=\"false\" v-decorator=\"['post', {}]\"/>\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"角色分配\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" v-show=\"!roleDisabled\" >\r\n          <a-select\r\n            mode=\"multiple\"\r\n            :disabled=\"departDisabled\"\r\n            style=\"width: 100%\"\r\n            placeholder=\"请选择用户角色\"\r\n            optionFilterProp = \"children\"\r\n            v-model=\"selectedRole\"\r\n            :getPopupContainer= \"(target) => target.parentNode\">\r\n            <a-select-option v-for=\"(role,roleindex) in roleList\" :key=\"roleindex.toString()\" :value=\"role.id\">\r\n              {{ role.roleName }}\r\n            </a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n\r\n        <!--部门分配-->\r\n        <a-form-item label=\"部门分配\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" v-show=\"!departDisabled\">\r\n          <a-input-search\r\n            placeholder=\"点击选择部门\"\r\n            v-model=\"checkedDepartNameString\"\r\n            readOnly\r\n            @search=\"onSearch\">\r\n            <a-button slot=\"enterButton\" icon=\"search\">选择</a-button>\r\n          </a-input-search>\r\n        </a-form-item>\r\n\r\n        <!--租户分配-->\r\n        <a-form-item label=\"租户分配\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" v-show=\"!departDisabled\">\r\n\r\n          <a-select\r\n            mode=\"multiple\"\r\n            style=\"width: 100%\"\r\n            placeholder=\"请选择租户分配\"\r\n            :disabled=\"disableSubmit\"\r\n            v-model=\"currentTenant\">\r\n            <a-select-option v-for=\"(item, index) in tenantList\" :key=\"index\" :value=\"item.id\">\r\n              {{ item.name }}\r\n            </a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n\r\n       <!-- update--begin--autor:wangshuai-----date:20200108------for：新增身份和负责部门------ -->\r\n        <a-form-item label=\"身份\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-radio-group\r\n            v-model=\"identity\"\r\n            @change=\"identityChange\">\r\n            <a-radio value=\"1\">普通用户</a-radio>\r\n            <a-radio value=\"2\">上级</a-radio>\r\n          </a-radio-group>\r\n        </a-form-item>\r\n        <a-form-item label=\"负责部门\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\"  v-if=\"departIdShow==true\">\r\n          <a-select\r\n            mode=\"multiple\"\r\n            style=\"width: 100%\"\r\n            placeholder=\"请选择负责部门\"\r\n            v-model=\"departIds\"\r\n            optionFilterProp = \"children\"\r\n            :getPopupContainer = \"(target) => target.parentNode\"\r\n            :dropdownStyle=\"{maxHeight:'200px',overflow:'auto'}\"\r\n          >\r\n            <a-select-option v-for=\"item in resultDepartOptions\" :key=\"item.key\" :value=\"item.key\"\r\n            >{{item.title}}</a-select-option\r\n            >\r\n          </a-select>\r\n        </a-form-item>\r\n        <!-- update--end--autor:wangshuai-----date:20200108------for：新增身份和负责部门------ -->\r\n        <a-form-item label=\"头像\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <j-image-upload class=\"avatar-uploader\" text=\"上传\" v-model=\"fileList\" ></j-image-upload>\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"生日\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-date-picker\r\n            style=\"width: 100%\"\r\n            placeholder=\"请选择生日\"\r\n            v-decorator=\"['birthday', {initialValue:!model.birthday?null:moment(model.birthday,dateFormat)}]\"\r\n            :getCalendarContainer=\"node => node.parentNode\"/>\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"性别\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-select v-decorator=\"[ 'sex', {}]\" placeholder=\"请选择性别\" :getPopupContainer= \"(target) => target.parentNode\">\r\n            <a-select-option :value=\"1\">男</a-select-option>\r\n            <a-select-option :value=\"2\">女</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"邮箱\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-input placeholder=\"请输入邮箱\" v-decorator=\"[ 'email', validatorRules.email]\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"手机号码\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-input placeholder=\"请输入手机号码\" :disabled=\"isDisabledAuth('user:form:phone')\" v-decorator=\"[ 'phone', validatorRules.phone]\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"座机\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-input placeholder=\"请输入座机\" v-decorator=\"[ 'telephone', validatorRules.telephone]\"/>\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"工作流引擎\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <j-dict-select-tag  v-decorator=\"['activitiSync', {}]\" placeholder=\"请选择是否同步工作流引擎\" :type=\"'radio'\" :triggerChange=\"true\" dictCode=\"activiti_sync\"/>\r\n        </a-form-item>\r\n\r\n      </a-form>\r\n    </a-spin>\r\n    <depart-window ref=\"departWindow\" @ok=\"modalFormOk\"></depart-window>\r\n\r\n    <div class=\"drawer-bootom-button\" v-show=\"!disableSubmit\">\r\n      <a-popconfirm title=\"确定放弃编辑？\" @confirm=\"handleCancel\" okText=\"确定\" cancelText=\"取消\">\r\n        <a-button style=\"margin-right: .8rem\">取消</a-button>\r\n      </a-popconfirm>\r\n      <a-button @click=\"handleSubmit\" type=\"primary\" :loading=\"confirmLoading\">提交</a-button>\r\n    </div>\r\n  </a-drawer>\r\n</template>\r\n\r\n<script>\r\n  import pick from 'lodash.pick'\r\n  import moment from 'moment'\r\n  import Vue from 'vue'\r\n  // 引入搜索部门弹出框的组件\r\n  import departWindow from './DepartWindow'\r\n  import JSelectPosition from '@/components/jeecgbiz/JSelectPosition'\r\n  import { ACCESS_TOKEN } from \"@/store/mutation-types\"\r\n  import { getAction } from '@/api/manage'\r\n  import {addUser,editUser,queryUserRole,queryall } from '@/api/api'\r\n  import { disabledAuthFilter } from \"@/utils/authFilter\"\r\n  import {duplicateCheck } from '@/api/api'\r\n  import JImageUpload from '../../../components/jeecg/JImageUpload'\r\n\r\n  export default {\r\n    name: \"UserModal\",\r\n    components: {\r\n      JImageUpload,\r\n      departWindow,\r\n      JSelectPosition\r\n    },\r\n    data () {\r\n      return {\r\n        departDisabled: false, //是否是我的部门调用该页面\r\n        roleDisabled: false, //是否是角色维护调用该页面\r\n        modalWidth:800,\r\n        drawerWidth:700,\r\n        modaltoggleFlag:true,\r\n        confirmDirty: false,\r\n        selectedDepartKeys:[], //保存用户选择部门id\r\n        checkedDepartKeys:[],\r\n        checkedDepartNames:[], // 保存部门的名称 =>title\r\n        checkedDepartNameString:\"\", // 保存部门的名称 =>title\r\n        resultDepartOptions:[],\r\n        userId:\"\", //保存用户id\r\n        disableSubmit:false,\r\n        userDepartModel:{userId:'',departIdList:[]}, // 保存SysUserDepart的用户部门中间表数据需要的对象\r\n        dateFormat:\"YYYY-MM-DD\",\r\n        validatorRules:{\r\n          username:{\r\n            rules: [{\r\n              required: true, message: '请输入用户账号!'\r\n            },{\r\n              validator: this.validateUsername,\r\n            }]\r\n          },\r\n          password:{\r\n            rules: [{\r\n              required: true,\r\n              pattern:/^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[~!@#$%^&*()_+`\\-={}:\";'<>?,./]).{8,}$/,\r\n              message: '密码由8位数字、大小写字母和特殊符号组成!'\r\n            }, {\r\n              validator: this.validateToNextPassword,\r\n            }],\r\n          },\r\n          confirmpassword:{\r\n            rules: [{\r\n              required: true, message: '请重新输入登录密码!',\r\n            }, {\r\n              validator: this.compareToFirstPassword,\r\n            }],\r\n          },\r\n          realname:{rules: [{ required: true, message: '请输入用户名称!' }]},\r\n          phone:{rules: [{validator: this.validatePhone}]},\r\n          email:{\r\n            rules: [{\r\n              validator: this.validateEmail\r\n            }],\r\n          },\r\n          roles:{},\r\n          //  sex:{initialValue:((!this.model.sex)?\"\": (this.model.sex+\"\"))}\r\n          workNo: {\r\n            rules: [\r\n              { required: true, message: '请输入工号' },\r\n              { validator: this.validateWorkNo }\r\n            ]\r\n          },\r\n          telephone: {\r\n            rules: [\r\n              { pattern: /^0\\d{2,3}-[1-9]\\d{6,7}$/, message: '请输入正确的座机号码' },\r\n            ]\r\n          }\r\n        },\r\n        departIdShow:false,\r\n        departIds:[], //负责部门id\r\n        title:\"操作\",\r\n        visible: false,\r\n        model: {},\r\n        roleList:[],\r\n        selectedRole:[],\r\n        labelCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 5 },\r\n        },\r\n        wrapperCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 16 },\r\n        },\r\n        uploadLoading:false,\r\n        confirmLoading: false,\r\n        headers:{},\r\n        form:this.$form.createForm(this),\r\n        picUrl: \"\",\r\n        url: {\r\n          fileUpload: window._CONFIG['domianURL']+\"/sys/common/upload\",\r\n          userWithDepart: \"/sys/user/userDepartList\", // 引入为指定用户查看部门信息需要的url\r\n          userId:\"/sys/user/generateUserId\", // 引入生成添加用户情况下的url\r\n          syncUserByUserName:\"/act/process/extActProcess/doSyncUserByUserName\",//同步用户到工作流\r\n          queryTenantList: '/sys/tenant/queryList'\r\n        },\r\n        identity:\"1\",\r\n        fileList:[],\r\n        tenantList: [],\r\n        currentTenant:[]\r\n      }\r\n    },\r\n    created () {\r\n      const token = Vue.ls.get(ACCESS_TOKEN);\r\n      this.headers = {\"X-Access-Token\":token}\r\n      this.initTenantList()\r\n\r\n    },\r\n    computed:{\r\n      uploadAction:function () {\r\n        return this.url.fileUpload;\r\n      }\r\n    },\r\n    methods: {\r\n      isDisabledAuth(code){\r\n        return disabledAuthFilter(code);\r\n      },\r\n      initTenantList(){\r\n        getAction(this.url.queryTenantList).then(res=>{\r\n          if(res.success){\r\n            this.tenantList = res.result\r\n          }\r\n        })\r\n      },\r\n      //窗口最大化切换\r\n      toggleScreen(){\r\n        if(this.modaltoggleFlag){\r\n          this.modalWidth = window.innerWidth;\r\n        }else{\r\n          this.modalWidth = 800;\r\n        }\r\n        this.modaltoggleFlag = !this.modaltoggleFlag;\r\n      },\r\n      initialRoleList(){\r\n        queryall().then((res)=>{\r\n          if(res.success){\r\n            this.roleList = res.result;\r\n          }else{\r\n            console.log(res.message);\r\n          }\r\n        });\r\n      },\r\n      loadUserRoles(userid){\r\n        queryUserRole({userid:userid}).then((res)=>{\r\n          if(res.success){\r\n            this.selectedRole = res.result;\r\n          }else{\r\n            console.log(res.message);\r\n          }\r\n        });\r\n      },\r\n      refresh () {\r\n          this.selectedDepartKeys=[];\r\n          this.checkedDepartKeys=[];\r\n          this.checkedDepartNames=[];\r\n          this.checkedDepartNameString = \"\";\r\n          this.userId=\"\"\r\n          this.resultDepartOptions=[];\r\n          this.departId=[];\r\n          this.departIdShow=false;\r\n          this.currentTenant = []\r\n      },\r\n      add () {\r\n        this.picUrl = \"\";\r\n        this.refresh();\r\n        this.edit({activitiSync:'1'});\r\n      },\r\n      edit (record) {\r\n        this.resetScreenSize(); // 调用此方法,根据屏幕宽度自适应调整抽屉的宽度\r\n        let that = this;\r\n        that.initialRoleList();\r\n        that.checkedDepartNameString = \"\";\r\n        that.form.resetFields();\r\n        if(record.hasOwnProperty(\"id\")){\r\n          that.loadUserRoles(record.id);\r\n          setTimeout(() => {\r\n            this.fileList = record.avatar;\r\n          }, 5)\r\n        }\r\n        that.userId = record.id;\r\n        that.visible = true;\r\n        that.model = Object.assign({}, record);\r\n        that.$nextTick(() => {\r\n          that.form.setFieldsValue(pick(this.model,'username','sex','realname','email','phone','activitiSync','workNo','telephone','post'))\r\n        });\r\n        //身份为上级显示负责部门，否则不显示\r\n        if(this.model.userIdentity==\"2\"){\r\n            this.identity=\"2\";\r\n            this.departIdShow=true;\r\n        }else{\r\n            this.identity=\"1\";\r\n            this.departIdShow=false;\r\n        }\r\n        // 调用查询用户对应的部门信息的方法\r\n        that.checkedDepartKeys = [];\r\n        that.loadCheckedDeparts();\r\n\r\n        //update-begin-author:taoyan date:2020710 for:多租户配置\r\n        if(!record.relTenantIds || record.relTenantIds.length==0){\r\n          this.currentTenant = []\r\n        }else{\r\n          this.currentTenant = record.relTenantIds.split(',').map(Number);\r\n        }\r\n        //update-end-author:taoyan date:2020710 for:多租户配置\r\n      },\r\n      //\r\n      loadCheckedDeparts(){\r\n        let that = this;\r\n        if(!that.userId){return}\r\n        getAction(that.url.userWithDepart,{userId:that.userId}).then((res)=>{\r\n          that.checkedDepartNames = [];\r\n          if(res.success){\r\n            var depart=[];\r\n            var departId=[];\r\n            for (let i = 0; i < res.result.length; i++) {\r\n              that.checkedDepartNames.push(res.result[i].title);\r\n              this.checkedDepartNameString = this.checkedDepartNames.join(\",\");\r\n              that.checkedDepartKeys.push(res.result[i].key);\r\n              //新增负责部门选择下拉框\r\n              depart.push({\r\n                  key:res.result[i].key,\r\n                  title:res.result[i].title\r\n              })\r\n              departId.push(res.result[i].key)\r\n            }\r\n            that.resultDepartOptions=depart;\r\n            //判断部门id是否存在，不存在择直接默认当前所在部门\r\n            if(this.model.departIds){\r\n                this.departIds=this.model.departIds.split(\",\");\r\n            }else{\r\n                this.departIds=departId;\r\n            }\r\n            that.userDepartModel.departIdList = that.checkedDepartKeys\r\n          }else{\r\n            console.log(res.message);\r\n          }\r\n        })\r\n      },\r\n      close () {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.disableSubmit = false;\r\n        this.selectedRole = [];\r\n        this.userDepartModel = {userId:'',departIdList:[]};\r\n        this.checkedDepartNames = [];\r\n        this.checkedDepartNameString='';\r\n        this.checkedDepartKeys = [];\r\n        this.selectedDepartKeys = [];\r\n        this.resultDepartOptions=[];\r\n        this.departIds=[];\r\n        this.departIdShow=false;\r\n        this.identity=\"1\";\r\n        this.fileList=[];\r\n      },\r\n      moment,\r\n      handleSubmit () {\r\n\r\n        const that = this;\r\n        // 触发表单验证\r\n        this.form.validateFields((err, values) => {\r\n          if (!err) {\r\n            that.confirmLoading = true;\r\n            if(!values.birthday){\r\n              values.birthday = '';\r\n            }else{\r\n              values.birthday = values.birthday.format(this.dateFormat);\r\n            }\r\n            let formData = Object.assign(this.model, values);\r\n            if(that.fileList != ''){\r\n              formData.avatar = that.fileList;\r\n            }else{\r\n              formData.avatar = null;\r\n            }\r\n            //update-begin-author:taoyan date:2020710 for:多租户配置\r\n            formData.relTenantIds = this.currentTenant.length>0?this.currentTenant.join(','):''\r\n            //update-end-author:taoyan date:2020710 for:多租户配置\r\n            formData.selectedroles = this.selectedRole.length>0?this.selectedRole.join(\",\"):'';\r\n            formData.selecteddeparts = this.userDepartModel.departIdList.length>0?this.userDepartModel.departIdList.join(\",\"):'';\r\n            formData.userIdentity=this.identity;\r\n            //如果是上级择传入departIds,否则为空\r\n            if(this.identity===\"2\"){\r\n              formData.departIds=this.departIds.join(\",\");\r\n            }else{\r\n              formData.departIds=\"\";\r\n            }\r\n            // that.addDepartsToUser(that,formData); // 调用根据当前用户添加部门信息的方法\r\n            let obj;\r\n            if(!this.model.id){\r\n              formData.id = this.userId;\r\n              obj=addUser(formData);\r\n            }else{\r\n              obj=editUser(formData);\r\n            }\r\n            obj.then((res)=>{\r\n              if(res.success){\r\n                that.$message.success(res.message);\r\n                that.$emit('ok');\r\n              }else{\r\n                that.$message.warning(res.message);\r\n              }\r\n            }).finally(() => {\r\n              that.confirmLoading = false;\r\n              that.checkedDepartNames = [];\r\n              that.userDepartModel.departIdList = {userId:'',departIdList:[]};\r\n              that.close();\r\n            })\r\n\r\n          }\r\n        })\r\n      },\r\n      handleCancel () {\r\n        this.close()\r\n      },\r\n      validateToNextPassword  (rule, value, callback) {\r\n        const form = this.form;\r\n        const confirmpassword=form.getFieldValue('confirmpassword');\r\n\r\n        if (value && confirmpassword && value !== confirmpassword) {\r\n          callback('两次输入的密码不一样！');\r\n        }\r\n        if (value && this.confirmDirty) {\r\n          form.validateFields(['confirm'], { force: true })\r\n        }\r\n        callback();\r\n      },\r\n      compareToFirstPassword  (rule, value, callback) {\r\n        const form = this.form;\r\n        if (value && value !== form.getFieldValue('password')) {\r\n          callback('两次输入的密码不一样！');\r\n        } else {\r\n          callback()\r\n        }\r\n      },\r\n      validatePhone(rule, value, callback){\r\n        if(!value){\r\n          callback()\r\n        }else{\r\n          //update-begin--Author:kangxiaolin  Date:20190826 for：[05] 手机号不支持199号码段--------------------\r\n          if(new RegExp(/^1[3|4|5|7|8|9][0-9]\\d{8}$/).test(value)){\r\n            //update-end--Author:kangxiaolin  Date:20190826 for：[05] 手机号不支持199号码段--------------------\r\n\r\n            var params = {\r\n              tableName: 'sys_user',\r\n              fieldName: 'phone',\r\n              fieldVal: value,\r\n              dataId: this.userId\r\n            };\r\n            duplicateCheck(params).then((res) => {\r\n              if (res.success) {\r\n                callback()\r\n              } else {\r\n                callback(\"手机号已存在!\")\r\n              }\r\n            })\r\n          }else{\r\n            callback(\"请输入正确格式的手机号码!\");\r\n          }\r\n        }\r\n      },\r\n      validateEmail(rule, value, callback){\r\n        if(!value){\r\n          callback()\r\n        }else{\r\n          if(new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(value)){\r\n            var params = {\r\n              tableName: 'sys_user',\r\n              fieldName: 'email',\r\n              fieldVal: value,\r\n              dataId: this.userId\r\n            };\r\n            duplicateCheck(params).then((res) => {\r\n              console.log(res)\r\n              if (res.success) {\r\n                callback()\r\n              } else {\r\n                callback(\"邮箱已存在!\")\r\n              }\r\n            })\r\n          }else{\r\n            callback(\"请输入正确格式的邮箱!\")\r\n          }\r\n        }\r\n      },\r\n      validateUsername(rule, value, callback){\r\n        var params = {\r\n          tableName: 'sys_user',\r\n          fieldName: 'username',\r\n          fieldVal: value,\r\n          dataId: this.userId\r\n        };\r\n        duplicateCheck(params).then((res) => {\r\n          if (res.success) {\r\n          callback()\r\n        } else {\r\n          callback(\"用户名已存在!\")\r\n        }\r\n      })\r\n      },\r\n      validateWorkNo(rule, value, callback){\r\n        var params = {\r\n          tableName: 'sys_user',\r\n          fieldName: 'work_no',\r\n          fieldVal: value,\r\n          dataId: this.userId\r\n        };\r\n        duplicateCheck(params).then((res) => {\r\n          if (res.success) {\r\n            callback()\r\n          } else {\r\n            callback(\"工号已存在!\")\r\n          }\r\n        })\r\n      },\r\n      handleConfirmBlur  (e) {\r\n        const value = e.target.value;\r\n        this.confirmDirty = this.confirmDirty || !!value\r\n      },\r\n\r\n      normFile  (e) {\r\n        console.log('Upload event:', e);\r\n        if (Array.isArray(e)) {\r\n          return e\r\n        }\r\n        return e && e.fileList\r\n      },\r\n      beforeUpload: function(file){\r\n        var fileType = file.type;\r\n        if(fileType.indexOf('image')<0){\r\n          this.$message.warning('请上传图片');\r\n          return false;\r\n        }\r\n        //TODO 验证文件大小\r\n      },\r\n      handleChange (info) {\r\n        this.picUrl = \"\";\r\n        if (info.file.status === 'uploading') {\r\n          this.uploadLoading = true;\r\n          return\r\n        }\r\n        if (info.file.status === 'done') {\r\n          var response = info.file.response;\r\n          this.uploadLoading = false;\r\n          console.log(response);\r\n          if(response.success){\r\n            this.model.avatar = response.message;\r\n            this.picUrl = \"Has no pic url yet\";\r\n          }else{\r\n            this.$message.warning(response.message);\r\n          }\r\n        }\r\n      },\r\n      // 搜索用户对应的部门API\r\n      onSearch(){\r\n        this.$refs.departWindow.add(this.checkedDepartKeys,this.userId);\r\n      },\r\n\r\n      // 获取用户对应部门弹出框提交给返回的数据\r\n      modalFormOk (formData) {\r\n        this.checkedDepartNames = [];\r\n        this.selectedDepartKeys = [];\r\n        this.checkedDepartNameString = '';\r\n        this.userId = formData.userId;\r\n        this.userDepartModel.userId = formData.userId;\r\n        this.departIds=[];\r\n        this.resultDepartOptions=[];\r\n        var depart=[];\r\n        for (let i = 0; i < formData.departIdList.length; i++) {\r\n          this.selectedDepartKeys.push(formData.departIdList[i].key);\r\n          this.checkedDepartNames.push(formData.departIdList[i].title);\r\n          this.checkedDepartNameString = this.checkedDepartNames.join(\",\");\r\n          //新增部门选择，如果上面部门选择后不为空直接付给负责部门\r\n          depart.push({\r\n              key:formData.departIdList[i].key,\r\n              title:formData.departIdList[i].title\r\n          })\r\n          this.departIds.push(formData.departIdList[i].key)\r\n        }\r\n        this.resultDepartOptions=depart;\r\n        this.userDepartModel.departIdList = this.selectedDepartKeys;\r\n        this.checkedDepartKeys = this.selectedDepartKeys  //更新当前的选择keys\r\n       },\r\n      // 根据屏幕变化,设置抽屉尺寸\r\n      resetScreenSize(){\r\n        let screenWidth = document.body.clientWidth;\r\n        if(screenWidth < 500){\r\n          this.drawerWidth = screenWidth;\r\n        }else{\r\n          this.drawerWidth = 700;\r\n        }\r\n      },\r\n      identityChange(e){\r\n        if(e.target.value===\"1\"){\r\n            this.departIdShow=false;\r\n        }else{\r\n            this.departIdShow=true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .avatar-uploader > .ant-upload {\r\n    width:104px;\r\n    height:104px;\r\n  }\r\n  .ant-upload-select-picture-card i {\r\n    font-size: 49px;\r\n    color: #999;\r\n  }\r\n\r\n  .ant-upload-select-picture-card .ant-upload-text {\r\n    margin-top: 8px;\r\n    color: #666;\r\n  }\r\n\r\n  .ant-table-tbody .ant-table-row td{\r\n    padding-top:10px;\r\n    padding-bottom:10px;\r\n  }\r\n\r\n  .drawer-bootom-button {\r\n    position: absolute;\r\n    bottom: -8px;\r\n    width: 100%;\r\n    border-top: 1px solid #e8e8e8;\r\n    padding: 10px 16px;\r\n    text-align: right;\r\n    left: 0;\r\n    background: #fff;\r\n    border-radius: 0 0 2px 2px;\r\n  }\r\n</style>"],"sourceRoot":"src/views/system/modules"}]}