{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\src\\components\\jeecg\\dynamic\\cm_hint.js","dependencies":[{"path":"D:\\vue\\src\\components\\jeecg\\dynamic\\cm_hint.js","mtime":1615948814839},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnMKLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHBzOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRQppbXBvcnQgeyBqc19rZXl3b3JkLCBqc19tZXRob2QgfSBmcm9tICcuL1Jlc291cmNlJzsKCihmdW5jdGlvbiAobW9kKSB7CiAgbW9kKENvZGVNaXJyb3IpOwogIC8qaWYgKHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIpIC8vIENvbW1vbkpTDQogICAgbW9kKHJlcXVpcmUoIi4uLy4uL2xpYi9jb2RlbWlycm9yIikpOw0KICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EDQogICAgZGVmaW5lKFsiLi4vLi4vbGliL2NvZGVtaXJyb3IiXSwgbW9kKTsNCiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudiovCn0pKGZ1bmN0aW9uIChDb2RlTWlycm9yKSB7CiAgdmFyIFBvcyA9IENvZGVNaXJyb3IuUG9zOwoKICBmdW5jdGlvbiBmb3JFYWNoKGFyciwgZikgewogICAgZm9yICh2YXIgaSA9IDAsIGUgPSBhcnIubGVuZ3RoOyBpIDwgZTsgKytpKSB7CiAgICAgIGYoYXJyW2ldKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMoYXJyLCBpdGVtKSB7CiAgICBpZiAoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7CiAgICAgIHZhciBpID0gYXJyLmxlbmd0aDsKCiAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICBpZiAoYXJyW2ldID09PSBpdGVtKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gYXJyLmluZGV4T2YoaXRlbSkgIT0gLTE7CiAgfQoKICBmdW5jdGlvbiBzY3JpcHRIaW50KGVkaXRvciwga2V5d29yZHMsIGdldFRva2VuLCBvcHRpb25zKSB7CiAgICAvLyBGaW5kIHRoZSB0b2tlbiBhdCB0aGUgY3Vyc29yCiAgICB2YXIgY3VyID0gZWRpdG9yLmdldEN1cnNvcigpLAogICAgICAgIHRva2VuID0gZ2V0VG9rZW4oZWRpdG9yLCBjdXIpOwogICAgaWYgKC9cYig/OnN0cmluZ3xjb21tZW50KVxiLy50ZXN0KHRva2VuLnR5cGUpKSByZXR1cm47CiAgICB2YXIgaW5uZXJNb2RlID0gQ29kZU1pcnJvci5pbm5lck1vZGUoZWRpdG9yLmdldE1vZGUoKSwgdG9rZW4uc3RhdGUpOwogICAgaWYgKGlubmVyTW9kZS5tb2RlLmhlbHBlclR5cGUgPT09ICJqc29uIikgcmV0dXJuOwogICAgdG9rZW4uc3RhdGUgPSBpbm5lck1vZGUuc3RhdGU7CgogICAgaWYgKCcuJyA9PT0gdG9rZW4uc3RyaW5nKSB7CiAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBqc19tZXRob2RbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICB2YXIgayA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgYXJyLnB1c2goayk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGxpc3Q6IGFyciwKICAgICAgICBmcm9tOiBQb3MoY3VyLmxpbmUsIHRva2VuLnN0YXJ0KSwKICAgICAgICB0bzogUG9zKGN1ci5saW5lLCB0b2tlbi5lbmQpCiAgICAgIH07CiAgICB9IC8vIElmIGl0J3Mgbm90IGEgJ3dvcmQtc3R5bGUnIHRva2VuLCBpZ25vcmUgdGhlIHRva2VuLgoKCiAgICBpZiAoIS9eW1x3JF9dKiQvLnRlc3QodG9rZW4uc3RyaW5nKSkgewogICAgICB0b2tlbiA9IHsKICAgICAgICBzdGFydDogY3VyLmNoLAogICAgICAgIGVuZDogY3VyLmNoLAogICAgICAgIHN0cmluZzogIiIsCiAgICAgICAgc3RhdGU6IHRva2VuLnN0YXRlLAogICAgICAgIHR5cGU6IHRva2VuLnN0cmluZyA9PSAiLiIgPyAicHJvcGVydHkiIDogbnVsbAogICAgICB9OwogICAgfSBlbHNlIGlmICh0b2tlbi5lbmQgPiBjdXIuY2gpIHsKICAgICAgdG9rZW4uZW5kID0gY3VyLmNoOwogICAgICB0b2tlbi5zdHJpbmcgPSB0b2tlbi5zdHJpbmcuc2xpY2UoMCwgY3VyLmNoIC0gdG9rZW4uc3RhcnQpOwogICAgfQoKICAgIHZhciB0cHJvcCA9IHRva2VuOyAvLyBJZiBpdCBpcyBhIHByb3BlcnR5LCBmaW5kIG91dCB3aGF0IGl0IGlzIGEgcHJvcGVydHkgb2YuCgogICAgd2hpbGUgKHRwcm9wLnR5cGUgPT0gInByb3BlcnR5IikgewogICAgICB0cHJvcCA9IGdldFRva2VuKGVkaXRvciwgUG9zKGN1ci5saW5lLCB0cHJvcC5zdGFydCkpOwogICAgICBpZiAodHByb3Auc3RyaW5nICE9ICIuIikgcmV0dXJuOwogICAgICB0cHJvcCA9IGdldFRva2VuKGVkaXRvciwgUG9zKGN1ci5saW5lLCB0cHJvcC5zdGFydCkpOwogICAgICBpZiAoIWNvbnRleHQpIHZhciBjb250ZXh0ID0gW107CiAgICAgIGNvbnRleHQucHVzaCh0cHJvcCk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgbGlzdDogZ2V0Q29tcGxldGlvbnModG9rZW4sIGNvbnRleHQsIGtleXdvcmRzLCBvcHRpb25zKSwKICAgICAgZnJvbTogUG9zKGN1ci5saW5lLCB0b2tlbi5zdGFydCksCiAgICAgIHRvOiBQb3MoY3VyLmxpbmUsIHRva2VuLmVuZCkKICAgIH07CiAgfQoKICBmdW5jdGlvbiBqYXZhc2NyaXB0SGludChlZGl0b3IsIG9wdGlvbnMpIHsKICAgIHJldHVybiBzY3JpcHRIaW50KGVkaXRvciwgamF2YXNjcmlwdEtleXdvcmRzLCBmdW5jdGlvbiAoZSwgY3VyKSB7CiAgICAgIHJldHVybiBlLmdldFRva2VuQXQoY3VyKTsKICAgIH0sIG9wdGlvbnMpOwogIH0KCiAgOwogIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoImhpbnQiLCAiamF2YXNjcmlwdCIsIGphdmFzY3JpcHRIaW50KTsKCiAgZnVuY3Rpb24gZ2V0Q29mZmVlU2NyaXB0VG9rZW4oZWRpdG9yLCBjdXIpIHsKICAgIC8vIFRoaXMgZ2V0VG9rZW4sIGl0IGlzIGZvciBjb2ZmZWVzY3JpcHQsIGltaXRhdGVzIHRoZSBiZWhhdmlvciBvZgogICAgLy8gZ2V0VG9rZW5BdCBtZXRob2QgaW4gamF2YXNjcmlwdC5qcywgdGhhdCBpcywgcmV0dXJuaW5nICJwcm9wZXJ0eSIKICAgIC8vIHR5cGUgYW5kIHRyZWF0ICIuIiBhcyBpbmRlcGVuZW50IHRva2VuLgogICAgdmFyIHRva2VuID0gZWRpdG9yLmdldFRva2VuQXQoY3VyKTsKCiAgICBpZiAoY3VyLmNoID09IHRva2VuLnN0YXJ0ICsgMSAmJiB0b2tlbi5zdHJpbmcuY2hhckF0KDApID09ICcuJykgewogICAgICB0b2tlbi5lbmQgPSB0b2tlbi5zdGFydDsKICAgICAgdG9rZW4uc3RyaW5nID0gJy4nOwogICAgICB0b2tlbi50eXBlID0gInByb3BlcnR5IjsKICAgIH0gZWxzZSBpZiAoL15cLltcdyRfXSokLy50ZXN0KHRva2VuLnN0cmluZykpIHsKICAgICAgdG9rZW4udHlwZSA9ICJwcm9wZXJ0eSI7CiAgICAgIHRva2VuLnN0YXJ0Kys7CiAgICAgIHRva2VuLnN0cmluZyA9IHRva2VuLnN0cmluZy5yZXBsYWNlKC9cLi8sICcnKTsKICAgIH0KCiAgICByZXR1cm4gdG9rZW47CiAgfQoKICBmdW5jdGlvbiBjb2ZmZWVzY3JpcHRIaW50KGVkaXRvciwgb3B0aW9ucykgewogICAgcmV0dXJuIHNjcmlwdEhpbnQoZWRpdG9yLCBjb2ZmZWVzY3JpcHRLZXl3b3JkcywgZ2V0Q29mZmVlU2NyaXB0VG9rZW4sIG9wdGlvbnMpOwogIH0KCiAgQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlcigiaGludCIsICJjb2ZmZWVzY3JpcHQiLCBjb2ZmZWVzY3JpcHRIaW50KTsKICB2YXIgc3RyaW5nUHJvcHMgPSAoImNoYXJBdCBjaGFyQ29kZUF0IGluZGV4T2YgbGFzdEluZGV4T2Ygc3Vic3RyaW5nIHN1YnN0ciBzbGljZSB0cmltIHRyaW1MZWZ0IHRyaW1SaWdodCAiICsgInRvVXBwZXJDYXNlIHRvTG93ZXJDYXNlIHNwbGl0IGNvbmNhdCBtYXRjaCByZXBsYWNlIHNlYXJjaCIpLnNwbGl0KCIgIik7CiAgdmFyIGFycmF5UHJvcHMgPSAoImxlbmd0aCBjb25jYXQgam9pbiBzcGxpY2UgcHVzaCBwb3Agc2hpZnQgdW5zaGlmdCBzbGljZSByZXZlcnNlIHNvcnQgaW5kZXhPZiAiICsgImxhc3RJbmRleE9mIGV2ZXJ5IHNvbWUgZmlsdGVyIGZvckVhY2ggbWFwIHJlZHVjZSByZWR1Y2VSaWdodCAiKS5zcGxpdCgiICIpOwogIHZhciBmdW5jUHJvcHMgPSAicHJvdG90eXBlIGFwcGx5IGNhbGwgYmluZCIuc3BsaXQoIiAiKTsKICB2YXIgamF2YXNjcmlwdEtleXdvcmRzID0gKCJicmVhayBjYXNlIGNhdGNoIGNsYXNzIGNvbnN0IGNvbnRpbnVlIGRlYnVnZ2VyIGRlZmF1bHQgZGVsZXRlIGRvIGVsc2UgZXhwb3J0IGV4dGVuZHMgZmFsc2UgZmluYWxseSBmb3IgZnVuY3Rpb24gIiArICJpZiBpbiBpbXBvcnQgaW5zdGFuY2VvZiBuZXcgbnVsbCByZXR1cm4gc3VwZXIgc3dpdGNoIHRoaXMgdGhyb3cgdHJ1ZSB0cnkgdHlwZW9mIHZhciB2b2lkIHdoaWxlIHdpdGggeWllbGQgdGhhdCIpLnNwbGl0KCIgIik7CiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTsKICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7CiAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBqc19rZXl3b3JkW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7CiAgICAgIHZhciBqayA9IF9zdGVwMi52YWx1ZTsKICAgICAgamF2YXNjcmlwdEtleXdvcmRzLnB1c2goamspOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTsKICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTsKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikgewogICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjsKICAgICAgfQogICAgfQogIH0KCiAgdmFyIGNvZmZlZXNjcmlwdEtleXdvcmRzID0gKCJhbmQgYnJlYWsgY2F0Y2ggY2xhc3MgY29udGludWUgZGVsZXRlIGRvIGVsc2UgZXh0ZW5kcyBmYWxzZSBmaW5hbGx5IGZvciAiICsgImlmIGluIGluc3RhbmNlb2YgaXNudCBuZXcgbm8gbm90IG51bGwgb2Ygb2ZmIG9uIG9yIHJldHVybiBzd2l0Y2ggdGhlbiB0aHJvdyB0cnVlIHRyeSB0eXBlb2YgdW50aWwgdm9pZCB3aGlsZSB3aXRoIHllcyIpLnNwbGl0KCIgIik7CgogIGZ1bmN0aW9uIGZvckFsbFByb3BzKG9iaiwgY2FsbGJhY2spIHsKICAgIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgIU9iamVjdC5nZXRQcm90b3R5cGVPZikgewogICAgICBmb3IgKHZhciBuYW1lIGluIG9iaikgewogICAgICAgIGNhbGxiYWNrKG5hbWUpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBvID0gb2JqOyBvOyBvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pKSB7CiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobykuZm9yRWFjaChjYWxsYmFjayk7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGdldENvbXBsZXRpb25zKHRva2VuLCBjb250ZXh0LCBrZXl3b3Jkcywgb3B0aW9ucykgewogICAgdmFyIGZvdW5kID0gW10sCiAgICAgICAgc3RhcnQgPSB0b2tlbi5zdHJpbmcsCiAgICAgICAgZ2xvYmFsID0gb3B0aW9ucyAmJiBvcHRpb25zLmdsb2JhbFNjb3BlIHx8IHdpbmRvdzsKCiAgICBmdW5jdGlvbiBtYXliZUFkZChzdHIpIHsKICAgICAgaWYgKHN0ci5sYXN0SW5kZXhPZihzdGFydCwgMCkgPT0gMCAmJiAhYXJyYXlDb250YWlucyhmb3VuZCwgc3RyKSkgZm91bmQucHVzaChzdHIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdhdGhlckNvbXBsZXRpb25zKG9iaikgewogICAgICBpZiAodHlwZW9mIG9iaiA9PSAic3RyaW5nIikgZm9yRWFjaChzdHJpbmdQcm9wcywgbWF5YmVBZGQpO2Vsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSBmb3JFYWNoKGFycmF5UHJvcHMsIG1heWJlQWRkKTtlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBGdW5jdGlvbikgZm9yRWFjaChmdW5jUHJvcHMsIG1heWJlQWRkKTsKICAgICAgZm9yQWxsUHJvcHMob2JqLCBtYXliZUFkZCk7CiAgICB9CgogICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5sZW5ndGgpIHsKICAgICAgLy8gSWYgdGhpcyBpcyBhIHByb3BlcnR5LCBzZWUgaWYgaXQgYmVsb25ncyB0byBzb21lIG9iamVjdCB3ZSBjYW4KICAgICAgLy8gZmluZCBpbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudC4KICAgICAgdmFyIG9iaiA9IGNvbnRleHQucG9wKCksCiAgICAgICAgICBiYXNlOwoKICAgICAgaWYgKG9iai50eXBlICYmIG9iai50eXBlLmluZGV4T2YoInZhcmlhYmxlIikgPT09IDApIHsKICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFkZGl0aW9uYWxDb250ZXh0KSBiYXNlID0gb3B0aW9ucy5hZGRpdGlvbmFsQ29udGV4dFtvYmouc3RyaW5nXTsKICAgICAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy51c2VHbG9iYWxTY29wZSAhPT0gZmFsc2UpIGJhc2UgPSBiYXNlIHx8IGdsb2JhbFtvYmouc3RyaW5nXTsKICAgICAgfSBlbHNlIGlmIChvYmoudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGJhc2UgPSAiIjsKICAgICAgfSBlbHNlIGlmIChvYmoudHlwZSA9PSAiYXRvbSIpIHsKICAgICAgICBiYXNlID0gMTsKICAgICAgfSBlbHNlIGlmIChvYmoudHlwZSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgaWYgKGdsb2JhbC5qUXVlcnkgIT0gbnVsbCAmJiAob2JqLnN0cmluZyA9PSAnJCcgfHwgb2JqLnN0cmluZyA9PSAnalF1ZXJ5JykgJiYgdHlwZW9mIGdsb2JhbC5qUXVlcnkgPT0gJ2Z1bmN0aW9uJykgYmFzZSA9IGdsb2JhbC5qUXVlcnkoKTtlbHNlIGlmIChnbG9iYWwuXyAhPSBudWxsICYmIG9iai5zdHJpbmcgPT0gJ18nICYmIHR5cGVvZiBnbG9iYWwuXyA9PSAnZnVuY3Rpb24nKSBiYXNlID0gZ2xvYmFsLl8oKTsKICAgICAgfQoKICAgICAgd2hpbGUgKGJhc2UgIT0gbnVsbCAmJiBjb250ZXh0Lmxlbmd0aCkgewogICAgICAgIGJhc2UgPSBiYXNlW2NvbnRleHQucG9wKCkuc3RyaW5nXTsKICAgICAgfQoKICAgICAgaWYgKGJhc2UgIT0gbnVsbCkgZ2F0aGVyQ29tcGxldGlvbnMoYmFzZSk7CiAgICB9IGVsc2UgewogICAgICAvLyBJZiBub3QsIGp1c3QgbG9vayBpbiB0aGUgZ2xvYmFsIG9iamVjdCwgYW55IGxvY2FsIHNjb3BlLCBhbmQgb3B0aW9uYWwgYWRkaXRpb25hbC1jb250ZXh0CiAgICAgIC8vIChyZWFkaW5nIGludG8gSlMgbW9kZSBpbnRlcm5hbHMgdG8gZ2V0IGF0IHRoZSBsb2NhbCBhbmQgZ2xvYmFsIHZhcmlhYmxlcykKICAgICAgZm9yICh2YXIgdiA9IHRva2VuLnN0YXRlLmxvY2FsVmFyczsgdjsgdiA9IHYubmV4dCkgewogICAgICAgIG1heWJlQWRkKHYubmFtZSk7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGMgPSB0b2tlbi5zdGF0ZS5jb250ZXh0OyBjOyBjID0gYy5wcmV2KSB7CiAgICAgICAgZm9yICh2YXIgdiA9IGMudmFyczsgdjsgdiA9IHYubmV4dCkgewogICAgICAgICAgbWF5YmVBZGQodi5uYW1lKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAodmFyIHYgPSB0b2tlbi5zdGF0ZS5nbG9iYWxWYXJzOyB2OyB2ID0gdi5uZXh0KSB7CiAgICAgICAgbWF5YmVBZGQodi5uYW1lKTsKICAgICAgfQoKICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hZGRpdGlvbmFsQ29udGV4dCAhPSBudWxsKSBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5hZGRpdGlvbmFsQ29udGV4dCkgewogICAgICAgIG1heWJlQWRkKGtleSk7CiAgICAgIH0KICAgICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMudXNlR2xvYmFsU2NvcGUgIT09IGZhbHNlKSBnYXRoZXJDb21wbGV0aW9ucyhnbG9iYWwpOwogICAgICBmb3JFYWNoKGtleXdvcmRzLCBtYXliZUFkZCk7CiAgICB9CgogICAgcmV0dXJuIGZvdW5kOwogIH0KfSk7"},{"version":3,"sources":["D:/vue/src/components/jeecg/dynamic/cm_hint.js"],"names":["js_keyword","js_method","mod","CodeMirror","Pos","forEach","arr","f","i","e","length","arrayContains","item","Array","prototype","indexOf","scriptHint","editor","keywords","getToken","options","cur","getCursor","token","test","type","innerMode","getMode","state","mode","helperType","string","k","push","list","from","line","start","to","end","ch","slice","tprop","context","getCompletions","javascriptHint","javascriptKeywords","getTokenAt","registerHelper","getCoffeeScriptToken","charAt","replace","coffeescriptHint","coffeescriptKeywords","stringProps","split","arrayProps","funcProps","jk","forAllProps","obj","callback","Object","getOwnPropertyNames","getPrototypeOf","name","o","found","global","globalScope","window","maybeAdd","str","lastIndexOf","gatherCompletions","Function","pop","base","additionalContext","useGlobalScope","jQuery","_","v","localVars","next","c","prev","vars","globalVars","key"],"mappings":"AAAA;AACA;AACA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,YAAtC;;AACA,CAAC,UAASC,GAAT,EAAc;AACbA,EAAAA,GAAG,CAACC,UAAD,CAAH;AACA;;;;;AAMD,CARD,EAQG,UAASA,UAAT,EAAqB;AACtB,MAAIC,GAAG,GAAGD,UAAU,CAACC,GAArB;;AAEA,WAASC,OAAT,CAAiBC,GAAjB,EAAsBC,CAAtB,EAAyB;AACvB,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGH,GAAG,CAACI,MAAxB,EAAgCF,CAAC,GAAGC,CAApC,EAAuC,EAAED,CAAzC;AAA4CD,MAAAA,CAAC,CAACD,GAAG,CAACE,CAAD,CAAJ,CAAD;AAA5C;AACD;;AAED,WAASG,aAAT,CAAuBL,GAAvB,EAA4BM,IAA5B,EAAkC;AAChC,QAAI,CAACC,KAAK,CAACC,SAAN,CAAgBC,OAArB,EAA8B;AAC5B,UAAIP,CAAC,GAAGF,GAAG,CAACI,MAAZ;;AACA,aAAOF,CAAC,EAAR,EAAY;AACV,YAAIF,GAAG,CAACE,CAAD,CAAH,KAAWI,IAAf,EAAqB;AACnB,iBAAO,IAAP;AACD;AACF;;AACD,aAAO,KAAP;AACD;;AACD,WAAON,GAAG,CAACS,OAAJ,CAAYH,IAAZ,KAAqB,CAAC,CAA7B;AACD;;AAED,WAASI,UAAT,CAAoBC,MAApB,EAA4BC,QAA5B,EAAsCC,QAAtC,EAAgDC,OAAhD,EAAyD;AACvD;AACA,QAAIC,GAAG,GAAGJ,MAAM,CAACK,SAAP,EAAV;AAAA,QAA8BC,KAAK,GAAGJ,QAAQ,CAACF,MAAD,EAASI,GAAT,CAA9C;AACA,QAAI,yBAAyBG,IAAzB,CAA8BD,KAAK,CAACE,IAApC,CAAJ,EAA+C;AAC/C,QAAIC,SAAS,GAAGvB,UAAU,CAACuB,SAAX,CAAqBT,MAAM,CAACU,OAAP,EAArB,EAAuCJ,KAAK,CAACK,KAA7C,CAAhB;AACA,QAAIF,SAAS,CAACG,IAAV,CAAeC,UAAf,KAA8B,MAAlC,EAA0C;AAC1CP,IAAAA,KAAK,CAACK,KAAN,GAAcF,SAAS,CAACE,KAAxB;;AACA,QAAG,QAAQL,KAAK,CAACQ,MAAjB,EAAwB;AACtB,UAAIzB,GAAG,GAAG,EAAV;AADsB;AAAA;AAAA;;AAAA;AAEtB,6BAAaL,SAAb,8HAAuB;AAAA,cAAf+B,CAAe;AACrB1B,UAAAA,GAAG,CAAC2B,IAAJ,CAASD,CAAT;AACD;AAJqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKtB,aAAO;AACLE,QAAAA,IAAI,EAAE5B,GADD;AAEL6B,QAAAA,IAAI,EAAE/B,GAAG,CAACiB,GAAG,CAACe,IAAL,EAAWb,KAAK,CAACc,KAAjB,CAFJ;AAGLC,QAAAA,EAAE,EAAElC,GAAG,CAACiB,GAAG,CAACe,IAAL,EAAWb,KAAK,CAACgB,GAAjB;AAHF,OAAP;AAKD,KAjBsD,CAkBvD;;;AACA,QAAI,CAAC,YAAYf,IAAZ,CAAiBD,KAAK,CAACQ,MAAvB,CAAL,EAAqC;AACnCR,MAAAA,KAAK,GAAG;AAACc,QAAAA,KAAK,EAAEhB,GAAG,CAACmB,EAAZ;AAAgBD,QAAAA,GAAG,EAAElB,GAAG,CAACmB,EAAzB;AAA6BT,QAAAA,MAAM,EAAE,EAArC;AAAyCH,QAAAA,KAAK,EAAEL,KAAK,CAACK,KAAtD;AACNH,QAAAA,IAAI,EAAEF,KAAK,CAACQ,MAAN,IAAgB,GAAhB,GAAsB,UAAtB,GAAmC;AADnC,OAAR;AAED,KAHD,MAGO,IAAIR,KAAK,CAACgB,GAAN,GAAYlB,GAAG,CAACmB,EAApB,EAAwB;AAC7BjB,MAAAA,KAAK,CAACgB,GAAN,GAAYlB,GAAG,CAACmB,EAAhB;AACAjB,MAAAA,KAAK,CAACQ,MAAN,GAAeR,KAAK,CAACQ,MAAN,CAAaU,KAAb,CAAmB,CAAnB,EAAsBpB,GAAG,CAACmB,EAAJ,GAASjB,KAAK,CAACc,KAArC,CAAf;AACD;;AAED,QAAIK,KAAK,GAAGnB,KAAZ,CA3BuD,CA4BvD;;AACA,WAAOmB,KAAK,CAACjB,IAAN,IAAc,UAArB,EAAiC;AAC/BiB,MAAAA,KAAK,GAAGvB,QAAQ,CAACF,MAAD,EAASb,GAAG,CAACiB,GAAG,CAACe,IAAL,EAAWM,KAAK,CAACL,KAAjB,CAAZ,CAAhB;AACA,UAAIK,KAAK,CAACX,MAAN,IAAgB,GAApB,EAAyB;AACzBW,MAAAA,KAAK,GAAGvB,QAAQ,CAACF,MAAD,EAASb,GAAG,CAACiB,GAAG,CAACe,IAAL,EAAWM,KAAK,CAACL,KAAjB,CAAZ,CAAhB;AACA,UAAI,CAACM,OAAL,EAAc,IAAIA,OAAO,GAAG,EAAd;AACdA,MAAAA,OAAO,CAACV,IAAR,CAAaS,KAAb;AACD;;AACD,WAAO;AAACR,MAAAA,IAAI,EAAEU,cAAc,CAACrB,KAAD,EAAQoB,OAAR,EAAiBzB,QAAjB,EAA2BE,OAA3B,CAArB;AACLe,MAAAA,IAAI,EAAE/B,GAAG,CAACiB,GAAG,CAACe,IAAL,EAAWb,KAAK,CAACc,KAAjB,CADJ;AAELC,MAAAA,EAAE,EAAElC,GAAG,CAACiB,GAAG,CAACe,IAAL,EAAWb,KAAK,CAACgB,GAAjB;AAFF,KAAP;AAGD;;AAED,WAASM,cAAT,CAAwB5B,MAAxB,EAAgCG,OAAhC,EAAyC;AACvC,WAAOJ,UAAU,CAACC,MAAD,EAAS6B,kBAAT,EACf,UAAUrC,CAAV,EAAaY,GAAb,EAAkB;AAAC,aAAOZ,CAAC,CAACsC,UAAF,CAAa1B,GAAb,CAAP;AAA0B,KAD9B,EAEfD,OAFe,CAAjB;AAGD;;AAAA;AACDjB,EAAAA,UAAU,CAAC6C,cAAX,CAA0B,MAA1B,EAAkC,YAAlC,EAAgDH,cAAhD;;AAEA,WAASI,oBAAT,CAA8BhC,MAA9B,EAAsCI,GAAtC,EAA2C;AACzC;AACA;AACA;AACA,QAAIE,KAAK,GAAGN,MAAM,CAAC8B,UAAP,CAAkB1B,GAAlB,CAAZ;;AACA,QAAIA,GAAG,CAACmB,EAAJ,IAAUjB,KAAK,CAACc,KAAN,GAAc,CAAxB,IAA6Bd,KAAK,CAACQ,MAAN,CAAamB,MAAb,CAAoB,CAApB,KAA0B,GAA3D,EAAgE;AAC9D3B,MAAAA,KAAK,CAACgB,GAAN,GAAYhB,KAAK,CAACc,KAAlB;AACAd,MAAAA,KAAK,CAACQ,MAAN,GAAe,GAAf;AACAR,MAAAA,KAAK,CAACE,IAAN,GAAa,UAAb;AACD,KAJD,MAKK,IAAI,cAAcD,IAAd,CAAmBD,KAAK,CAACQ,MAAzB,CAAJ,EAAsC;AACzCR,MAAAA,KAAK,CAACE,IAAN,GAAa,UAAb;AACAF,MAAAA,KAAK,CAACc,KAAN;AACAd,MAAAA,KAAK,CAACQ,MAAN,GAAeR,KAAK,CAACQ,MAAN,CAAaoB,OAAb,CAAqB,IAArB,EAA2B,EAA3B,CAAf;AACD;;AACD,WAAO5B,KAAP;AACD;;AAED,WAAS6B,gBAAT,CAA0BnC,MAA1B,EAAkCG,OAAlC,EAA2C;AACzC,WAAOJ,UAAU,CAACC,MAAD,EAASoC,oBAAT,EAA+BJ,oBAA/B,EAAqD7B,OAArD,CAAjB;AACD;;AACDjB,EAAAA,UAAU,CAAC6C,cAAX,CAA0B,MAA1B,EAAkC,cAAlC,EAAkDI,gBAAlD;AAEA,MAAIE,WAAW,GAAG,CAAC,0FACjB,2DADgB,EAC6CC,KAD7C,CACmD,GADnD,CAAlB;AAEA,MAAIC,UAAU,GAAG,CAAC,iFAChB,+DADe,EACkDD,KADlD,CACwD,GADxD,CAAjB;AAEA,MAAIE,SAAS,GAAG,4BAA4BF,KAA5B,CAAkC,GAAlC,CAAhB;AAEA,MAAIT,kBAAkB,GAAG,CAAC,qHACxB,gHADuB,EAC2FS,KAD3F,CACiG,GADjG,CAAzB;AAjGsB;AAAA;AAAA;;AAAA;AAmGtB,0BAAcvD,UAAd,mIAAyB;AAAA,UAAjB0D,EAAiB;AACvBZ,MAAAA,kBAAkB,CAACb,IAAnB,CAAwByB,EAAxB;AACD;AArGqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAsGtB,MAAIL,oBAAoB,GAAG,CAAC,6EAC1B,uHADyB,EACgGE,KADhG,CACsG,GADtG,CAA3B;;AAGA,WAASI,WAAT,CAAqBC,GAArB,EAA0BC,QAA1B,EAAoC;AAClC,QAAI,CAACC,MAAM,CAACC,mBAAR,IAA+B,CAACD,MAAM,CAACE,cAA3C,EAA2D;AACzD,WAAK,IAAIC,IAAT,IAAiBL,GAAjB;AAAsBC,QAAAA,QAAQ,CAACI,IAAD,CAAR;AAAtB;AACD,KAFD,MAEO;AACL,WAAK,IAAIC,CAAC,GAAGN,GAAb,EAAkBM,CAAlB,EAAqBA,CAAC,GAAGJ,MAAM,CAACE,cAAP,CAAsBE,CAAtB,CAAzB;AACEJ,QAAAA,MAAM,CAACC,mBAAP,CAA2BG,CAA3B,EAA8B7D,OAA9B,CAAsCwD,QAAtC;AADF;AAED;AACF;;AAED,WAASjB,cAAT,CAAwBrB,KAAxB,EAA+BoB,OAA/B,EAAwCzB,QAAxC,EAAkDE,OAAlD,EAA2D;AACzD,QAAI+C,KAAK,GAAG,EAAZ;AAAA,QAAgB9B,KAAK,GAAGd,KAAK,CAACQ,MAA9B;AAAA,QAAsCqC,MAAM,GAAGhD,OAAO,IAAIA,OAAO,CAACiD,WAAnB,IAAkCC,MAAjF;;AACA,aAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACrB,UAAIA,GAAG,CAACC,WAAJ,CAAgBpC,KAAhB,EAAuB,CAAvB,KAA6B,CAA7B,IAAkC,CAAC1B,aAAa,CAACwD,KAAD,EAAQK,GAAR,CAApD,EAAkEL,KAAK,CAAClC,IAAN,CAAWuC,GAAX;AACnE;;AACD,aAASE,iBAAT,CAA2Bd,GAA3B,EAAgC;AAC9B,UAAI,OAAOA,GAAP,IAAc,QAAlB,EAA4BvD,OAAO,CAACiD,WAAD,EAAciB,QAAd,CAAP,CAA5B,KACK,IAAIX,GAAG,YAAY/C,KAAnB,EAA0BR,OAAO,CAACmD,UAAD,EAAae,QAAb,CAAP,CAA1B,KACA,IAAIX,GAAG,YAAYe,QAAnB,EAA6BtE,OAAO,CAACoD,SAAD,EAAYc,QAAZ,CAAP;AAClCZ,MAAAA,WAAW,CAACC,GAAD,EAAMW,QAAN,CAAX;AACD;;AAED,QAAI5B,OAAO,IAAIA,OAAO,CAACjC,MAAvB,EAA+B;AAC7B;AACA;AACA,UAAIkD,GAAG,GAAGjB,OAAO,CAACiC,GAAR,EAAV;AAAA,UAAyBC,IAAzB;;AACA,UAAIjB,GAAG,CAACnC,IAAJ,IAAYmC,GAAG,CAACnC,IAAJ,CAASV,OAAT,CAAiB,UAAjB,MAAiC,CAAjD,EAAoD;AAClD,YAAIK,OAAO,IAAIA,OAAO,CAAC0D,iBAAvB,EACED,IAAI,GAAGzD,OAAO,CAAC0D,iBAAR,CAA0BlB,GAAG,CAAC7B,MAA9B,CAAP;AACF,YAAI,CAACX,OAAD,IAAYA,OAAO,CAAC2D,cAAR,KAA2B,KAA3C,EACEF,IAAI,GAAGA,IAAI,IAAIT,MAAM,CAACR,GAAG,CAAC7B,MAAL,CAArB;AACH,OALD,MAKO,IAAI6B,GAAG,CAACnC,IAAJ,IAAY,QAAhB,EAA0B;AAC/BoD,QAAAA,IAAI,GAAG,EAAP;AACD,OAFM,MAEA,IAAIjB,GAAG,CAACnC,IAAJ,IAAY,MAAhB,EAAwB;AAC7BoD,QAAAA,IAAI,GAAG,CAAP;AACD,OAFM,MAEA,IAAIjB,GAAG,CAACnC,IAAJ,IAAY,UAAhB,EAA4B;AACjC,YAAI2C,MAAM,CAACY,MAAP,IAAiB,IAAjB,KAA0BpB,GAAG,CAAC7B,MAAJ,IAAc,GAAd,IAAqB6B,GAAG,CAAC7B,MAAJ,IAAc,QAA7D,KACD,OAAOqC,MAAM,CAACY,MAAd,IAAwB,UAD3B,EAEEH,IAAI,GAAGT,MAAM,CAACY,MAAP,EAAP,CAFF,KAGK,IAAIZ,MAAM,CAACa,CAAP,IAAY,IAAZ,IAAqBrB,GAAG,CAAC7B,MAAJ,IAAc,GAAnC,IAA4C,OAAOqC,MAAM,CAACa,CAAd,IAAmB,UAAnE,EACHJ,IAAI,GAAGT,MAAM,CAACa,CAAP,EAAP;AACH;;AACD,aAAOJ,IAAI,IAAI,IAAR,IAAgBlC,OAAO,CAACjC,MAA/B;AACEmE,QAAAA,IAAI,GAAGA,IAAI,CAAClC,OAAO,CAACiC,GAAR,GAAc7C,MAAf,CAAX;AADF;;AAEA,UAAI8C,IAAI,IAAI,IAAZ,EAAkBH,iBAAiB,CAACG,IAAD,CAAjB;AACnB,KAvBD,MAuBO;AACL;AACA;AACA,WAAK,IAAIK,CAAC,GAAG3D,KAAK,CAACK,KAAN,CAAYuD,SAAzB,EAAoCD,CAApC,EAAuCA,CAAC,GAAGA,CAAC,CAACE,IAA7C;AAAmDb,QAAAA,QAAQ,CAACW,CAAC,CAACjB,IAAH,CAAR;AAAnD;;AACA,WAAK,IAAIoB,CAAC,GAAG9D,KAAK,CAACK,KAAN,CAAYe,OAAzB,EAAkC0C,CAAlC,EAAqCA,CAAC,GAAGA,CAAC,CAACC,IAA3C;AACE,aAAK,IAAIJ,CAAC,GAAGG,CAAC,CAACE,IAAf,EAAqBL,CAArB,EAAwBA,CAAC,GAAGA,CAAC,CAACE,IAA9B;AAAoCb,UAAAA,QAAQ,CAACW,CAAC,CAACjB,IAAH,CAAR;AAApC;AADF;;AAEA,WAAK,IAAIiB,CAAC,GAAG3D,KAAK,CAACK,KAAN,CAAY4D,UAAzB,EAAqCN,CAArC,EAAwCA,CAAC,GAAGA,CAAC,CAACE,IAA9C;AAAoDb,QAAAA,QAAQ,CAACW,CAAC,CAACjB,IAAH,CAAR;AAApD;;AACA,UAAI7C,OAAO,IAAIA,OAAO,CAAC0D,iBAAR,IAA6B,IAA5C,EACE,KAAK,IAAIW,GAAT,IAAgBrE,OAAO,CAAC0D,iBAAxB;AACEP,QAAAA,QAAQ,CAACkB,GAAD,CAAR;AADF;AAEF,UAAI,CAACrE,OAAD,IAAYA,OAAO,CAAC2D,cAAR,KAA2B,KAA3C,EACEL,iBAAiB,CAACN,MAAD,CAAjB;AACF/D,MAAAA,OAAO,CAACa,QAAD,EAAWqD,QAAX,CAAP;AACD;;AACD,WAAOJ,KAAP;AACD;AACF,CA7KD","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: https://codemirror.net/LICENSE\r\nimport { js_keyword, js_method } from './Resource'\r\n(function(mod) {\r\n  mod(CodeMirror);\r\n  /*if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env*/\r\n\r\n})(function(CodeMirror) {\r\n  var Pos = CodeMirror.Pos;\r\n\r\n  function forEach(arr, f) {\r\n    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);\r\n  }\r\n\r\n  function arrayContains(arr, item) {\r\n    if (!Array.prototype.indexOf) {\r\n      var i = arr.length;\r\n      while (i--) {\r\n        if (arr[i] === item) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return arr.indexOf(item) != -1;\r\n  }\r\n\r\n  function scriptHint(editor, keywords, getToken, options) {\r\n    // Find the token at the cursor\r\n    var cur = editor.getCursor(), token = getToken(editor, cur);\r\n    if (/\\b(?:string|comment)\\b/.test(token.type)) return;\r\n    var innerMode = CodeMirror.innerMode(editor.getMode(), token.state);\r\n    if (innerMode.mode.helperType === \"json\") return;\r\n    token.state = innerMode.state;\r\n    if('.' === token.string){\r\n      let arr = []\r\n      for(let k of js_method){\r\n        arr.push(k)\r\n      }\r\n      return {\r\n        list: arr,\r\n        from: Pos(cur.line, token.start),\r\n        to: Pos(cur.line, token.end)\r\n      };\r\n    }\r\n    // If it's not a 'word-style' token, ignore the token.\r\n    if (!/^[\\w$_]*$/.test(token.string)) {\r\n      token = {start: cur.ch, end: cur.ch, string: \"\", state: token.state,\r\n        type: token.string == \".\" ? \"property\" : null};\r\n    } else if (token.end > cur.ch) {\r\n      token.end = cur.ch;\r\n      token.string = token.string.slice(0, cur.ch - token.start);\r\n    }\r\n\r\n    var tprop = token;\r\n    // If it is a property, find out what it is a property of.\r\n    while (tprop.type == \"property\") {\r\n      tprop = getToken(editor, Pos(cur.line, tprop.start));\r\n      if (tprop.string != \".\") return;\r\n      tprop = getToken(editor, Pos(cur.line, tprop.start));\r\n      if (!context) var context = [];\r\n      context.push(tprop);\r\n    }\r\n    return {list: getCompletions(token, context, keywords, options),\r\n      from: Pos(cur.line, token.start),\r\n      to: Pos(cur.line, token.end)};\r\n  }\r\n\r\n  function javascriptHint(editor, options) {\r\n    return scriptHint(editor, javascriptKeywords,\r\n      function (e, cur) {return e.getTokenAt(cur);},\r\n      options);\r\n  };\r\n  CodeMirror.registerHelper(\"hint\", \"javascript\", javascriptHint);\r\n\r\n  function getCoffeeScriptToken(editor, cur) {\r\n    // This getToken, it is for coffeescript, imitates the behavior of\r\n    // getTokenAt method in javascript.js, that is, returning \"property\"\r\n    // type and treat \".\" as indepenent token.\r\n    var token = editor.getTokenAt(cur);\r\n    if (cur.ch == token.start + 1 && token.string.charAt(0) == '.') {\r\n      token.end = token.start;\r\n      token.string = '.';\r\n      token.type = \"property\";\r\n    }\r\n    else if (/^\\.[\\w$_]*$/.test(token.string)) {\r\n      token.type = \"property\";\r\n      token.start++;\r\n      token.string = token.string.replace(/\\./, '');\r\n    }\r\n    return token;\r\n  }\r\n\r\n  function coffeescriptHint(editor, options) {\r\n    return scriptHint(editor, coffeescriptKeywords, getCoffeeScriptToken, options);\r\n  }\r\n  CodeMirror.registerHelper(\"hint\", \"coffeescript\", coffeescriptHint);\r\n\r\n  var stringProps = (\"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight \" +\r\n    \"toUpperCase toLowerCase split concat match replace search\").split(\" \");\r\n  var arrayProps = (\"length concat join splice push pop shift unshift slice reverse sort indexOf \" +\r\n    \"lastIndexOf every some filter forEach map reduce reduceRight \").split(\" \");\r\n  var funcProps = \"prototype apply call bind\".split(\" \");\r\n\r\n  var javascriptKeywords = (\"break case catch class const continue debugger default delete do else export extends false finally for function \" +\r\n    \"if in import instanceof new null return super switch this throw true try typeof var void while with yield that\").split(\" \");\r\n  for(let jk of js_keyword){\r\n    javascriptKeywords.push(jk)\r\n  }\r\n  var coffeescriptKeywords = (\"and break catch class continue delete do else extends false finally for \" +\r\n    \"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes\").split(\" \");\r\n\r\n  function forAllProps(obj, callback) {\r\n    if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\r\n      for (var name in obj) callback(name)\r\n    } else {\r\n      for (var o = obj; o; o = Object.getPrototypeOf(o))\r\n        Object.getOwnPropertyNames(o).forEach(callback)\r\n    }\r\n  }\r\n\r\n  function getCompletions(token, context, keywords, options) {\r\n    var found = [], start = token.string, global = options && options.globalScope || window;\r\n    function maybeAdd(str) {\r\n      if (str.lastIndexOf(start, 0) == 0 && !arrayContains(found, str)) found.push(str);\r\n    }\r\n    function gatherCompletions(obj) {\r\n      if (typeof obj == \"string\") forEach(stringProps, maybeAdd);\r\n      else if (obj instanceof Array) forEach(arrayProps, maybeAdd);\r\n      else if (obj instanceof Function) forEach(funcProps, maybeAdd);\r\n      forAllProps(obj, maybeAdd)\r\n    }\r\n\r\n    if (context && context.length) {\r\n      // If this is a property, see if it belongs to some object we can\r\n      // find in the current environment.\r\n      var obj = context.pop(), base;\r\n      if (obj.type && obj.type.indexOf(\"variable\") === 0) {\r\n        if (options && options.additionalContext)\r\n          base = options.additionalContext[obj.string];\r\n        if (!options || options.useGlobalScope !== false)\r\n          base = base || global[obj.string];\r\n      } else if (obj.type == \"string\") {\r\n        base = \"\";\r\n      } else if (obj.type == \"atom\") {\r\n        base = 1;\r\n      } else if (obj.type == \"function\") {\r\n        if (global.jQuery != null && (obj.string == '$' || obj.string == 'jQuery') &&\r\n          (typeof global.jQuery == 'function'))\r\n          base = global.jQuery();\r\n        else if (global._ != null && (obj.string == '_') && (typeof global._ == 'function'))\r\n          base = global._();\r\n      }\r\n      while (base != null && context.length)\r\n        base = base[context.pop().string];\r\n      if (base != null) gatherCompletions(base);\r\n    } else {\r\n      // If not, just look in the global object, any local scope, and optional additional-context\r\n      // (reading into JS mode internals to get at the local and global variables)\r\n      for (var v = token.state.localVars; v; v = v.next) maybeAdd(v.name);\r\n      for (var c = token.state.context; c; c = c.prev)\r\n        for (var v = c.vars; v; v = v.next) maybeAdd(v.name)\r\n      for (var v = token.state.globalVars; v; v = v.next) maybeAdd(v.name);\r\n      if (options && options.additionalContext != null)\r\n        for (var key in options.additionalContext)\r\n          maybeAdd(key);\r\n      if (!options || options.useGlobalScope !== false)\r\n        gatherCompletions(global);\r\n      forEach(keywords, maybeAdd);\r\n    }\r\n    return found;\r\n  }\r\n});"]}]}