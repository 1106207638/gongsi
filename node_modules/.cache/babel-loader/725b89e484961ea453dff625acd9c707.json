{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\jeecg\\JTreeTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\jeecg\\JTreeTable.vue","mtime":1615948815753},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldEFjdGlvbiB9IGZyb20gJ0AvYXBpL21hbmFnZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSlRyZWVUYWJsZScsCiAgcHJvcHM6IHsKICAgIHJvd0tleTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdpZCcKICAgIH0sCiAgICAvLyDmoLnmja7ku4DkuYjmn6Xor6LvvIzlpoLmnpzkvKDpgJIgaWQg5bCx5qC55o2uIGlkIOafpeivogogICAgcXVlcnlLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncGFyZW50SWQnCiAgICB9LAogICAgcXVlcnlQYXJhbXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyDmn6Xor6Lpobbnuqfml7bnmoTlgLzvvIzlpoLmnpzpobbnuqfkuLow77yM5YiZ5LygMAogICAgdG9wVmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgY29sdW1uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNoaWxkcmVuVXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHRhYmxlUHJvcHM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCgogICAgLyoqIOaYr+WQpuWcqOWIm+W7uue7hOS7tueahOaXtuWAmeWwseafpeivouaVsOaNriAqLwogICAgaW1tZWRpYXRlUmVxdWVzdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY29uZGl0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFTb3VyY2U6IFtdLAogICAgICBleHBhbmRlZFJvd0tleXM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldENoaWxkcmVuVXJsOiBmdW5jdGlvbiBnZXRDaGlsZHJlblVybCgpIHsKICAgICAgaWYgKHRoaXMuY2hpbGRyZW5VcmwpIHsKICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlblVybDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy51cmw7CiAgICAgIH0KICAgIH0sCiAgICBzbG90czogZnVuY3Rpb24gc2xvdHMoKSB7CiAgICAgIHZhciBzbG90cyA9IFtdOwogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY29sdW1uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgIHZhciBjb2x1bW4gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoY29sdW1uLnNjb3BlZFNsb3RzICYmIGNvbHVtbi5zY29wZWRTbG90cy5jdXN0b21SZW5kZXIpIHsKICAgICAgICAgICAgc2xvdHMucHVzaChjb2x1bW4uc2NvcGVkU2xvdHMuY3VzdG9tUmVuZGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0cnkgewogICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzbG90czsKICAgIH0sCiAgICB0YWJsZUF0dHJzOiBmdW5jdGlvbiB0YWJsZUF0dHJzKCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLiRhdHRycywgdGhpcy50YWJsZVByb3BzKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBxdWVyeVBhcmFtczogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmltbWVkaWF0ZVJlcXVlc3QpIHRoaXMubG9hZERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDliqDovb3mlbDmja4qLwogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGlkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnRvcFZhbHVlOwogICAgICB2YXIgZmlyc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICAgIHZhciB1cmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRoaXMudXJsOwogICAgICB0aGlzLiRlbWl0KCdyZXF1ZXN0QmVmb3JlJywgewogICAgICAgIGZpcnN0OiBmaXJzdAogICAgICB9KTsKCiAgICAgIGlmIChmaXJzdCkgewogICAgICAgIHRoaXMuZXhwYW5kZWRSb3dLZXlzID0gW107CiAgICAgIH0KCiAgICAgIHZhciBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnF1ZXJ5UGFyYW1zIHx8IHt9KTsKICAgICAgcGFyYW1zW3RoaXMucXVlcnlLZXldID0gaWQ7CgogICAgICBpZiAodGhpcy5jb25kaXRpb24gJiYgdGhpcy5jb25kaXRpb24ubGVuZ3RoID4gMCkgewogICAgICAgIHBhcmFtc1snY29uZGl0aW9uJ10gPSB0aGlzLmNvbmRpdGlvbjsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldEFjdGlvbih1cmwsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGxpc3QgPSBbXTsKCiAgICAgICAgaWYgKHJlcy5yZXN1bHQgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgbGlzdCA9IHJlcy5yZXN1bHQ7CiAgICAgICAgfSBlbHNlIGlmIChyZXMucmVzdWx0LnJlY29yZHMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgbGlzdCA9IHJlcy5yZXN1bHQucmVjb3JkczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgJ+i/lOWbnuaVsOaNruexu+Wei+S4jeivhuWIqyc7CiAgICAgICAgfQoKICAgICAgICB2YXIgZGF0YVNvdXJjZSA9IGxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAvLyDliKTmlq3mmK/lkKbmoIforrDkuobluKbmnInlrZDnuqcKICAgICAgICAgIGlmIChpdGVtLmhhc0NoaWxkcmVuID09PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBfbG9hZENoaWxkOwoKICAgICAgICAgICAgLy8g5p+l5om+56ys5LiA5Liq5bim5pyJZGF0YUluZGV455qE5YC855qE5YiXCiAgICAgICAgICAgIHZhciBmaXJzdENvbHVtbjsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlOwogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gX3RoaXMuY29sdW1uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdmFyIGNvbHVtbiA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgICAgIGZpcnN0Q29sdW1uID0gY29sdW1uLmRhdGFJbmRleDsKICAgICAgICAgICAgICAgIGlmIChmaXJzdENvbHVtbikgYnJlYWs7CiAgICAgICAgICAgICAgfSAvLyDlrprkuYnpu5jorqTlsZXlvIDml7bmmL7npLrnmoRsb2FkaW5n5a2Q57qn77yM5a6e6ZmF5a2Q57qn5pWw5o2u5Y+q5Zyo5bGV5byA5pe25Yqg6L29CgogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlOwogICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHsKICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGxvYWRDaGlsZCA9IChfbG9hZENoaWxkID0gewogICAgICAgICAgICAgIGlkOiAiIi5jb25jYXQoaXRlbS5pZCwgIl9sb2FkQ2hpbGQiKQogICAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2xvYWRDaGlsZCwgZmlyc3RDb2x1bW4sICdsb2FkaW5nLi4uJyksIF9kZWZpbmVQcm9wZXJ0eShfbG9hZENoaWxkLCAiaXNMb2FkaW5nIiwgdHJ1ZSksIF9sb2FkQ2hpbGQpOwogICAgICAgICAgICBpdGVtLmNoaWxkcmVuID0gW2xvYWRDaGlsZF07CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgfSk7CgogICAgICAgIGlmIChmaXJzdCkgewogICAgICAgICAgX3RoaXMuZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2U7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy4kZW1pdCgncmVxdWVzdFN1Y2Nlc3MnLCB7CiAgICAgICAgICBmaXJzdDogZmlyc3QsCiAgICAgICAgICBkYXRhU291cmNlOiBkYXRhU291cmNlLAogICAgICAgICAgcmVzOiByZXMKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkYXRhU291cmNlKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCdyZXF1ZXN0RmluYWxseScsIHsKICAgICAgICAgIGZpcnN0OiBmaXJzdAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOeCueWHu+WxleW8gOWbvuagh+aXtuinpuWPkSAqLwogICAgaGFuZGxlRXhwYW5kOiBmdW5jdGlvbiBoYW5kbGVFeHBhbmQoZXhwYW5kZWQsIHJlY29yZCkgewogICAgICAvLyDliKTmlq3mmK/lkKbmmK/lsZXlvIDnirbmgIEKICAgICAgaWYgKGV4cGFuZGVkKSB7CiAgICAgICAgLy8g5Yik5pat5a2Q57qn55qE6aaW5Liq6aG555qE5qCH6K6w5piv5ZCm5piv4oCc5q2j5Zyo5Yqg6L295Lit4oCd77yM5aaC5p6c5piv5bCx5Yqg6L295pWw5o2uCiAgICAgICAgaWYgKHJlY29yZC5jaGlsZHJlblswXS5pc0xvYWRpbmcgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMubG9hZERhdGEocmVjb3JkLmlkLCBmYWxzZSwgdGhpcy5nZXRDaGlsZHJlblVybCkudGhlbihmdW5jdGlvbiAoZGF0YVNvdXJjZSkgewogICAgICAgICAgICAvLyDlpITnkIblpb3nmoTmlbDmja7lj6/nm7TmjqXotYvlgLznu5ljaGlsZHJlbgogICAgICAgICAgICBpZiAoZGF0YVNvdXJjZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICByZWNvcmQuY2hpbGRyZW4gPSBudWxsOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlY29yZC5jaGlsZHJlbiA9IGRhdGFTb3VyY2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["JTreeTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-table\r\n    :rowKey=\"rowKey\"\r\n    :columns=\"columns\"\r\n    :dataSource=\"dataSource\"\r\n    :expandedRowKeys=\"expandedRowKeys\"\r\n    v-bind=\"tableAttrs\"\r\n    v-on=\"$listeners\"\r\n    @expand=\"handleExpand\"\r\n    @expandedRowsChange=\"expandedRowKeys=$event\">\r\n\r\n    <template v-for=\"(slotItem) of slots\" :slot=\"slotItem\" slot-scope=\"text, record, index\">\r\n      <slot :name=\"slotItem\" v-bind=\"{text,record,index}\"></slot>\r\n    </template>\r\n\r\n  </a-table>\r\n</template>\r\n\r\n<script>\r\n  import { getAction } from '@/api/manage'\r\n\r\n  export default {\r\n    name: 'JTreeTable',\r\n    props: {\r\n      rowKey: {\r\n        type: String,\r\n        default: 'id'\r\n      },\r\n      // 根据什么查询，如果传递 id 就根据 id 查询\r\n      queryKey: {\r\n        type: String,\r\n        default: 'parentId'\r\n      },\r\n      queryParams: {\r\n        type: Object,\r\n        default: () => ({})\r\n      },\r\n      // 查询顶级时的值，如果顶级为0，则传0\r\n      topValue: {\r\n        type: String,\r\n        default: null\r\n      },\r\n      columns: {\r\n        type: Array,\r\n        required: true\r\n      },\r\n      url: {\r\n        type: String,\r\n        required: true\r\n      },\r\n      childrenUrl: {\r\n        type: String,\r\n        default: null\r\n      },\r\n      tableProps: {\r\n        type: Object,\r\n        default: () => ({})\r\n      },\r\n      /** 是否在创建组件的时候就查询数据 */\r\n      immediateRequest: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      condition:{\r\n        type:String,\r\n        default:'',\r\n        required:false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        dataSource: [],\r\n        expandedRowKeys: []\r\n      }\r\n    },\r\n    computed: {\r\n      getChildrenUrl() {\r\n        if (this.childrenUrl) {\r\n          return this.childrenUrl\r\n        } else {\r\n          return this.url\r\n        }\r\n      },\r\n      slots() {\r\n        let slots = []\r\n        for (let column of this.columns) {\r\n          if (column.scopedSlots && column.scopedSlots.customRender) {\r\n            slots.push(column.scopedSlots.customRender)\r\n          }\r\n        }\r\n        return slots\r\n      },\r\n      tableAttrs() {\r\n        return Object.assign(this.$attrs, this.tableProps)\r\n      }\r\n    },\r\n    watch: {\r\n      queryParams: {\r\n        deep: true,\r\n        handler() {\r\n          this.loadData()\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      if (this.immediateRequest) this.loadData()\r\n    },\r\n    methods: {\r\n\r\n      /** 加载数据*/\r\n      loadData(id = this.topValue, first = true, url = this.url) {\r\n        this.$emit('requestBefore', { first })\r\n\r\n        if (first) {\r\n          this.expandedRowKeys = []\r\n        }\r\n\r\n        let params = Object.assign({}, this.queryParams || {})\r\n        params[this.queryKey] = id\r\n        if(this.condition && this.condition.length>0){\r\n          params['condition'] = this.condition\r\n        }\r\n\r\n        return getAction(url, params).then(res => {\r\n          let list = []\r\n          if (res.result instanceof Array) {\r\n            list = res.result\r\n          } else if (res.result.records instanceof Array) {\r\n            list = res.result.records\r\n          } else {\r\n            throw '返回数据类型不识别'\r\n          }\r\n          let dataSource = list.map(item => {\r\n            // 判断是否标记了带有子级\r\n            if (item.hasChildren === true) {\r\n              // 查找第一个带有dataIndex的值的列\r\n              let firstColumn\r\n              for (let column of this.columns) {\r\n                firstColumn = column.dataIndex\r\n                if (firstColumn) break\r\n              }\r\n              // 定义默认展开时显示的loading子级，实际子级数据只在展开时加载\r\n              let loadChild = { id: `${item.id}_loadChild`, [firstColumn]: 'loading...', isLoading: true }\r\n              item.children = [loadChild]\r\n            }\r\n            return item\r\n          })\r\n          if (first) {\r\n            this.dataSource = dataSource\r\n          }\r\n          this.$emit('requestSuccess', { first, dataSource, res })\r\n          return Promise.resolve(dataSource)\r\n        }).finally(() => this.$emit('requestFinally', { first }))\r\n      },\r\n\r\n      /** 点击展开图标时触发 */\r\n      handleExpand(expanded, record) {\r\n        // 判断是否是展开状态\r\n        if (expanded) {\r\n          // 判断子级的首个项的标记是否是“正在加载中”，如果是就加载数据\r\n          if (record.children[0].isLoading === true) {\r\n            this.loadData(record.id, false, this.getChildrenUrl).then(dataSource => {\r\n              // 处理好的数据可直接赋值给children\r\n              if (dataSource.length === 0) {\r\n                record.children = null\r\n              } else {\r\n                record.children = dataSource\r\n              }\r\n            })\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components/jeecg"}]}