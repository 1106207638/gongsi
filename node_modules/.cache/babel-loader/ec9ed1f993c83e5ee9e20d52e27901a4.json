{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\src\\utils\\hasPermission.js","dependencies":[{"path":"D:\\vue\\src\\utils\\hasPermission.js","mtime":1615948817607},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKaW1wb3J0IHsgVVNFUl9BVVRILCBTWVNfQlVUVE9OX0FVVEggfSBmcm9tICJAL3N0b3JlL211dGF0aW9uLXR5cGVzIjsKdmFyIGhhc1Blcm1pc3Npb24gPSB7CiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUsIG9wdGlvbnMpIHsKICAgIC8vY29uc29sZS5sb2cob3B0aW9ucyk7CiAgICBWdWUuZGlyZWN0aXZlKCdoYXMnLCB7CiAgICAgIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZywgdm5vZGUpIHsKICAgICAgICBjb25zb2xlLmxvZygi6aG16Z2i5p2D6ZmQ5o6n5Yi2LS0tLSIpOyAvL2NvbnNvbGUudGltZSgpCiAgICAgICAgLy/oioLngrnmnYPpmZDlpITnkIbvvIzlpoLmnpzlkb3kuK3liJnkuI3ov5vooYzlhajlsYDmnYPpmZDlpITnkIYKCiAgICAgICAgaWYgKCFmaWx0ZXJOb2RlUGVybWlzc2lvbihlbCwgYmluZGluZywgdm5vZGUpKSB7CiAgICAgICAgICBmaWx0ZXJHbG9iYWxQZXJtaXNzaW9uKGVsLCBiaW5kaW5nLCB2bm9kZSk7CiAgICAgICAgfSAvL2NvbnNvbGUudGltZUVuZCgpIC8v6K6h5pe257uT5p2f5bm26L6T5Ye65pe26ZW/CgogICAgICB9CiAgICB9KTsKICB9Cn07Ci8qKg0KICog5rWB56iL6IqC54K55p2D6ZmQ5o6n5Yi2DQogKi8KCmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJOb2RlUGVybWlzc2lvbihlbCwgYmluZGluZywgdm5vZGUpIHsKICB2YXIgcGVybWlzc2lvbkxpc3QgPSBbXTsKCiAgdHJ5IHsKICAgIHZhciBvYmogPSB2bm9kZS5jb250ZXh0LiRwcm9wcy5mb3JtRGF0YTsKCiAgICBpZiAob2JqKSB7CiAgICAgIHZhciBicG1MaXN0ID0gb2JqLnBlcm1pc3Npb25MaXN0OwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGJwbUxpc3QpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgYnBtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKGJwbS50eXBlICE9ICcyJykgewogICAgICAgICAgICBwZXJtaXNzaW9uTGlzdC5wdXNoKGJwbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9IGNhdGNoIChlKSB7Ly9jb25zb2xlLmxvZygi6aG16Z2i5p2D6ZmQ5byC5bi4LS0tLSIsIGUpOwogIH0KCiAgaWYgKHBlcm1pc3Npb25MaXN0ID09PSBudWxsIHx8IHBlcm1pc3Npb25MaXN0ID09PSAiIiB8fCBwZXJtaXNzaW9uTGlzdCA9PT0gdW5kZWZpbmVkIHx8IHBlcm1pc3Npb25MaXN0Lmxlbmd0aCA8PSAwKSB7CiAgICAvL2VsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBjb25zb2xlLmxvZygi5rWB56iL6IqC54K56aG16Z2i5p2D6ZmQLS1OT0RFLS0iKTsKICB2YXIgcGVybWlzc2lvbnMgPSBbXTsKCiAgZm9yICh2YXIgX2kgPSAwLCBfcGVybWlzc2lvbkxpc3QgPSBwZXJtaXNzaW9uTGlzdDsgX2kgPCBfcGVybWlzc2lvbkxpc3QubGVuZ3RoOyBfaSsrKSB7CiAgICB2YXIgaXRlbSA9IF9wZXJtaXNzaW9uTGlzdFtfaV07CgogICAgaWYgKGl0ZW0udHlwZSAhPSAnMicpIHsKICAgICAgcGVybWlzc2lvbnMucHVzaChpdGVtLmFjdGlvbik7CiAgICB9CiAgfSAvL2NvbnNvbGUubG9nKCLpobXpnaLmnYPpmZAtLS0tIitwZXJtaXNzaW9ucyk7CiAgLy9jb25zb2xlLmxvZygi6aG16Z2i5p2D6ZmQLS0tLSIrYmluZGluZy52YWx1ZSk7CgoKICBpZiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKGJpbmRpbmcudmFsdWUpKSB7CiAgICAvL2VsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpCiAgICByZXR1cm4gZmFsc2U7CiAgfSBlbHNlIHsKICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocGVybWlzc2lvbkxpc3QpLAogICAgICAgIF9zdGVwMjsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgIHZhciBpdGVtMiA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgaWYgKGJpbmRpbmcudmFsdWUgPT09IGl0ZW0yLmFjdGlvbikgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IyLmYoKTsKICAgIH0KICB9CgogIHJldHVybiBmYWxzZTsKfQovKioNCiAqIOWFqOWxgOadg+mZkOaOp+WItg0KICovCgpleHBvcnQgZnVuY3Rpb24gZmlsdGVyR2xvYmFsUGVybWlzc2lvbihlbCwgYmluZGluZywgdm5vZGUpIHsKICBjb25zb2xlLmxvZygi5YWo5bGA6aG16Z2i5p2D6ZmQLS1HbG9iYWwtLSIpOwogIHZhciBwZXJtaXNzaW9uTGlzdCA9IFtdOwogIHZhciBhbGxQZXJtaXNzaW9uTGlzdCA9IFtdOyAvL2xldCBhdXRoTGlzdCA9IFZ1ZS5scy5nZXQoVVNFUl9BVVRIKTsKCiAgdmFyIGF1dGhMaXN0ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFVTRVJfQVVUSCkgfHwgIltdIik7CgogIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXV0aExpc3QpLAogICAgICBfc3RlcDM7CgogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICB2YXIgYXV0aCA9IF9zdGVwMy52YWx1ZTsKCiAgICAgIGlmIChhdXRoLnR5cGUgIT0gJzInKSB7CiAgICAgICAgcGVybWlzc2lvbkxpc3QucHVzaChhdXRoKTsKICAgICAgfQogICAgfSAvL2NvbnNvbGUubG9nKCLpobXpnaLmnYPpmZAtLUdsb2JhbC0tIixzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNZU19CVVRUT05fQVVUSCkpOwoKICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjMuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3IzLmYoKTsKICB9CgogIHZhciBhbGxBdXRoTGlzdCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTWVNfQlVUVE9OX0FVVEgpIHx8ICJbXSIpOwoKICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFsbEF1dGhMaXN0KSwKICAgICAgX3N0ZXA0OwoKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGdhdXRoID0gX3N0ZXA0LnZhbHVlOwoKICAgICAgaWYgKGdhdXRoLnR5cGUgIT0gJzInKSB7CiAgICAgICAgYWxsUGVybWlzc2lvbkxpc3QucHVzaChnYXV0aCk7CiAgICAgIH0KICAgIH0gLy/orr7nva7lhajlsYDphY3nva7mmK/lkKbmnInlkb3kuK0KCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yNC5mKCk7CiAgfQoKICB2YXIgaW52YWxpZEZsYWcgPSBmYWxzZTsgLy/ml6DmlYjlkb3kuK0KCiAgaWYgKGFsbFBlcm1pc3Npb25MaXN0ICE9IG51bGwgJiYgYWxsUGVybWlzc2lvbkxpc3QgIT0gIiIgJiYgYWxsUGVybWlzc2lvbkxpc3QgIT0gdW5kZWZpbmVkICYmIGFsbFBlcm1pc3Npb25MaXN0Lmxlbmd0aCA+IDApIHsKICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWxsUGVybWlzc2lvbkxpc3QpLAogICAgICAgIF9zdGVwNTsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgIHZhciBpdGVtRyA9IF9zdGVwNS52YWx1ZTsKCiAgICAgICAgaWYgKGJpbmRpbmcudmFsdWUgPT09IGl0ZW1HLmFjdGlvbikgewogICAgICAgICAgaWYgKGl0ZW1HLnN0YXR1cyA9PSAnMCcpIHsKICAgICAgICAgICAgaW52YWxpZEZsYWcgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgfQogIH0KCiAgaWYgKGludmFsaWRGbGFnKSB7CiAgICByZXR1cm47CiAgfQoKICBpZiAocGVybWlzc2lvbkxpc3QgPT09IG51bGwgfHwgcGVybWlzc2lvbkxpc3QgPT09ICIiIHx8IHBlcm1pc3Npb25MaXN0ID09PSB1bmRlZmluZWQgfHwgcGVybWlzc2lvbkxpc3QubGVuZ3RoIDw9IDApIHsKICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgcmV0dXJuOwogIH0KCiAgdmFyIHBlcm1pc3Npb25zID0gW107CgogIGZvciAodmFyIF9pMiA9IDAsIF9wZXJtaXNzaW9uTGlzdDIgPSBwZXJtaXNzaW9uTGlzdDsgX2kyIDwgX3Blcm1pc3Npb25MaXN0Mi5sZW5ndGg7IF9pMisrKSB7CiAgICB2YXIgaXRlbSA9IF9wZXJtaXNzaW9uTGlzdDJbX2kyXTsKCiAgICBpZiAoaXRlbS50eXBlICE9ICcyJykgewogICAgICAvL3VwZGF0ZS0tYmVnaW4tLWF1dG9yOndhbmdzaHVhaS0tLS0tZGF0ZToyMDIwMDcyOS0tLS0tLWZvcu+8muaMiemSruadg+mZkO+8jOaOiOadg+agh+ivhueahOaPkOekuuS/oeaBr+aYr+WkmuS4queUqOmAl+WPt+WIhumalOmAu+i+keWkhOeQhiBnaXRlZSNJMU9VR1UtLS0tLS0tCiAgICAgIGlmIChpdGVtLmFjdGlvbikgewogICAgICAgIGlmIChpdGVtLmFjdGlvbi5pbmNsdWRlcygiLCIpKSB7CiAgICAgICAgICB2YXIgc3BsaXQgPSBpdGVtLmFjdGlvbi5zcGxpdCgiLCIpOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKCFzcGxpdFtpXSB8fCBzcGxpdFtpXS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwZXJtaXNzaW9ucy5wdXNoKHNwbGl0W2ldKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVybWlzc2lvbnMucHVzaChpdGVtLmFjdGlvbik7CiAgICAgICAgfQogICAgICB9IC8vdXBkYXRlLS1lbmQtLWF1dG9yOndhbmdzaHVhaS0tLS0tZGF0ZToyMDIwMDcyOS0tLS0tLWZvcu+8muaMiemSruadg+mZkO+8jOaOiOadg+agh+ivhueahOaPkOekuuS/oeaBr+aYr+WkmuS4queUqOmAl+WPt+WIhumalOmAu+i+keWkhOeQhiBnaXRlZSNJMU9VR1UtLS0tLS0KCiAgICB9CiAgfQoKICBpZiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKGJpbmRpbmcudmFsdWUpKSB7CiAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICB9Cn0KZXhwb3J0IGRlZmF1bHQgaGFzUGVybWlzc2lvbjs="},{"version":3,"sources":["D:/vue/src/utils/hasPermission.js"],"names":["USER_AUTH","SYS_BUTTON_AUTH","hasPermission","install","Vue","options","directive","inserted","el","binding","vnode","console","log","filterNodePermission","filterGlobalPermission","permissionList","obj","context","$props","formData","bpmList","bpm","type","push","e","undefined","length","permissions","item","action","includes","value","item2","allPermissionList","authList","JSON","parse","sessionStorage","getItem","auth","allAuthList","gauth","invalidFlag","itemG","status","parentNode","removeChild","split","i"],"mappings":";;;;;;AAAA,SAASA,SAAT,EAAmBC,eAAnB,QAA0C,wBAA1C;AAEA,IAAMC,aAAa,GAAG;AAClBC,EAAAA,OADkB,mBACTC,GADS,EACJC,OADI,EACK;AACjB;AACAD,IAAAA,GAAG,CAACE,SAAJ,CAAc,KAAd,EAAqB;AACnBC,MAAAA,QAAQ,EAAE,kBAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAsB;AAC5BC,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAD4B,CAE5B;AACA;;AACA,YAAG,CAACC,oBAAoB,CAACL,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAxB,EAA6C;AAC3CI,UAAAA,sBAAsB,CAACN,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAtB;AACD,SAN2B,CAO5B;;AACH;AATkB,KAArB;AAWL;AAdiB,CAAtB;AAiBA;;;;AAGA,OAAO,SAASG,oBAAT,CAA8BL,EAA9B,EAAkCC,OAAlC,EAA2CC,KAA3C,EAAkD;AACvD,MAAIK,cAAc,GAAG,EAArB;;AACA,MAAI;AACF,QAAIC,GAAG,GAAGN,KAAK,CAACO,OAAN,CAAcC,MAAd,CAAqBC,QAA/B;;AACA,QAAIH,GAAJ,EAAS;AACP,UAAII,OAAO,GAAGJ,GAAG,CAACD,cAAlB;;AADO,iDAESK,OAFT;AAAA;;AAAA;AAEP,4DAAyB;AAAA,cAAhBC,GAAgB;;AACvB,cAAGA,GAAG,CAACC,IAAJ,IAAY,GAAf,EAAoB;AAClBP,YAAAA,cAAc,CAACQ,IAAf,CAAoBF,GAApB;AACD;AACF;AANM;AAAA;AAAA;AAAA;AAAA;AAOR,KAPD,MAOK;AACH,aAAO,KAAP;AACD;AACF,GAZD,CAYE,OAAOG,CAAP,EAAU,CACV;AACD;;AACD,MAAIT,cAAc,KAAK,IAAnB,IAA2BA,cAAc,KAAK,EAA9C,IAAoDA,cAAc,KAAKU,SAAvE,IAAkFV,cAAc,CAACW,MAAf,IAAuB,CAA7G,EAAgH;AAC9G;AACA,WAAO,KAAP;AACD;;AAEDf,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,MAAIe,WAAW,GAAG,EAAlB;;AACA,qCAAiBZ,cAAjB,qCAAiC;AAA5B,QAAIa,IAAI,sBAAR;;AACH,QAAGA,IAAI,CAACN,IAAL,IAAa,GAAhB,EAAqB;AACnBK,MAAAA,WAAW,CAACJ,IAAZ,CAAiBK,IAAI,CAACC,MAAtB;AACD;AACF,GA5BsD,CA6BvD;AACA;;;AACA,MAAI,CAACF,WAAW,CAACG,QAAZ,CAAqBrB,OAAO,CAACsB,KAA7B,CAAL,EAA0C;AACxC;AACA,WAAO,KAAP;AACD,GAHD,MAGK;AAAA,gDACehB,cADf;AAAA;;AAAA;AACH,6DAAkC;AAAA,YAAzBiB,KAAyB;;AAChC,YAAGvB,OAAO,CAACsB,KAAR,KAAkBC,KAAK,CAACH,MAA3B,EAAkC;AAChC,iBAAO,IAAP;AACD;AACF;AALE;AAAA;AAAA;AAAA;AAAA;AAMJ;;AACD,SAAO,KAAP;AACD;AAED;;;;AAGA,OAAO,SAASf,sBAAT,CAAgCN,EAAhC,EAAoCC,OAApC,EAA6CC,KAA7C,EAAoD;AACzDC,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AAEA,MAAIG,cAAc,GAAG,EAArB;AACA,MAAIkB,iBAAiB,GAAG,EAAxB,CAJyD,CAMzD;;AACA,MAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuBtC,SAAvB,KAAqC,IAAhD,CAAf;;AAPyD,8CAQxCkC,QARwC;AAAA;;AAAA;AAQzD,2DAA2B;AAAA,UAAlBK,IAAkB;;AACzB,UAAGA,IAAI,CAACjB,IAAL,IAAa,GAAhB,EAAqB;AACnBP,QAAAA,cAAc,CAACQ,IAAf,CAAoBgB,IAApB;AACD;AACF,KAZwD,CAazD;;AAbyD;AAAA;AAAA;AAAA;AAAA;;AAczD,MAAIC,WAAW,GAAGL,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuBrC,eAAvB,KAA2C,IAAtD,CAAlB;;AAdyD,8CAevCuC,WAfuC;AAAA;;AAAA;AAezD,2DAA+B;AAAA,UAAtBC,KAAsB;;AAC7B,UAAGA,KAAK,CAACnB,IAAN,IAAc,GAAjB,EAAsB;AACpBW,QAAAA,iBAAiB,CAACV,IAAlB,CAAuBkB,KAAvB;AACD;AACF,KAnBwD,CAoBzD;;AApByD;AAAA;AAAA;AAAA;AAAA;;AAqBzD,MAAIC,WAAW,GAAG,KAAlB,CArByD,CAqBjC;;AACxB,MAAGT,iBAAiB,IAAI,IAArB,IAA6BA,iBAAiB,IAAI,EAAlD,IAAwDA,iBAAiB,IAAIR,SAA7E,IAA0FQ,iBAAiB,CAACP,MAAlB,GAA2B,CAAxH,EAA0H;AAAA,gDACtGO,iBADsG;AAAA;;AAAA;AACxH,6DAAqC;AAAA,YAA5BU,KAA4B;;AACnC,YAAGlC,OAAO,CAACsB,KAAR,KAAkBY,KAAK,CAACd,MAA3B,EAAkC;AAChC,cAAGc,KAAK,CAACC,MAAN,IAAgB,GAAnB,EAAuB;AACrBF,YAAAA,WAAW,GAAG,IAAd;AACA;AACD;AACF;AACF;AARuH;AAAA;AAAA;AAAA;AAAA;AASzH;;AACD,MAAGA,WAAH,EAAe;AACb;AACD;;AACD,MAAI3B,cAAc,KAAK,IAAnB,IAA2BA,cAAc,KAAK,EAA9C,IAAoDA,cAAc,KAAKU,SAAvE,IAAkFV,cAAc,CAACW,MAAf,IAAuB,CAA7G,EAAgH;AAC9GlB,IAAAA,EAAE,CAACqC,UAAH,CAAcC,WAAd,CAA0BtC,EAA1B;AACA;AACD;;AACD,MAAImB,WAAW,GAAG,EAAlB;;AACA,uCAAiBZ,cAAjB,wCAAiC;AAA5B,QAAIa,IAAI,wBAAR;;AACH,QAAGA,IAAI,CAACN,IAAL,IAAa,GAAhB,EAAoB;AAClB;AACA,UAAGM,IAAI,CAACC,MAAR,EAAe;AACb,YAAGD,IAAI,CAACC,MAAL,CAAYC,QAAZ,CAAqB,GAArB,CAAH,EAA6B;AAC3B,cAAIiB,KAAK,GAAGnB,IAAI,CAACC,MAAL,CAAYkB,KAAZ,CAAkB,GAAlB,CAAZ;;AACE,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAED,KAAK,CAACrB,MAAzB,EAAkCsB,CAAC,EAAnC,EAAuC;AACrC,gBAAG,CAACD,KAAK,CAACC,CAAD,CAAN,IAAYD,KAAK,CAACC,CAAD,CAAL,CAAStB,MAAT,IAAiB,CAAhC,EAAkC;AAChC;AACD;;AACDC,YAAAA,WAAW,CAACJ,IAAZ,CAAiBwB,KAAK,CAACC,CAAD,CAAtB;AACH;AACF,SARD,MAQK;AACHrB,UAAAA,WAAW,CAACJ,IAAZ,CAAiBK,IAAI,CAACC,MAAtB;AACD;AACF,OAdiB,CAelB;;AACD;AACF;;AACD,MAAI,CAACF,WAAW,CAACG,QAAZ,CAAqBrB,OAAO,CAACsB,KAA7B,CAAL,EAA0C;AACxCvB,IAAAA,EAAE,CAACqC,UAAH,CAAcC,WAAd,CAA0BtC,EAA1B;AACD;AACF;AAED,eAAeN,aAAf","sourcesContent":["import { USER_AUTH,SYS_BUTTON_AUTH } from \"@/store/mutation-types\"\r\n\r\nconst hasPermission = {\r\n    install (Vue, options) {\r\n          //console.log(options);\r\n          Vue.directive('has', {\r\n            inserted: (el, binding, vnode)=>{\r\n                console.log(\"页面权限控制----\");\r\n                //console.time()\r\n                //节点权限处理，如果命中则不进行全局权限处理\r\n                if(!filterNodePermission(el, binding, vnode)){\r\n                  filterGlobalPermission(el, binding, vnode);\r\n                }\r\n                //console.timeEnd() //计时结束并输出时长\r\n            }\r\n          });\r\n    }\r\n};\r\n\r\n/**\r\n * 流程节点权限控制\r\n */\r\nexport function filterNodePermission(el, binding, vnode) {\r\n  let permissionList = [];\r\n  try {\r\n    let obj = vnode.context.$props.formData;\r\n    if (obj) {\r\n      let bpmList = obj.permissionList;\r\n      for (let bpm of bpmList) {\r\n        if(bpm.type != '2') {\r\n          permissionList.push(bpm);\r\n        }\r\n      }\r\n    }else{\r\n      return false;\r\n    }\r\n  } catch (e) {\r\n    //console.log(\"页面权限异常----\", e);\r\n  }\r\n  if (permissionList === null || permissionList === \"\" || permissionList === undefined||permissionList.length<=0) {\r\n    //el.parentNode.removeChild(el)\r\n    return false;\r\n  }\r\n\r\n  console.log(\"流程节点页面权限--NODE--\");\r\n  let permissions = [];\r\n  for (let item of permissionList) {\r\n    if(item.type != '2') {\r\n      permissions.push(item.action);\r\n    }\r\n  }\r\n  //console.log(\"页面权限----\"+permissions);\r\n  //console.log(\"页面权限----\"+binding.value);\r\n  if (!permissions.includes(binding.value)) {\r\n    //el.parentNode.removeChild(el)\r\n    return false;\r\n  }else{\r\n    for (let item2 of permissionList) {\r\n      if(binding.value === item2.action){\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * 全局权限控制\r\n */\r\nexport function filterGlobalPermission(el, binding, vnode) {\r\n  console.log(\"全局页面权限--Global--\");\r\n\r\n  let permissionList = [];\r\n  let allPermissionList = [];\r\n\r\n  //let authList = Vue.ls.get(USER_AUTH);\r\n  let authList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\r\n  for (let auth of authList) {\r\n    if(auth.type != '2') {\r\n      permissionList.push(auth);\r\n    }\r\n  }\r\n  //console.log(\"页面权限--Global--\",sessionStorage.getItem(SYS_BUTTON_AUTH));\r\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\r\n  for (let gauth of allAuthList) {\r\n    if(gauth.type != '2') {\r\n      allPermissionList.push(gauth);\r\n    }\r\n  }\r\n  //设置全局配置是否有命中\r\n  let invalidFlag = false;//无效命中\r\n  if(allPermissionList != null && allPermissionList != \"\" && allPermissionList != undefined && allPermissionList.length > 0){\r\n    for (let itemG of allPermissionList) {\r\n      if(binding.value === itemG.action){\r\n        if(itemG.status == '0'){\r\n          invalidFlag = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if(invalidFlag){\r\n    return;\r\n  }\r\n  if (permissionList === null || permissionList === \"\" || permissionList === undefined||permissionList.length<=0) {\r\n    el.parentNode.removeChild(el);\r\n    return;\r\n  }\r\n  let permissions = [];\r\n  for (let item of permissionList) {\r\n    if(item.type != '2'){\r\n      //update--begin--autor:wangshuai-----date:20200729------for：按钮权限，授权标识的提示信息是多个用逗号分隔逻辑处理 gitee#I1OUGU-------\r\n      if(item.action){\r\n        if(item.action.includes(\",\")){\r\n          let split = item.action.split(\",\")\r\n            for (let i = 0; i <split.length ; i++) {\r\n              if(!split[i] ||split[i].length==0){\r\n                continue;\r\n              }\r\n              permissions.push(split[i]);\r\n          }\r\n        }else{\r\n          permissions.push(item.action);\r\n        }\r\n      }\r\n      //update--end--autor:wangshuai-----date:20200729------for：按钮权限，授权标识的提示信息是多个用逗号分隔逻辑处理 gitee#I1OUGU------\r\n    }\r\n  }\r\n  if (!permissions.includes(binding.value)) {\r\n    el.parentNode.removeChild(el);\r\n  }\r\n}\r\n\r\nexport default hasPermission;\r\n"]}]}