{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\src\\utils\\request.js","dependencies":[{"path":"D:\\vue\\src\\utils\\request.js","mtime":1615948817612},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90aGlzID0gdGhpczsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgVnVlQXhpb3MgfSBmcm9tICcuL2F4aW9zJzsKaW1wb3J0IHsgTW9kYWwsIG5vdGlmaWNhdGlvbiB9IGZyb20gJ2FudC1kZXNpZ24tdnVlJzsKaW1wb3J0IHsgQUNDRVNTX1RPS0VOLCBURU5BTlRfSUQgfSBmcm9tICJAL3N0b3JlL211dGF0aW9uLXR5cGVzIjsKLyoqDQogKiDjgJDmjIflrpogYXhpb3PnmoQgYmFzZVVSTOOAkQ0KICog5aaC5p6c5omL5bel5oyH5a6aIGJhc2VVUkw6ICcvamVlY2ctYm9vdCcNCiAqIOWImeaYoOWwhOWQjuerr+Wfn+WQje+8jOmAmui/hyB2dWUuY29uZmlnLmpzDQogKiBAdHlwZSB7KnxzdHJpbmd9DQogKi8KCnZhciBhcGlCYXNlVXJsID0gd2luZG93Ll9DT05GSUdbJ2RvbWlhblVSTCddIHx8ICIvamVlY2ctYm9vdCI7IC8vY29uc29sZS5sb2coImFwaUJhc2VVcmw9ICIsYXBpQmFzZVVybCkKLy8g5Yib5bu6IGF4aW9zIOWunuS+iwoKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIC8vYmFzZVVSTDogJy9qZWVjZy1ib290JywKICBiYXNlVVJMOiBhcGlCYXNlVXJsLAogIC8vIGFwaSBiYXNlX3VybAogIHRpbWVvdXQ6IDkwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp9KTsKCnZhciBlcnIgPSBmdW5jdGlvbiBlcnIoZXJyb3IpIHsKICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgIHZhciB0aGF0ID0gX3RoaXM7CiAgICB2YXIgZGF0YSA9IGVycm9yLnJlc3BvbnNlLmRhdGE7CiAgICB2YXIgdG9rZW4gPSBWdWUubHMuZ2V0KEFDQ0VTU19UT0tFTik7CiAgICBjb25zb2xlLmxvZygiLS0tLS0t5byC5bi45ZON5bqULS0tLS0tIiwgdG9rZW4pOwogICAgY29uc29sZS5sb2coIi0tLS0tLeW8guW4uOWTjeW6lC0tLS0tLSIsIGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7CgogICAgc3dpdGNoIChlcnJvci5yZXNwb25zZS5zdGF0dXMpIHsKICAgICAgY2FzZSA0MDM6CiAgICAgICAgbm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgICAgIG1lc3NhZ2U6ICfns7vnu5/mj5DnpLonLAogICAgICAgICAgZGVzY3JpcHRpb246ICfmi5Lnu53orr/pl64nLAogICAgICAgICAgZHVyYXRpb246IDQKICAgICAgICB9KTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAwOgogICAgICAgIGNvbnNvbGUubG9nKCItLS0tLS1lcnJvci5yZXNwb25zZS0tLS0tLSIsIGVycm9yLnJlc3BvbnNlKTsgLy8gdXBkYXRlLWJlZ2luLSAtLS0gYXV0aG9yOmxpdXNxIC0tLS0tLSBkYXRlOjIwMjAwOTEwIC0tLS0gZm9yOuWkhOeQhkJsb2Lmg4XlhrUtLS0tCgogICAgICAgIHZhciB0eXBlID0gZXJyb3IucmVzcG9uc2UucmVxdWVzdC5yZXNwb25zZVR5cGU7CgogICAgICAgIGlmICh0eXBlID09PSAnYmxvYicpIHsKICAgICAgICAgIGJsb2JUb0pzb24oZGF0YSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9IC8vIHVwZGF0ZS1lbmQtIC0tLSBhdXRob3I6bGl1c3EgLS0tLS0tIGRhdGU6MjAyMDA5MTAgLS0tLSBmb3I65aSE55CGQmxvYuaDheWGtS0tLS0KICAgICAgICAvL25vdGlmaWNhdGlvbi5lcnJvcih7IG1lc3NhZ2U6ICfns7vnu5/mj5DnpLonLCBkZXNjcmlwdGlvbjonVG9rZW7lpLHmlYjvvIzor7fph43mlrDnmbvlvZUhJyxkdXJhdGlvbjogNH0pCgoKICAgICAgICBpZiAodG9rZW4gJiYgZGF0YS5tZXNzYWdlLmluY2x1ZGVzKCJUb2tlbuWkseaViCIpKSB7CiAgICAgICAgICAvLyB1cGRhdGUtYmVnaW4tIC0tLSBhdXRob3I6c2NvdHQgLS0tLS0tIGRhdGU6MjAxOTAyMjUgLS0tLSBmb3I6VG9rZW7lpLHmlYjph4fnlKjlvLnmoYbmqKHlvI/vvIzkuI3nm7TmjqXot7PovawtLS0tCiAgICAgICAgICBNb2RhbC5lcnJvcih7CiAgICAgICAgICAgIHRpdGxlOiAn55m75b2V5bey6L+H5pyfJywKICAgICAgICAgICAgY29udGVudDogJ+W+iOaKseatie+8jOeZu+W9leW3sui/h+acn++8jOivt+mHjeaWsOeZu+W9lScsCiAgICAgICAgICAgIG9rVGV4dDogJ+mHjeaWsOeZu+W9lScsCiAgICAgICAgICAgIG1hc2s6IGZhbHNlLAogICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkgewogICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdMb2dvdXQnKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIFZ1ZS5scy5yZW1vdmUoQUNDRVNTX1RPS0VOKTsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImxvY2F0aW9uIHBhdGhuYW1lIC0+ICIgKyBwYXRoKTsKCiAgICAgICAgICAgICAgICAgIGlmIChwYXRoICE9ICIvIiAmJiBwYXRoLmluZGV4T2YoJy91c2VyL2xvZ2luJykgPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsgLy8gdXBkYXRlLWVuZC0gLS0tIGF1dGhvcjpzY290dCAtLS0tLS0gZGF0ZToyMDE5MDIyNSAtLS0tIGZvcjpUb2tlbuWkseaViOmHh+eUqOW8ueahhuaooeW8j++8jOS4jeebtOaOpei3s+i9rC0tLS0KICAgICAgICB9CgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDQ6CiAgICAgICAgbm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgICAgIG1lc3NhZ2U6ICfns7vnu5/mj5DnpLonLAogICAgICAgICAgZGVzY3JpcHRpb246ICflvojmirHmrYnvvIzotYTmupDmnKrmib7liLAhJywKICAgICAgICAgIGR1cmF0aW9uOiA0CiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwNDoKICAgICAgICBub3RpZmljYXRpb24uZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ+ezu+e7n+aPkOekuicsCiAgICAgICAgICBkZXNjcmlwdGlvbjogJ+e9kee7nOi2heaXticKICAgICAgICB9KTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAxOgogICAgICAgIG5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiAn57O757uf5o+Q56S6JywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAn5pyq5o6I5p2D77yM6K+36YeN5paw55m75b2VJywKICAgICAgICAgIGR1cmF0aW9uOiA0CiAgICAgICAgfSk7CgogICAgICAgIGlmICh0b2tlbikgewogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0xvZ291dCcpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgbm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgICAgIG1lc3NhZ2U6ICfns7vnu5/mj5DnpLonLAogICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEubWVzc2FnZSwKICAgICAgICAgIGR1cmF0aW9uOiA0CiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9OyAvLyByZXF1ZXN0IGludGVyY2VwdG9yCgoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHZhciB0b2tlbiA9IFZ1ZS5scy5nZXQoQUNDRVNTX1RPS0VOKTsKCiAgaWYgKHRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snWC1BY2Nlc3MtVG9rZW4nXSA9IHRva2VuOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKboh6rlrprkuYkgdG9rZW4g6K+35qC55o2u5a6e6ZmF5oOF5Ya16Ieq6KGM5L+u5pS5CiAgfSAvL3VwZGF0ZS1iZWdpbi1hdXRob3I6dGFveWFuIGRhdGU6MjAyMDcwNyBmb3I65aSa56ef5oi3CgoKICB2YXIgdGVuYW50aWQgPSBWdWUubHMuZ2V0KFRFTkFOVF9JRCk7CgogIGlmICghdGVuYW50aWQpIHsKICAgIHRlbmFudGlkID0gMDsKICB9CgogIGNvbmZpZy5oZWFkZXJzWyd0ZW5hbnRfaWQnXSA9IHRlbmFudGlkOyAvL3VwZGF0ZS1lbmQtYXV0aG9yOnRhb3lhbiBkYXRlOjIwMjA3MDcgZm9yOuWkmuenn+aItwoKICBpZiAoY29uZmlnLm1ldGhvZCA9PSAnZ2V0JykgewogICAgaWYgKGNvbmZpZy51cmwuaW5kZXhPZigic3lzL2RpY3QvZ2V0RGljdEl0ZW1zIikgPCAwKSB7CiAgICAgIGNvbmZpZy5wYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICBfdDogRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKSAvIDEwMDAKICAgICAgfSwgY29uZmlnLnBhcmFtcyk7CiAgICB9CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8gcmVzcG9uc2UgaW50ZXJjZXB0b3IKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKfSwgZXJyKTsKdmFyIGluc3RhbGxlciA9IHsKICB2bToge30sCiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUpIHsKICAgIHZhciByb3V0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgVnVlLnVzZShWdWVBeGlvcywgcm91dGVyLCBzZXJ2aWNlKTsKICB9Cn07Ci8qKg0KICogQmxvYuino+aekA0KICogQHBhcmFtIGRhdGENCiAqLwoKZnVuY3Rpb24gYmxvYlRvSnNvbihkYXRhKSB7CiAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogIHZhciB0b2tlbiA9IFZ1ZS5scy5nZXQoQUNDRVNTX1RPS0VOKTsKCiAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICB0cnkgewogICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHRoaXMucmVzdWx0KTsgLy8g6K+05piO5piv5pmu6YCa5a+56LGh5pWw5o2u77yM5ZCO5Y+w6L2s5o2i5aSx6LSlCgogICAgICBjb25zb2xlLmxvZygianNvbkRhdGEiLCBqc29uRGF0YSk7CgogICAgICBpZiAoanNvbkRhdGEuc3RhdHVzID09PSA1MDApIHsKICAgICAgICBjb25zb2xlLmxvZygidG9rZW4tLS0tLS0tLS0t44CLIiwgdG9rZW4pOwoKICAgICAgICBpZiAodG9rZW4gJiYganNvbkRhdGEubWVzc2FnZS5pbmNsdWRlcygiVG9rZW7lpLHmlYgiKSkgewogICAgICAgICAgTW9kYWwuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogJ+eZu+W9leW3sui/h+acnycsCiAgICAgICAgICAgIGNvbnRlbnQ6ICflvojmirHmrYnvvIznmbvlvZXlt7Lov4fmnJ/vvIzor7fph43mlrDnmbvlvZUnLAogICAgICAgICAgICBva1RleHQ6ICfph43mlrDnmbvlvZUnLAogICAgICAgICAgICBtYXNrOiBmYWxzZSwKICAgICAgICAgICAgb25PazogZnVuY3Rpb24gb25PaygpIHsKICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnTG9nb3V0JykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBWdWUubHMucmVtb3ZlKEFDQ0VTU19UT0tFTik7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIC8vIOino+aekOaIkOWvueixoeWksei0pe+8jOivtOaYjuaYr+ato+W4uOeahOaWh+S7tua1gQogICAgICBjb25zb2xlLmxvZygiYmxvYuino+aekGZpbGVSZWFkZXLov5Tlm55lcnIiLCBlcnIpOwogICAgfQogIH07CgogIGZpbGVSZWFkZXIucmVhZEFzVGV4dChkYXRhKTsKfQoKZXhwb3J0IHsgaW5zdGFsbGVyIGFzIFZ1ZUF4aW9zLCBzZXJ2aWNlIGFzIGF4aW9zIH07"},{"version":3,"sources":["D:/vue/src/utils/request.js"],"names":["Vue","axios","store","VueAxios","Modal","notification","ACCESS_TOKEN","TENANT_ID","apiBaseUrl","window","_CONFIG","service","create","baseURL","timeout","err","error","response","that","data","token","ls","get","console","log","status","message","description","duration","type","request","responseType","blobToJson","includes","title","content","okText","mask","onOk","dispatch","then","remove","path","document","location","pathname","indexOf","reload","e","setTimeout","Promise","reject","interceptors","use","config","headers","tenantid","method","url","params","_t","Date","parse","installer","vm","install","router","fileReader","FileReader","onload","jsonData","JSON","result","readAsText"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport axios from 'axios'\r\nimport store from '@/store'\r\nimport { VueAxios } from './axios'\r\nimport {Modal, notification} from 'ant-design-vue'\r\nimport { ACCESS_TOKEN, TENANT_ID } from \"@/store/mutation-types\"\r\n\r\n/**\r\n * 【指定 axios的 baseURL】\r\n * 如果手工指定 baseURL: '/jeecg-boot'\r\n * 则映射后端域名，通过 vue.config.js\r\n * @type {*|string}\r\n */\r\nlet apiBaseUrl = window._CONFIG['domianURL'] || \"/jeecg-boot\";\r\n//console.log(\"apiBaseUrl= \",apiBaseUrl)\r\n// 创建 axios 实例\r\nconst service = axios.create({\r\n  //baseURL: '/jeecg-boot',\r\n  baseURL: apiBaseUrl, // api base_url\r\n  timeout: 9000 // 请求超时时间\r\n})\r\n\r\nconst err = (error) => {\r\n  if (error.response) {\r\n    let that=this;\r\n    let data = error.response.data\r\n    const token = Vue.ls.get(ACCESS_TOKEN)\r\n    console.log(\"------异常响应------\",token)\r\n    console.log(\"------异常响应------\",error.response.status)\r\n    switch (error.response.status) {\r\n      case 403:\r\n        notification.error({ message: '系统提示', description: '拒绝访问',duration: 4})\r\n        break\r\n      case 500:\r\n        console.log(\"------error.response------\",error.response)\r\n        // update-begin- --- author:liusq ------ date:20200910 ---- for:处理Blob情况----\r\n        let type=error.response.request.responseType;\r\n        if(type === 'blob'){\r\n          blobToJson(data);\r\n          break;\r\n        }\r\n        // update-end- --- author:liusq ------ date:20200910 ---- for:处理Blob情况----\r\n        //notification.error({ message: '系统提示', description:'Token失效，请重新登录!',duration: 4})\r\n        if(token && data.message.includes(\"Token失效\")){\r\n          // update-begin- --- author:scott ------ date:20190225 ---- for:Token失效采用弹框模式，不直接跳转----\r\n          Modal.error({\r\n            title: '登录已过期',\r\n            content: '很抱歉，登录已过期，请重新登录',\r\n            okText: '重新登录',\r\n            mask: false,\r\n            onOk: () => {\r\n              store.dispatch('Logout').then(() => {\r\n                Vue.ls.remove(ACCESS_TOKEN)\r\n                try {\r\n                  let path = window.document.location.pathname\r\n                  console.log(\"location pathname -> \"+path)\r\n                  if(path!=\"/\" && path.indexOf('/user/login')==-1){\r\n                    window.location.reload()\r\n                  }\r\n                }catch (e) {\r\n                  window.location.reload()\r\n                }\r\n              })\r\n            }\r\n          })\r\n          // update-end- --- author:scott ------ date:20190225 ---- for:Token失效采用弹框模式，不直接跳转----\r\n        }\r\n        break\r\n      case 404:\r\n          notification.error({ message: '系统提示', description:'很抱歉，资源未找到!',duration: 4})\r\n        break\r\n      case 504:\r\n        notification.error({ message: '系统提示', description: '网络超时'})\r\n        break\r\n      case 401:\r\n        notification.error({ message: '系统提示', description:'未授权，请重新登录',duration: 4})\r\n        if (token) {\r\n          store.dispatch('Logout').then(() => {\r\n            setTimeout(() => {\r\n              window.location.reload()\r\n            }, 1500)\r\n          })\r\n        }\r\n        break\r\n      default:\r\n        notification.error({\r\n          message: '系统提示',\r\n          description: data.message,\r\n          duration: 4\r\n        })\r\n        break\r\n    }\r\n  }\r\n  return Promise.reject(error)\r\n};\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(config => {\r\n  const token = Vue.ls.get(ACCESS_TOKEN)\r\n  if (token) {\r\n    config.headers[ 'X-Access-Token' ] = token // 让每个请求携带自定义 token 请根据实际情况自行修改\r\n  }\r\n  //update-begin-author:taoyan date:2020707 for:多租户\r\n  let tenantid = Vue.ls.get(TENANT_ID)\r\n  if (!tenantid) {\r\n    tenantid = 0;\r\n  }\r\n  config.headers[ 'tenant_id' ] = tenantid\r\n  //update-end-author:taoyan date:2020707 for:多租户\r\n  if(config.method=='get'){\r\n    if(config.url.indexOf(\"sys/dict/getDictItems\")<0){\r\n      config.params = {\r\n        _t: Date.parse(new Date())/1000,\r\n        ...config.params\r\n      }\r\n    }\r\n  }\r\n  return config\r\n},(error) => {\r\n  return Promise.reject(error)\r\n})\r\n\r\n// response interceptor\r\nservice.interceptors.response.use((response) => {\r\n    return response.data\r\n  }, err)\r\n\r\nconst installer = {\r\n  vm: {},\r\n  install (Vue, router = {}) {\r\n    Vue.use(VueAxios, router, service)\r\n  }\r\n}\r\n/**\r\n * Blob解析\r\n * @param data\r\n */\r\nfunction blobToJson(data) {\r\n  let fileReader = new FileReader();\r\n  let token = Vue.ls.get(ACCESS_TOKEN);\r\n  fileReader.onload = function() {\r\n    try {\r\n      let jsonData = JSON.parse(this.result);  // 说明是普通对象数据，后台转换失败\r\n      console.log(\"jsonData\",jsonData)\r\n      if (jsonData.status === 500) {\r\n        console.log(\"token----------》\",token)\r\n        if(token && jsonData.message.includes(\"Token失效\")){\r\n          Modal.error({\r\n            title: '登录已过期',\r\n            content: '很抱歉，登录已过期，请重新登录',\r\n            okText: '重新登录',\r\n            mask: false,\r\n            onOk: () => {\r\n              store.dispatch('Logout').then(() => {\r\n                Vue.ls.remove(ACCESS_TOKEN)\r\n                window.location.reload()\r\n              })\r\n            }\r\n          })\r\n        }\r\n      }\r\n    } catch (err) {\r\n      // 解析成对象失败，说明是正常的文件流\r\n      console.log(\"blob解析fileReader返回err\",err)\r\n    }\r\n  };\r\n  fileReader.readAsText(data)\r\n}\r\n\r\nexport {\r\n  installer as VueAxios,\r\n  service as axios\r\n}"]}]}