{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\zbtest\\zbjcAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\zbtest\\zbjcAdd.vue","mtime":1616030468385},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRBY3Rpb24sIHBvc3RBY3Rpb24gfSBmcm9tICJAL2FwaS9tYW5hZ2UiOw0KaW1wb3J0IFNUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvdGFibGUvIjsNCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiemhyeiIsDQogIG1peGluczogWyJKZWVjZ0xpc3RNaXhpbiJdLA0KICBjb21wb25lbnRzOiB7DQogICAgU1RhYmxlLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZDogIiIsDQogICAgICAvLyDpgInkuK3nmoRpZHMNCiAgICAgIHNlbGVjdGVkUm93S2V5czogW10sDQogICAgICBzZWFyY2g6ICIiLA0KICAgICAgLy8g5pCc57Si5Yy65Z+fDQogICAgICBwYXJhbToge30sDQogICAgICAvLyDliJfnmoTkv6Hmga8NCiAgICAgIGNvbHVtbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5Y+X5qOA5Y2V5L2NIiwNCiAgICAgICAgICBkYXRhSW5kZXg6ICJjaGVja0RlcHQiLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi6Zq25bGe5LiK57qn5Y2V5L2NIiwNCiAgICAgICAgICBkYXRhSW5kZXg6ICJzdWJvcmRpbmF0ZVVuaXRzIiwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuacrOW5tOW6puajgOafpeasoeaVsCIsDQogICAgICAgICAgZGF0YUluZGV4OiAiYW5udWFsQ2hlY2tOdW1iZXIiLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi6Zeu6aKY5oC75pWwIiwNCiAgICAgICAgICBkYXRhSW5kZXg6ICJjaGVja1Jlc3VsdFN0YXR1cyIsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLmk43kvZwiLA0KICAgICAgICAgIGRhdGFJbmRleDogImFjdGlvbiIsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImFjdGlvbiIgfSwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICAvLyDlj7PkvqfnmoTmlbDmja4NCiAgICAgIGRhdGFTb3VyY2U6IFtdLA0KICAgICAgLy8g5bem5L6n55qE5YiX5L+h5oGvDQogICAgICBjb2x1bW5zMTogWw0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLljZXkvY3lkI3np7AiLA0KICAgICAgICAgIGRhdGFJbmRleDogImNoZWNrRGVwdCIsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIHdpZHRoOiAiMjM3cHgiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLmnKzlubTluqbmo4Dmn6XmrKHmlbAiLA0KICAgICAgICAgIGRhdGFJbmRleDogImFubnVhbENoZWNrTnVtYmVyIiwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIumXrumimOaVsOmHjyIsDQogICAgICAgICAgZGF0YUluZGV4OiAiY2hlY2tSZXN1bHRTdGF0dXMiLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICAvLyDlt6bkvqfnmoTmlbDmja4NCiAgICAgIGRhdGE6IFtdLA0KICAgICAgdXJsOiB7DQogICAgICAgIGNvbmZpcm1DaGVjazogIi9zb3V0aENoZWNrVGFzay9jb25maXJtQ2hlY2siLA0KICAgICAgICB0cm9vcHNMaXN0OiAiL3NvdXRoQ2hlY2tUYXNrL3NlYXJjaFRyb29wc0J5TmFtZSIsDQogICAgICAgIGNvbW1pdENoZWNrVGFzazogIi9zb3V0aENoZWNrVGFzay9jb21taXRDaGVja1Rhc2siLA0KICAgICAgfSwNCiAgICAgIHRyb29wc05hbWU6ICIiLA0KICAgICAgZGF0YUxvYWRpbmc6IGZhbHNlLA0KICAgICAgYnVzeTogZmFsc2UsDQogICAgICBwYWdlTnVtOiAxLA0KICAgICAgcGFnZUxlbmd0aDogMTAsDQogICAgICBzaG93TmFtZTogIj4+5bGV5byAIiwNCiAgICAgIHNob3dTdHlsZTogdHJ1ZSwNCiAgICAgIC8vIOmAieS4reeahOaVsOaNrg0KICAgICAgc2VsZWN0ZWRBcnI6IFtdLA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5vblNlYXJjaCgpOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJkIikuc3R5bGUub3ZlcmZsb3dYID0gImhpZGRlbiI7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDliKDpmaTku7vliqENCiAgICBkZWxldGVUYXNrKHJlY29yZCkgew0KICAgICAgdGhpcy5kYXRhU291cmNlLnNwbGljZShyZWNvcmQuaW5kZXgsIDEpOw0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlY29yZC5jaGVja0RlcHQgKyAi5LiL5p625oiQ5YqfISIpOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGFTb3VyY2UubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdGhpcy5kYXRhU291cmNlW2ldLmluZGV4ID0gaTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOabv+aNouS7u+WKoQ0KICAgIHJlcGxhY2VUYXNrKHJlY29yZCkgew0KICAgICAgbGV0IGluZGV4ID0gcmVjb3JkLmluZGV4Ow0KICAgICAgbGV0IHBhcmFtID0gdGhpcy5wYXJhbTsNCiAgICAgIGlmICh0aGlzLnBhcmFtLmNoZWNrV2F5ID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5qOA5p+l5pa55byP5Li65b+F5aGr6aG5ISIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLnBhcmFtLmNoZWNrU3RyYXRlZ3kgPT09IHVuZGVmaW5lZCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmo4Dmn6XliIbphY3nrZbnlaXkuLrlv4XloavpobkhIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHBhcmFtLmNoZWNrRGVwTnVtID0gMTsNCiAgICAgIHBvc3RBY3Rpb24odGhpcy51cmwuY29uZmlybUNoZWNrLCBwYXJhbSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGxldCBjb2RlID0gcmVzLmNvZGU7DQogICAgICAgIGlmIChjb2RlID09IDIwMCkgew0KICAgICAgICAgIGxldCByZXN1bHQgPSByZXMucmVzdWx0WzBdOw0KICAgICAgICAgIHJlc3VsdC5pbmRleCA9IGluZGV4Ow0KICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZS5zcGxpY2UoaW5kZXgsIDEsIHJlc3VsdCk7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmm7TmjaLmiJDlip8hIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy8g56Gu6K6k5oq95qOADQogICAgY29uZmlybUNoZWNrKCkgew0KICAgICAgaWYgKHRoaXMucGFyYW0uY2hlY2tTdHJhdGVneSA9PT0gIk1hbnVtb3RpdmUiKSB7DQogICAgICAgIGlmICh0aGlzLnBhcmFtLmNoZWNrV2F5ID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuajgOafpeaWueW8j+S4jeiDveS4uuepuiEiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICAvL+WkhOeQhuaVsOe7hA0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRBcnIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAvL+WkhOeQhuaVsOaNrg0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBcnJbaV0uY2hlY2tTdGF0dXMgPSAiTm90Q2hlY2siOw0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBcnJbaV0uY2hlY2tXYXkgPSB0aGlzLnBhcmFtLmNoZWNrV2F5Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy/mqKHns4rmn6Xor6INCiAgICAgICAgaWYgKHRoaXMuc2VhcmNoID09ICJzZWFyY2giKSB7DQogICAgICAgICAgdGhpcy5zZWFyY2ggPSAiIjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvL+aJi+WKqOWLvumAiQ0KICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IHRoaXMuc2VsZWN0ZWRBcnI7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmiYvliqjmir3mo4Dmn6Xku7vliqHmiJDlip8hIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgLy8gIOetlueVpeaKvemAiQ0KICAgICAgaWYgKHRoaXMucGFyYW0uY2hlY2tEZXBOdW0gPT09IHVuZGVmaW5lZCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmir3mo4DljZXkvY3mlbDph4/kuLrlv4XloavpobkhIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMucGFyYW0uY2hlY2tXYXkgPT09IHVuZGVmaW5lZCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmo4Dmn6XmlrnlvI/kuLrlv4XloavpobkhIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMucGFyYW0uY2hlY2tTdHJhdGVneSA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuajgOafpeWIhumFjeetlueVpeS4uuW/heWhq+mhuSEiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgcG9zdEFjdGlvbih0aGlzLnVybC5jb25maXJtQ2hlY2ssIHRoaXMucGFyYW0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBsZXQgY29kZSA9IHJlcy5jb2RlOw0KICAgICAgICBpZiAoY29kZSA9PSAyMDApIHsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcy5yZXN1bHQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHJlcy5yZXN1bHRbaV0uaW5kZXggPSBpOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmRhdGFTb3VyY2UgPSByZXMucmVzdWx0Ow0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi55Sf5oiQIiArIHJlcy5yZXN1bHQubGVuZ3RoICsgIuadoeaKveajgOS7u+WKoSEiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIC8vIOaPkOS6pOajgOafpeS7u+WKoQ0KICAgIGNvbW1pdENoZWNrVGFzaygpIHsNCiAgICAgIGxldCBsZW5ndGggPSB0aGlzLmRhdGFTb3VyY2UubGVuZ3RoOw0KICAgICAgaWYgKHRoaXMuZGF0YVNvdXJjZS5sZW5ndGggPT0gMCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7foh7PlsJHmir3mo4DkuIDmnaHmo4Dmn6Xku7vliqEhIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdGhpcy5kYXRhU291cmNlW2ldLmNoZWNrUmVzdWx0U3RhdHVzID0gMDsNCiAgICAgIH0NCiAgICAgIHBvc3RBY3Rpb24odGhpcy51cmwuY29tbWl0Q2hlY2tUYXNrLCB0aGlzLmRhdGFTb3VyY2UpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmj5DkuqTmiJDlip8hIik7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9kdXR5Q2hlY2siKTsNCiAgICAgICAgICB0aGlzLnJlc2V0RGF0YSgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaPkOS6pOWksei0pSEiKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIHJlc2V0RGF0YSgpIHsNCiAgICAgIHRoaXMucGFyYW0gPSB7fTsNCiAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IFtdOw0KICAgICAgdGhpcy5zZWxlY3RlZEFyciA9IFtdOw0KICAgICAgdGhpcy5kYXRhID0gW107DQogICAgICB0aGlzLnRyb29wc05hbWUgPSAiIjsNCiAgICAgIHRoaXMub25TZWFyY2goKTsNCiAgICB9LA0KDQogICAgb25DaGFuZ2Uoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dLZXlzID0gc2VsZWN0ZWRSb3dLZXlzOw0KICAgICAgdGhpcy5zZWxlY3RlZEFyciA9IHNlbGVjdGVkUm93czsNCiAgICB9LA0KDQogICAgZ2V0Q2hlY2tib3hQcm9wczogKHJlY29yZCkgPT4gew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICBkaXNhYmxlZDogKHJlY29yZC5rZXkgKyAiIikubGVuZ3RoID09IDEgPyB0cnVlIDogZmFsc2UsIC8vIENvbHVtbiBjb25maWd1cmF0aW9uIG5vdCB0byBiZSBjaGVja2VkDQogICAgICAgICAgbmFtZTogcmVjb3JkLmNoZWNrRGVwdCwNCiAgICAgICAgfSwNCiAgICAgIH07DQogICAgfSwNCg0KICAgIC8vIOaQnOe0ouahhuaQnOe0og0KICAgIG9uU2VhcmNoKCkgew0KICAgICAgZ2V0QWN0aW9uKA0KICAgICAgICB0aGlzLnVybC50cm9vcHNMaXN0ICsNCiAgICAgICAgICAiP3Ryb29wc05hbWU9IiArDQogICAgICAgICAgdGhpcy50cm9vcHNOYW1lICsNCiAgICAgICAgICAiJnBhZ2VOdW09IiArDQogICAgICAgICAgdGhpcy5wYWdlTnVtICsNCiAgICAgICAgICAiJnBhZ2VMZW5ndGg9IiArDQogICAgICAgICAgdGhpcy5wYWdlTGVuZ3RoLA0KICAgICAgICBudWxsDQogICAgICApLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBsZXQgcmVzdWx0ID0gcmVzLnJlc3VsdDsNCiAgICAgICAgaWYgKHJlc3VsdFswXS5zdWJvcmRpbmF0ZVVuaXRzICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICByZXN1bHRbaV1bImtleSJdID0gIjAiICsgaTsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5zZWFyY2ggPSAic2VhcmNoIjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgcmVzdWx0W2ldWyJrZXkiXSA9IGk7DQogICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSByZXN1bHRbaV0uY2hpbGRyZW47DQogICAgICAgICAgICBpZiAoY2hpbGRyZW4pIHsNCiAgICAgICAgICAgICAgZm9yIChsZXQgaTEgPSAwOyBpMSA8IGNoaWxkcmVuLmxlbmd0aDsgaTErKykgew0KICAgICAgICAgICAgICAgIGNoaWxkcmVuW2kxXVsia2V5Il0gPSBpICsgIiIgKyBpMTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmRhdGEgPSByZXN1bHQ7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOaOp+WItuaQnOe0ouahhuWPs+S+p+Wxleekug0KICAgIHNob3coKSB7DQogICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmxlIik7DQogICAgICBpZiAodGhpcy5zaG93U3R5bGUpIHsNCiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICJ0YWJsZS1wb3NpdGlvbiI7DQogICAgICAgIHRoaXMuc2hvd05hbWUgPSAiPDwiOw0KICAgICAgICB0aGlzLnNob3dTdHlsZSA9IGZhbHNlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICIiOw0KICAgICAgICB0aGlzLnNob3dOYW1lID0gIj4+5bGV5byAIjsNCiAgICAgICAgdGhpcy5zaG93U3R5bGUgPSB0cnVlOw0KICAgICAgfQ0KICAgIH0sDQogICAgbW9tZW50LA0KICB9LA0KICB3YXRjaDogew0KICAgIC8vIOWLvumAieW3suaKveajgOWNleS9jQ0KICAgICJwYXJhbS5jaGVja1N0cmF0ZWd5IjogZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7DQogICAgICBpZiAobmV3VmFsID09ICJNYW51bW90aXZlIikgew0KICAgICAgICAvLyDlt7Lli77pgInmlbDnu4QNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGFTb3VyY2UubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuZGF0YVNvdXJjZVtpXTsNCiAgICAgICAgICAvL+aJvuWIsOeItue6pw0KICAgICAgICAgIGZvciAobGV0IGkxID0gMDsgaTEgPCB0aGlzLmRhdGEubGVuZ3RoOyBpMSsrKSB7DQogICAgICAgICAgICBpZiAoaXRlbS5zdWJvcmRpbmF0ZVVuaXRzID09IHRoaXMuZGF0YVtpMV0uY2hlY2tEZXB0KSB7DQogICAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMuZGF0YVtpMV0uY2hpbGRyZW47DQogICAgICAgICAgICAgIC8v5om+5Yiw5a2Q57qn5pWw57uEDQogICAgICAgICAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCBjaGlsZHJlbi5sZW5ndGg7IGkyKyspIHsNCiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW5baTJdLmNoZWNrRGVwdCA9PSBpdGVtLmNoZWNrRGVwdCkgew0KICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd0tleXMucHVzaChjaGlsZHJlbltpMl0ua2V5KTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBcnIucHVzaChjaGlsZHJlbltpMl0pOw0KICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["zbjcAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"zbjcAdd.vue","sourceRoot":"src/views/zbtest","sourcesContent":["<template>\r\n  <div class=\"center-flex-box\">\r\n    <div class=\"card-box\" id=\"card\" style=\"width: 300px\">\r\n      <div class=\"box-title\">信息筛选</div>\r\n      <div class=\"box-content\">\r\n        <a-form\r\n          layout=\"inline\"\r\n          :labelCol=\"{ span: 24, offset: 0 }\"\r\n          :wrapperCol=\"{ span: 24, offset: 0 }\"\r\n        >\r\n          <a-row :gutter=\"24\">\r\n            <a-col :xl=\"24\" :lg=\"24\" :md=\"24\" :sm=\"24\">\r\n              <a-form-item\r\n                label=\"抽检单位数量\"\r\n                :labelCol=\"{ span: 24, offset: 0 }\"\r\n                :wrapperCol=\"{ span: 24, offset: 0 }\"\r\n              >\r\n                <a-input\r\n                  v-model=\"param.checkDepNum\"\r\n                  placeholder=\"请输入抽检单位数量\"\r\n                  :max-length=\"25\"\r\n                />\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n\r\n          <a-row :gutter=\"24\">\r\n            <a-col :xl=\"24\" :lg=\"24\" :md=\"24\" :sm=\"24\">\r\n              <a-form-item label=\"检查方式\">\r\n                <j-dict-select-tag\r\n                  v-model=\"param.checkWay\"\r\n                  style=\"width: 100%\"\r\n                  placeholder=\"请选择检查方式\"\r\n                  dictCode=\"check_way\"\r\n                />\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n\r\n          <a-row :gutter=\"24\">\r\n            <a-col :xl=\"24\" :lg=\"24\" :md=\"24\" :sm=\"24\">\r\n              <a-form-item label=\"检查分配策略\">\r\n                <j-dict-select-tag\r\n                  v-model=\"param.checkStrategy\"\r\n                  style=\"width: 100%\"\r\n                  placeholder=\"请选择检查规则\"\r\n                  dictCode=\"check_strategy\"\r\n                />\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n          <a-row :gutter=\"24\">\r\n            <a-col :xl=\"12\" :lg=\"24\" :md=\"24\" :sm=\"24\">\r\n              <a-button\r\n                type=\"primary\"\r\n                block\r\n                style=\"margin-top: 20px\"\r\n                @click=\"confirmCheck\"\r\n              >\r\n                抽检\r\n              </a-button>\r\n            </a-col>\r\n\r\n            <a-col :xl=\"12\" :lg=\"24\" :md=\"24\" :sm=\"24\">\r\n              <a-button\r\n                type=\"primary\"\r\n                block\r\n                style=\"margin-top: 20px\"\r\n                @click=\"commitCheckTask\"\r\n              >\r\n                提交\r\n              </a-button>\r\n            </a-col>\r\n          </a-row>\r\n        </a-form>\r\n      </div>\r\n\r\n      <!-- 搜索 -->\r\n      <div\r\n        style=\"\r\n          width: 800px;\r\n          background-color: rgb(230, 247, 255);\r\n          z-index: 9999;\r\n        \"\r\n        id=\"table\"\r\n        v-show=\"param.checkStrategy == 'Manumotive'\"\r\n      >\r\n        <div>\r\n          <!-- <a-input-search\r\n            v-model=\"troopsName\"\r\n            placeholder=\"输入单位名称\"\r\n            style=\"width: 180px; margin-left: 5px\"\r\n            @search=\"onSearch\"\r\n          /> -->\r\n          <a href=\"#\" style=\"width: 280px;text-align: right;display: block\" @click=\"show\">{{ showName }}</a>\r\n        </div>\r\n        <a-table\r\n          :bordered=\"true\"\r\n          :columns=\"columns1\"\r\n          :data-source=\"data\"\r\n          :expandIconColumnIndex=\"1\"\r\n          :row-selection=\"{\r\n            selectedRowKeys: selectedRowKeys,\r\n            onChange: onChange,\r\n            getCheckboxProps: getCheckboxProps,\r\n            flexed: true,\r\n          }\"\r\n          :scroll=\"{ y: 240 }\"\r\n          :pagination=\"false\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"card-box\" style=\"flex: 1; margin-left: 20px\">\r\n      <div class=\"box-title\">数据展示</div>\r\n      <div class=\"box-content\">\r\n        <div>\r\n          <a-table\r\n            ref=\"table\"\r\n            size=\"default\"\r\n            :columns=\"columns\"\r\n            :dataSource=\"dataSource\"\r\n          >\r\n            <span slot=\"action\" slot-scope=\"text, record\">\r\n              <a @click=\"replaceTask(record)\">更换</a>\r\n              <a-divider type=\"vertical\" />\r\n              <a @click=\"deleteTask(record)\">删除</a>\r\n            </span>\r\n          </a-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAction, postAction } from \"@/api/manage\";\r\nimport STable from \"@/components/table/\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  name: \"zhrz\",\r\n  mixins: [\"JeecgListMixin\"],\r\n  components: {\r\n    STable,\r\n  },\r\n  data() {\r\n    return {\r\n      id: \"\",\r\n      // 选中的ids\r\n      selectedRowKeys: [],\r\n      search: \"\",\r\n      // 搜索区域\r\n      param: {},\r\n      // 列的信息\r\n      columns: [\r\n        {\r\n          title: \"受检单位\",\r\n          dataIndex: \"checkDept\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"隶属上级单位\",\r\n          dataIndex: \"subordinateUnits\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"本年度检查次数\",\r\n          dataIndex: \"annualCheckNumber\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"问题总数\",\r\n          dataIndex: \"checkResultStatus\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          dataIndex: \"action\",\r\n          align: \"center\",\r\n          scopedSlots: { customRender: \"action\" },\r\n        },\r\n      ],\r\n      // 右侧的数据\r\n      dataSource: [],\r\n      // 左侧的列信息\r\n      columns1: [\r\n        {\r\n          title: \"单位名称\",\r\n          dataIndex: \"checkDept\",\r\n          align: \"center\",\r\n          width: \"237px\",\r\n        },\r\n        {\r\n          title: \"本年度检查次数\",\r\n          dataIndex: \"annualCheckNumber\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"问题数量\",\r\n          dataIndex: \"checkResultStatus\",\r\n          align: \"center\",\r\n        },\r\n      ],\r\n      // 左侧的数据\r\n      data: [],\r\n      url: {\r\n        confirmCheck: \"/southCheckTask/confirmCheck\",\r\n        troopsList: \"/southCheckTask/searchTroopsByName\",\r\n        commitCheckTask: \"/southCheckTask/commitCheckTask\",\r\n      },\r\n      troopsName: \"\",\r\n      dataLoading: false,\r\n      busy: false,\r\n      pageNum: 1,\r\n      pageLength: 10,\r\n      showName: \">>展开\",\r\n      showStyle: true,\r\n      // 选中的数据\r\n      selectedArr: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.onSearch();\r\n    document.getElementById(\"card\").style.overflowX = \"hidden\";\r\n  },\r\n  methods: {\r\n    // 删除任务\r\n    deleteTask(record) {\r\n      this.dataSource.splice(record.index, 1);\r\n      this.$message.success(record.checkDept + \"下架成功!\");\r\n      for (let i = 0; i < this.dataSource.length; i++) {\r\n        this.dataSource[i].index = i;\r\n      }\r\n    },\r\n    // 替换任务\r\n    replaceTask(record) {\r\n      let index = record.index;\r\n      let param = this.param;\r\n      if (this.param.checkWay === undefined) {\r\n        this.$message.error(\"检查方式为必填项!\");\r\n        return;\r\n      }\r\n\r\n      if (this.param.checkStrategy === undefined) {\r\n        this.$message.error(\"检查分配策略为必填项!\");\r\n        return;\r\n      }\r\n      param.checkDepNum = 1;\r\n      postAction(this.url.confirmCheck, param).then((res) => {\r\n        let code = res.code;\r\n        if (code == 200) {\r\n          let result = res.result[0];\r\n          result.index = index;\r\n          this.dataSource.splice(index, 1, result);\r\n          this.$message.success(\"更换成功!\");\r\n        } else {\r\n          this.$message.error(res.message);\r\n        }\r\n      });\r\n    },\r\n    // 确认抽检\r\n    confirmCheck() {\r\n      if (this.param.checkStrategy === \"Manumotive\") {\r\n        if (this.param.checkWay == undefined) {\r\n          this.$message.error(\"检查方式不能为空!\");\r\n          return;\r\n        }\r\n\r\n        //处理数组\r\n        for (let i = 0; i < this.selectedArr.length; i++) {\r\n          //处理数据\r\n          this.selectedArr[i].checkStatus = \"NotCheck\";\r\n          this.selectedArr[i].checkWay = this.param.checkWay;\r\n        }\r\n\r\n        //模糊查询\r\n        if (this.search == \"search\") {\r\n          this.search = \"\";\r\n        } else {\r\n          //手动勾选\r\n          this.dataSource = this.selectedArr;\r\n        }\r\n        this.$message.success(\"手动抽检查任务成功!\");\r\n        return;\r\n      }\r\n\r\n      //  策略抽选\r\n      if (this.param.checkDepNum === undefined) {\r\n        this.$message.error(\"抽检单位数量为必填项!\");\r\n        return;\r\n      }\r\n\r\n      if (this.param.checkWay === undefined) {\r\n        this.$message.error(\"检查方式为必填项!\");\r\n        return;\r\n      }\r\n\r\n      if (this.param.checkStrategy === undefined) {\r\n        this.$message.error(\"检查分配策略为必填项!\");\r\n        return;\r\n      }\r\n      postAction(this.url.confirmCheck, this.param).then((res) => {\r\n        let code = res.code;\r\n        if (code == 200) {\r\n          for (let i = 0; i < res.result.length; i++) {\r\n            res.result[i].index = i;\r\n          }\r\n          this.dataSource = res.result;\r\n          this.$message.success(\"生成\" + res.result.length + \"条抽检任务!\");\r\n        } else {\r\n          this.$message.error(res.message);\r\n        }\r\n      });\r\n    },\r\n\r\n    // 提交检查任务\r\n    commitCheckTask() {\r\n      let length = this.dataSource.length;\r\n      if (this.dataSource.length == 0) {\r\n        this.$message.error(\"请至少抽检一条检查任务!\");\r\n        return;\r\n      }\r\n      for (let i = 0; i < length; i++) {\r\n        this.dataSource[i].checkResultStatus = 0;\r\n      }\r\n      postAction(this.url.commitCheckTask, this.dataSource).then((res) => {\r\n        if (res.code == 200) {\r\n          this.$message.success(\"提交成功!\");\r\n          this.$router.push(\"/dutyCheck\");\r\n          this.resetData();\r\n        } else {\r\n          this.$message.error(\"提交失败!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    resetData() {\r\n      this.param = {};\r\n      this.dataSource = [];\r\n      this.selectedArr = [];\r\n      this.data = [];\r\n      this.troopsName = \"\";\r\n      this.onSearch();\r\n    },\r\n\r\n    onChange(selectedRowKeys, selectedRows) {\r\n      this.selectedRowKeys = selectedRowKeys;\r\n      this.selectedArr = selectedRows;\r\n    },\r\n\r\n    getCheckboxProps: (record) => {\r\n      return {\r\n        props: {\r\n          disabled: (record.key + \"\").length == 1 ? true : false, // Column configuration not to be checked\r\n          name: record.checkDept,\r\n        },\r\n      };\r\n    },\r\n\r\n    // 搜索框搜索\r\n    onSearch() {\r\n      getAction(\r\n        this.url.troopsList +\r\n          \"?troopsName=\" +\r\n          this.troopsName +\r\n          \"&pageNum=\" +\r\n          this.pageNum +\r\n          \"&pageLength=\" +\r\n          this.pageLength,\r\n        null\r\n      ).then((res) => {\r\n        let result = res.result;\r\n        if (result[0].subordinateUnits != undefined) {\r\n          for (let i = 0; i < result.length; i++) {\r\n            result[i][\"key\"] = \"0\" + i;\r\n          }\r\n          this.search = \"search\";\r\n        } else {\r\n          for (let i = 0; i < result.length; i++) {\r\n            result[i][\"key\"] = i;\r\n            let children = result[i].children;\r\n            if (children) {\r\n              for (let i1 = 0; i1 < children.length; i1++) {\r\n                children[i1][\"key\"] = i + \"\" + i1;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.data = result;\r\n      });\r\n    },\r\n    // 控制搜索框右侧展示\r\n    show() {\r\n      let div = document.getElementById(\"table\");\r\n      if (this.showStyle) {\r\n        div.className = \"table-position\";\r\n        this.showName = \"<<\";\r\n        this.showStyle = false;\r\n      } else {\r\n        div.className = \"\";\r\n        this.showName = \">>展开\";\r\n        this.showStyle = true;\r\n      }\r\n    },\r\n    moment,\r\n  },\r\n  watch: {\r\n    // 勾选已抽检单位\r\n    \"param.checkStrategy\": function (newVal, oldVal) {\r\n      if (newVal == \"Manumotive\") {\r\n        // 已勾选数组\r\n        for (let i = 0; i < this.dataSource.length; i++) {\r\n          let item = this.dataSource[i];\r\n          //找到父级\r\n          for (let i1 = 0; i1 < this.data.length; i1++) {\r\n            if (item.subordinateUnits == this.data[i1].checkDept) {\r\n              let children = this.data[i1].children;\r\n              //找到子级数组\r\n              for (let i2 = 0; i2 < children.length; i2++) {\r\n                if (children[i2].checkDept == item.checkDept) {\r\n                  this.selectedRowKeys.push(children[i2].key);\r\n                  this.selectedArr.push(children[i2]);\r\n                  break;\r\n                }\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.table-position {\r\n  position: absolute;\r\n}\r\n.demo-infinite-container {\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 4px;\r\n  overflow: auto;\r\n  padding: 8px 24px;\r\n  height: 450px;\r\n}\r\n.demo-loading-container {\r\n  position: absolute;\r\n  bottom: 40px;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n.center-flex-box {\r\n  display: flex;\r\n  height: calc(100vh - 160px);\r\n  justify-content: space-between;\r\n  .card-box {\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n    background: #fff;\r\n    overflow-y: auto;\r\n    border: 1px solid #ddd;\r\n  }\r\n}\r\n.box-title {\r\n  background: rgba(0, 121, 254, 1);\r\n  line-height: 2.6rem;\r\n  color: #fff;\r\n  font-size: 1.2rem;\r\n  padding-left: 20px;\r\n}\r\n.box-content {\r\n  padding: 1.3rem;\r\n}\r\n.card-item {\r\n  display: flex;\r\n  margin: 10px 0;\r\n}\r\n.card-item .label {\r\n  width: 100px;\r\n}\r\n/deep/.ant-form-item-control-wrapper {\r\n  flex: 1;\r\n}\r\n.tbottom {\r\n  display: flex;\r\n}\r\n.bi {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n/deep/.ant-checkbox-group-item {\r\n  display: block;\r\n}\r\n.check-box {\r\n  display: flex;\r\n}\r\n.check-box .look {\r\n  text-align: right;\r\n  flex: 1;\r\n  color: #0079fe;\r\n}\r\n.check-box .look span {\r\n  cursor: pointer;\r\n}\r\n.ant-form-inline .ant-form-item {\r\n  width: 100%;\r\n  display: inline-block;\r\n  margin-right: 16px;\r\n  margin-bottom: 0;\r\n}\r\n</style>"]}]}