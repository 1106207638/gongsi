{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\chart\\DashChartDemo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\chart\\DashChartDemo.vue","mtime":1615948814005},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlZ2lzdGVyU2hhcGUgfSBmcm9tICd2aXNlci12dWUnOwoKcmVnaXN0ZXJTaGFwZSgncG9pbnQnLCAncG9pbnRlcicsIHsKICBkcmF3KGNmZywgY29udGFpbmVyKSB7CiAgICBsZXQgcG9pbnQgPSBjZmcucG9pbnRzWzBdOwogICAgcG9pbnQgPSB0aGlzLnBhcnNlUG9pbnQocG9pbnQpOwogICAgY29uc3QgY2VudGVyID0gdGhpcy5wYXJzZVBvaW50KHsKICAgICAgeDogMCwKICAgICAgeTogMCwKICAgIH0pOwogICAgY29udGFpbmVyLmFkZFNoYXBlKCdsaW5lJywgewogICAgICBhdHRyczogewogICAgICAgIHgxOiBjZW50ZXIueCwKICAgICAgICB5MTogY2VudGVyLnksCiAgICAgICAgeDI6IHBvaW50LngsCiAgICAgICAgeTI6IHBvaW50LnkgKyAxNSwKICAgICAgICBzdHJva2U6IGNmZy5jb2xvciwKICAgICAgICBsaW5lV2lkdGg6IDUsCiAgICAgICAgbGluZUNhcDogJ3JvdW5kJywKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gY29udGFpbmVyLmFkZFNoYXBlKCdjaXJjbGUnLCB7CiAgICAgIGF0dHJzOiB7CiAgICAgICAgeDogY2VudGVyLngsCiAgICAgICAgeTogY2VudGVyLnksCiAgICAgICAgcjogOS43NSwKICAgICAgICBzdHJva2U6IGNmZy5jb2xvciwKICAgICAgICBsaW5lV2lkdGg6IDQuNSwKICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgIH0KICAgIH0pOwogIH0KfSk7Cgpjb25zdCBzY2FsZSA9IFt7CiAgZGF0YUtleTogJ3ZhbHVlJywKICBtaW46IDAsCiAgbWF4OiA5LAogIHRpY2tJbnRlcnZhbDogMSwKICBuaWNlOiBmYWxzZSwKfV07Cgpjb25zdCBkYXRhID0gWwogIHsgdmFsdWU6IDcuMCB9LApdOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6IkRhc2hDaGFydERlbW8iLAogIHByb3BzOnsKICAgIGRhdGFzb3VyY2U6ewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6NwogICAgfSwKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgIGlmKCF0aGlzLmRhdGFzb3VyY2UpewogICAgICB0aGlzLmNoYXJ0RGF0YSA9IGRhdGE7CiAgICB9ZWxzZXsKICAgICAgdGhpcy5jaGFydERhdGEgPSBbCiAgICAgICAgeyB2YWx1ZTogdGhpcy5kYXRhc291cmNlIH0sCiAgICAgIF07CiAgICB9CiAgICB0aGlzLmdldENoYXJ0RGF0YSgpCiAgfSwKICB3YXRjaDogewogICAgJ2RhdGFzb3VyY2UnOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgIHRoaXMuY2hhcnREYXRhID0gWwogICAgICAgIHsgdmFsdWU6IHZhbH0sCiAgICAgIF07CiAgICAgIHRoaXMuZ2V0Q2hhcnREYXRhKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIGdldENoYXJ0RGF0YSgpewogICAgICBpZih0aGlzLmNoYXJ0RGF0YSAmJiB0aGlzLmNoYXJ0RGF0YS5sZW5ndGg+MCl7CiAgICAgICAgdGhpcy5hYmNkID0gdGhpcy5jaGFydERhdGFbMF0udmFsdWUgKiAxMAogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLmFiY2QgPSA3MAogICAgICB9CiAgICB9LAogICAgZ2V0SHRtbEd1aWRlSHRtbCgpewogICAgICByZXR1cm4gJzxkaXYgc3R5bGU9IndpZHRoOiAzMDBweDt0ZXh0LWFsaWduOiBjZW50ZXI7Ij5cbicgKwogICAgICAgICc8cCBzdHlsZT0iZm9udC1zaXplOiAxNHB4O2NvbG9yOiAjNTQ1NDU0O21hcmdpbjogMDsiPicrdGhpcy50aXRsZSsnPC9wPlxuJyArCiAgICAgICAgJzxwIHN0eWxlPSJmb250LXNpemU6IDM2cHg7Y29sb3I6ICM1NDU0NTQ7bWFyZ2luOiAwOyI+Jyt0aGlzLmFiY2QrJyU8L3A+XG4nICsKICAgICAgICAnPC9kaXY+JwogICAgfSwKICAgIGdldEFyY0d1aWRlMkVuZCgpewogICAgICByZXR1cm4gW3RoaXMuY2hhcnREYXRhWzBdLnZhbHVlLCAwLjk0NV0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFydERhdGE6W10sCiAgICAgIGhlaWdodDogNDAwLAogICAgICBzY2FsZTogc2NhbGUsCiAgICAgIGFiY2Q6NzAsCiAgICAgIGF4aXNMYWJlbDogewogICAgICAgIG9mZnNldDogLTE2LAogICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgZm9udFNpemU6IDE4LAogICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJywKICAgICAgICAgIHRleHRCYXNlbGluZTogJ21pZGRsZScKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGF4aXNTdWJUaWNrTGluZTogewogICAgICAgIGxlbmd0aDogLTgsCiAgICAgICAgc3Ryb2tlOiAnI2ZmZicsCiAgICAgICAgc3Ryb2tlT3BhY2l0eTogMSwKICAgICAgfSwKICAgICAgYXhpc1RpY2tMaW5lOiB7CiAgICAgICAgbGVuZ3RoOiAtMTcsCiAgICAgICAgc3Ryb2tlOiAnI2ZmZicsCiAgICAgICAgc3Ryb2tlT3BhY2l0eTogMSwKICAgICAgfSwKICAgICAgYXJjR3VpZGUxU3RhcnQ6IFswLCAwLjk0NV0sCiAgICAgIGFyY0d1aWRlMUVuZDogWzksIDAuOTQ1XSwKICAgICAgYXJjR3VpZGUxU3R5bGU6IHsKICAgICAgICBzdHJva2U6ICcjQ0JDQkNCJywKICAgICAgICBsaW5lV2lkdGg6IDE4LAogICAgICB9LAogICAgICBhcmNHdWlkZTJTdGFydDogWzAsIDAuOTQ1XSwKICAgICAgYXJjR3VpZGUyU3R5bGU6IHsKICAgICAgICBzdHJva2U6ICcjMTg5MEZGJywKICAgICAgICBsaW5lV2lkdGg6IDE4LAogICAgICB9LAogICAgICBodG1sR3VpZGVQb3NpdGlvbjogWyc1MCUnLCAnMTAwJSddLAogICAgICBodG1sR3VpZGVIdG1sOiBgCiAgICAgIDxkaXYgc3R5bGU9IndpZHRoOiAzMDBweDt0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICA8cCBzdHlsZT0iZm9udC1zaXplOiAxNHB4O2NvbG9yOiAjNTQ1NDU0O21hcmdpbjogMDsiPiR7dGhpcy50aXRsZX08L3A+CiAgICAgICAgPHAgc3R5bGU9ImZvbnQtc2l6ZTogMzZweDtjb2xvcjogIzU0NTQ1NDttYXJnaW46IDA7Ij4ke3RoaXMuYWJjZH0lPC9wPgogICAgICA8L2Rpdj4KICAgIGAsCiAgICB9OwogIH0sCn07Cg=="},{"version":3,"sources":["DashChartDemo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DashChartDemo.vue","sourceRoot":"src/components/chart","sourcesContent":["<template>\r\n  <div :style=\"{ padding: '0 0 32px 32px' }\">\r\n    <v-chart :forceFit=\"true\" :height=\"300\" :data=\"chartData\" :scale=\"scale\">\r\n      <v-coord type=\"polar\" :startAngle=\"-202.5\" :endAngle=\"22.5\" :radius=\"0.75\"></v-coord>\r\n      <v-axis\r\n        dataKey=\"value\"\r\n        :zIndex=\"2\"\r\n        :line=\"null\"\r\n        :label=\"axisLabel\"\r\n        :subTickCount=\"4\"\r\n        :subTickLine=\"axisSubTickLine\"\r\n        :tickLine=\"axisTickLine\"\r\n        :grid=\"null\"\r\n      ></v-axis>\r\n      <v-axis dataKey=\"1\" :show=\"false\"></v-axis>\r\n      <v-series\r\n        gemo=\"point\"\r\n        position=\"value*1\"\r\n        shape=\"pointer\"\r\n        color=\"#1890FF\"\r\n        :active=\"false\"\r\n      ></v-series>\r\n      <v-guide\r\n        type=\"arc\"\r\n        :zIndex=\"0\"\r\n        :top=\"false\"\r\n        :start=\"arcGuide1Start\"\r\n        :end=\"arcGuide1End\"\r\n        :vStyle=\"arcGuide1Style\"\r\n      ></v-guide>\r\n      <v-guide\r\n        type=\"arc\"\r\n        :zIndex=\"1\"\r\n        :start=\"arcGuide2Start\"\r\n        :end=\"getArcGuide2End\"\r\n        :vStyle=\"arcGuide2Style\"\r\n      ></v-guide>\r\n      <v-guide\r\n        type=\"html\"\r\n        :position=\"htmlGuidePosition\"\r\n        :html=\"getHtmlGuideHtml()\"\r\n      ></v-guide>\r\n    </v-chart>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { registerShape } from 'viser-vue';\r\n\r\n  registerShape('point', 'pointer', {\r\n    draw(cfg, container) {\r\n      let point = cfg.points[0];\r\n      point = this.parsePoint(point);\r\n      const center = this.parsePoint({\r\n        x: 0,\r\n        y: 0,\r\n      });\r\n      container.addShape('line', {\r\n        attrs: {\r\n          x1: center.x,\r\n          y1: center.y,\r\n          x2: point.x,\r\n          y2: point.y + 15,\r\n          stroke: cfg.color,\r\n          lineWidth: 5,\r\n          lineCap: 'round',\r\n        }\r\n      });\r\n      return container.addShape('circle', {\r\n        attrs: {\r\n          x: center.x,\r\n          y: center.y,\r\n          r: 9.75,\r\n          stroke: cfg.color,\r\n          lineWidth: 4.5,\r\n          fill: '#fff',\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  const scale = [{\r\n    dataKey: 'value',\r\n    min: 0,\r\n    max: 9,\r\n    tickInterval: 1,\r\n    nice: false,\r\n  }];\r\n\r\n  const data = [\r\n    { value: 7.0 },\r\n  ];\r\n\r\n  export default {\r\n    name:\"DashChartDemo\",\r\n    props:{\r\n      datasource:{\r\n        type: Number,\r\n        default:7\r\n      },\r\n      title: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    created(){\r\n      if(!this.datasource){\r\n        this.chartData = data;\r\n      }else{\r\n        this.chartData = [\r\n          { value: this.datasource },\r\n        ];\r\n      }\r\n      this.getChartData()\r\n    },\r\n    watch: {\r\n      'datasource': function (val) {\r\n        this.chartData = [\r\n          { value: val},\r\n        ];\r\n        this.getChartData();\r\n      }\r\n    },\r\n    methods:{\r\n      getChartData(){\r\n        if(this.chartData && this.chartData.length>0){\r\n          this.abcd = this.chartData[0].value * 10\r\n        }else{\r\n          this.abcd = 70\r\n        }\r\n      },\r\n      getHtmlGuideHtml(){\r\n        return '<div style=\"width: 300px;text-align: center;\">\\n' +\r\n          '<p style=\"font-size: 14px;color: #545454;margin: 0;\">'+this.title+'</p>\\n' +\r\n          '<p style=\"font-size: 36px;color: #545454;margin: 0;\">'+this.abcd+'%</p>\\n' +\r\n          '</div>'\r\n      },\r\n      getArcGuide2End(){\r\n        return [this.chartData[0].value, 0.945]\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        chartData:[],\r\n        height: 400,\r\n        scale: scale,\r\n        abcd:70,\r\n        axisLabel: {\r\n          offset: -16,\r\n          textStyle: {\r\n            fontSize: 18,\r\n            textAlign: 'center',\r\n            textBaseline: 'middle'\r\n          }\r\n        },\r\n        axisSubTickLine: {\r\n          length: -8,\r\n          stroke: '#fff',\r\n          strokeOpacity: 1,\r\n        },\r\n        axisTickLine: {\r\n          length: -17,\r\n          stroke: '#fff',\r\n          strokeOpacity: 1,\r\n        },\r\n        arcGuide1Start: [0, 0.945],\r\n        arcGuide1End: [9, 0.945],\r\n        arcGuide1Style: {\r\n          stroke: '#CBCBCB',\r\n          lineWidth: 18,\r\n        },\r\n        arcGuide2Start: [0, 0.945],\r\n        arcGuide2Style: {\r\n          stroke: '#1890FF',\r\n          lineWidth: 18,\r\n        },\r\n        htmlGuidePosition: ['50%', '100%'],\r\n        htmlGuideHtml: `\r\n        <div style=\"width: 300px;text-align: center;\">\r\n          <p style=\"font-size: 14px;color: #545454;margin: 0;\">${this.title}</p>\r\n          <p style=\"font-size: 36px;color: #545454;margin: 0;\">${this.abcd}%</p>\r\n        </div>\r\n      `,\r\n      };\r\n    },\r\n  };\r\n</script>\r\n"]}]}