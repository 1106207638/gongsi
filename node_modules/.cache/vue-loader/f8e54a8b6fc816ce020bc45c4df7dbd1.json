{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\jeecg\\report\\ArchivesStatisticst.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\jeecg\\report\\ArchivesStatisticst.vue","mtime":1615948819282},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXIgZnJvbSAnQC9jb21wb25lbnRzL2NoYXJ0L0JhcicKaW1wb3J0IFBpZSBmcm9tICdAL2NvbXBvbmVudHMvY2hhcnQvUGllJwppbXBvcnQgQUNvbCBmcm9tICdhbnQtZGVzaWduLXZ1ZS9lcy9ncmlkL0NvbCcKaW1wb3J0IHsgZ2V0QWN0aW9uIH0gZnJvbSAnQC9hcGkvbWFuYWdlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcmNoaXZlc1N0YXRpc3RpY3N0JywKICBjb21wb25lbnRzOiB7CiAgICBBQ29sLAogICAgQmFyLAogICAgUGllCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVzY3JpcHRpb246ICfmoaPmoYjnu5/orqHpobXpnaInLAogICAgICAvLyDmn6Xor6LmnaHku7YKICAgICAgcXVlcnlQYXJhbToge30sCiAgICAgIC8vIOaVsOaNrumbhgogICAgICBjb3VudFNvdXJjZTogW10sCiAgICAgIC8vIOafseeKtuWbvgogICAgICBiYXJUeXBlOiAneWVhcicsCiAgICAgIGJhckRhdGU6IFsnbW9udGgnLCAnbW9udGgnXSwKICAgICAgYmFyVmFsdWU6IFtdLAogICAgICAvLyDppbznirblm74KICAgICAgcGllVHlwZTogJ3llYXInLAogICAgICBwaWVEYXRlOiBbJ21vbnRoJywgJ21vbnRoJ10sCiAgICAgIHBpZVZhbHVlOiBbXSwKICAgICAgLy8g57uf6K6h5Zu+57G75Z6LCiAgICAgIHRhYlN0YXR1czoiYmFyIiwKICAgICAgdXJsOiB7CiAgICAgICAgZ2V0WWVhckNvdW50SW5mbzogIi9tb2NrL2FwaS9yZXBvcnQvZ2V0WWVhckNvdW50SW5mbyIsCiAgICAgICAgZ2V0TW9udGhDb3VudEluZm86Ii9tb2NrL2FwaS9yZXBvcnQvZ2V0TW9udGhDb3VudEluZm8iLAogICAgICAgIGdldENudHJOb0NvdW50SW5mbzoiL21vY2svYXBpL3JlcG9ydC9nZXRDbnRyTm9Db3VudEluZm8iLAogICAgICAgIGdldENhYmluZXRDb3VudEluZm86Ii9tb2NrL2FwaS9yZXBvcnQvZ2V0Q2FiaW5ldENvdW50SW5mbyIsCiAgICAgIH0sCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgbGV0IHVybCA9IHRoaXMudXJsLmdldFllYXJDb3VudEluZm87CiAgICB0aGlzLmxvYWREYXRlKHVybCwneWVhcicse30pOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZERhdGUodXJsLHR5cGUscGFyYW0pIHsKICAgICAgZ2V0QWN0aW9uKHVybCxwYXJhbSwnZ2V0JykudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLmNvdW50U291cmNlID0gW107CiAgICAgICAgICBpZih0eXBlID09PSAneWVhcicpewogICAgICAgICAgICB0aGlzLmdldFllYXJDb3VudFNvdXJjZShyZXMucmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHR5cGUgPT09ICdtb250aCcpewogICAgICAgICAgICB0aGlzLmdldE1vbnRoQ291bnRTb3VyY2UocmVzLnJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZih0eXBlID09PSAnY2F0ZWdvcnknKXsKICAgICAgICAgICAgdGhpcy5nZXRDYXRlZ29yeUNvdW50U291cmNlKHJlcy5yZXN1bHQpOwogICAgICAgICAgfQogICAgICAgICAgaWYodHlwZSA9PT0gJ2NhYmluZXQnKXsKICAgICAgICAgICAgdGhpcy5nZXRDYWJpbmV0Q291bnRTb3VyY2UocmVzLnJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICB2YXIgdGhhdD10aGlzOwogICAgICAgICAgdGhhdC4kbWVzc2FnZS53YXJuaW5nKHJlcy5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZ2V0WWVhckNvdW50U291cmNlKGRhdGEpewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZih0aGlzLnRhYlN0YXR1cyA9PT0gImJhciIpewogICAgICAgICAgdGhpcy5jb3VudFNvdXJjZS5wdXNoKHsKICAgICAgICAgICAgeDogYCR7ZGF0YVtpXS55ZWFyfeW5tGAsCiAgICAgICAgICAgIHk6IGRhdGFbaV0ueWVhcmNvdW50CiAgICAgICAgICB9KQogICAgICAgIH1lbHNlewogICAgICAgICAgdGhpcy5jb3VudFNvdXJjZS5wdXNoKHsKICAgICAgICAgICAgaXRlbTogYCR7ZGF0YVtpXS55ZWFyfeW5tGAsCiAgICAgICAgICAgIGNvdW50OmRhdGFbaV0ueWVhcmNvdW50CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldE1vbnRoQ291bnRTb3VyY2UoZGF0YSl7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmKHRoaXMudGFiU3RhdHVzID09PSAiYmFyIil7CiAgICAgICAgICB0aGlzLmNvdW50U291cmNlLnB1c2goewogICAgICAgICAgICB4OiBkYXRhW2ldLm1vbnRoLAogICAgICAgICAgICB5OiBkYXRhW2ldLm1vbnRoY291bnQKICAgICAgICAgIH0pCiAgICAgICAgfWVsc2V7CiAgICAgICAgICB0aGlzLmNvdW50U291cmNlLnB1c2goewogICAgICAgICAgICBpdGVtOiBkYXRhW2ldLm1vbnRoLAogICAgICAgICAgICBjb3VudDpkYXRhW2ldLm1vbnRoY291bnQKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0Q2F0ZWdvcnlDb3VudFNvdXJjZShkYXRhKXsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYodGhpcy50YWJTdGF0dXMgPT09ImJhciIpewogICAgICAgICAgdGhpcy5jb3VudFNvdXJjZS5wdXNoKHsKICAgICAgICAgICAgeDogZGF0YVtpXS5jbGFzc2lmeW5hbWUsCiAgICAgICAgICAgIHk6IGRhdGFbaV0uY250cm5vY291bnQKICAgICAgICAgIH0pCiAgICAgICAgfWVsc2V7CiAgICAgICAgICB0aGlzLmNvdW50U291cmNlLnB1c2goewogICAgICAgICAgICBpdGVtOiBkYXRhW2ldLmNsYXNzaWZ5bmFtZSwKICAgICAgICAgICAgY291bnQ6ZGF0YVtpXS5jbnRybm9jb3VudAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRDYWJpbmV0Q291bnRTb3VyY2UoZGF0YSl7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmKHRoaXMudGFiU3RhdHVzID09PSAiYmFyIil7CiAgICAgICAgICB0aGlzLmNvdW50U291cmNlLnB1c2goewogICAgICAgICAgICB4OiBkYXRhW2ldLmNhYmluZXRuYW1lLAogICAgICAgICAgICB5OiBkYXRhW2ldLmNhYmluZXRjb2N1bnQKICAgICAgICAgIH0pCiAgICAgICAgfWVsc2V7CiAgICAgICAgICB0aGlzLmNvdW50U291cmNlLnB1c2goewogICAgICAgICAgICBpdGVtOiBkYXRhW2ldLmNhYmluZXRuYW1lLAogICAgICAgICAgICBjb3VudDpkYXRhW2ldLmNhYmluZXRjb2N1bnQKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g6YCJ5oup57uf6K6h5Zu+57G75YirCiAgICBjYWxsYmFjayhrZXkpIHsKICAgICAgaWYoa2V5ID09PSAiMSIpewogICAgICAgIHRoaXMudGFiU3RhdHVzID0gImJhciI7CiAgICAgICAgdGhpcy5xdWVyeURhdGViYXIoKTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy50YWJTdGF0dXMgPSAicGllIjsKICAgICAgICB0aGlzLnF1ZXJ5RGF0ZXBpZSgpOwogICAgICB9CiAgICB9LAogICAgLy8g6YCJ5oup57uf6K6h57G75YirCiAgICBzdGF0aXN0aWNzdChlKSB7CiAgICAgIGlmKHRoaXMudGFiU3RhdHVzID09PSAicGllIil7CiAgICAgICAgdGhpcy5waWVUeXBlID0gZS50YXJnZXQudmFsdWU7CiAgICAgICAgdGhpcy5xdWVyeURhdGVwaWUoKTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5iYXJUeXBlID0gZS50YXJnZXQudmFsdWU7CiAgICAgICAgdGhpcy5xdWVyeURhdGViYXIoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaMieaciOS7veafpeivogogICAgcXVlcnlEYXRlYmFyKCl7CiAgICAgIGlmKHRoaXMuYmFyVmFsdWUubGVuZ3RoPjApewogICAgICAgIHRoaXMuZ2V0VXJsKHRoaXMuYmFyVHlwZSx7c3RhcnRUaW1lOnRoaXMuYmFyVmFsdWVbMF0uX2QsZW5kVGltZTp0aGlzLmJhclZhbHVlWzFdLl9kfSk7CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuZ2V0VXJsKHRoaXMuYmFyVHlwZSx7fSk7CiAgICAgIH0KICAgIH0sCiAgICBxdWVyeURhdGVwaWUoKXsKICAgICAgaWYodGhpcy5waWVWYWx1ZS5sZW5ndGg+MCl7CiAgICAgICAgdGhpcy5nZXRVcmwodGhpcy5waWVUeXBlLHtzdGFydFRpbWU6dGhpcy5waWVWYWx1ZVswXS5fZCxlbmRUaW1lOnRoaXMucGllVmFsdWVbMV0uX2R9KTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5nZXRVcmwodGhpcy5waWVUeXBlLHt9KTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaFJlc2V0KCl7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFiU3RhdHVzKTsKICAgICAgaWYodGhpcy50YWJTdGF0dXMgPT09ICJwaWUiKXsKICAgICAgICB0aGlzLnBpZVZhbHVlID0gW107CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuYmFyVmFsdWUgPSBbXTsKICAgICAgfQogICAgICB0aGlzLmdldFVybCh0aGlzLmJhclR5cGUse30pOwogICAgfSwKICAgIC8vIOmAieaLqeivt+axgnVybAogICAgZ2V0VXJsKHR5cGUscGFyYW0pewogICAgICBsZXQgdXJsID0gIiI7CiAgICAgIGlmKHR5cGUgPT09ICd5ZWFyJyl7CiAgICAgICAgdXJsID0gdGhpcy51cmwuZ2V0WWVhckNvdW50SW5mbzsKICAgICAgfQogICAgICBpZih0eXBlID09PSAnbW9udGgnKXsKICAgICAgICB1cmwgPSB0aGlzLnVybC5nZXRNb250aENvdW50SW5mbzsKICAgICAgfQogICAgICBpZih0eXBlID09PSAnY2F0ZWdvcnknKXsKICAgICAgICB1cmwgPSB0aGlzLnVybC5nZXRDbnRyTm9Db3VudEluZm87CiAgICAgIH0KICAgICAgaWYodHlwZSA9PT0gJ2NhYmluZXQnKXsKICAgICAgICB1cmwgPSB0aGlzLnVybC5nZXRDYWJpbmV0Q291bnRJbmZvOwogICAgICB9CiAgICAgIHRoaXMubG9hZERhdGUodXJsLHR5cGUscGFyYW0pOwogICAgfSwKICAgIC8vIOmAieaLqeaciOS7veaXpeacnwogICAgaGFuZGxlQmFyRGF0ZSh2YWx1ZSwgbW9kZSkgewogICAgICB0aGlzLmJhclZhbHVlID0gdmFsdWUKICAgICAgdGhpcy5iYXJEYXRlID0gWwogICAgICAgIG1vZGVbMF0gPT09ICdkYXRlJyA/ICdtb250aCcgOiBtb2RlWzBdLAogICAgICAgIG1vZGVbMV0gPT09ICdkYXRlJyA/ICdtb250aCcgOiBtb2RlWzFdCiAgICAgIF0KICAgIH0sCiAgICBoYW5kbGVQaWVEYXRlKHZhbHVlLCBtb2RlKSB7CiAgICAgIHRoaXMucGllVmFsdWUgPSB2YWx1ZQogICAgICB0aGlzLnBpZURhdGUgPSBbCiAgICAgICAgbW9kZVswXSA9PT0gJ2RhdGUnID8gJ21vbnRoJyA6IG1vZGVbMF0sCiAgICAgICAgbW9kZVsxXSA9PT0gJ2RhdGUnID8gJ21vbnRoJyA6IG1vZGVbMV0KICAgICAgXQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["ArchivesStatisticst.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ArchivesStatisticst.vue","sourceRoot":"src/views/jeecg/report","sourcesContent":["<template>\r\n  <a-card :bordered=\"false\">\r\n    <a-tabs defaultActiveKey=\"1\" @change=\"callback\">\r\n      <a-tab-pane tab=\"柱状图\" key=\"1\">\r\n        <a-row>\r\n          <a-col :span=\"10\">\r\n            <a-radio-group :value=\"barType\" @change=\"statisticst\">\r\n              <a-radio-button value=\"year\">按年统计</a-radio-button>\r\n              <a-radio-button value=\"month\">按月统计</a-radio-button>\r\n              <a-radio-button value=\"category\">按类别统计</a-radio-button>\r\n              <a-radio-button value=\"cabinet\">按柜号统计</a-radio-button>\r\n            </a-radio-group>\r\n          </a-col>\r\n          <a-col :span=\"14\">\r\n            <a-form v-if=\"barType === 'month' && false\" layout=\"inline\" style=\"margin-top: -4px\">\r\n              <a-form-item label=\"月份区间\">\r\n                <a-range-picker\r\n                  :placeholder=\"['开始月份', '结束月份']\"\r\n                  format=\"YYYY-MM\"\r\n                  :value=\"barValue\"\r\n                  :mode=\"barDate\"\r\n                  @panelChange=\"handleBarDate\"/>\r\n              </a-form-item>\r\n              <a-button style=\"margin-top: 2px\" type=\"primary\" icon=\"search\" @click=\"queryDatebar\">查询</a-button>\r\n              <a-button style=\"margin-top: 2px;margin-left: 8px\" type=\"primary\" icon=\"reload\" @click=\"searchReset\">重置</a-button>\r\n            </a-form>\r\n          </a-col>\r\n          <bar class=\"statistic\" title=\"档案统计\" :dataSource=\"countSource\" :height=\"400\"/>\r\n        </a-row>\r\n      </a-tab-pane>\r\n\r\n      <a-tab-pane tab=\"饼状图\" key=\"2\">\r\n        <a-row :gutter=\"24\">\r\n          <a-col :span=\"10\">\r\n            <a-radio-group :value=\"pieType\" @change=\"statisticst\">\r\n              <a-radio-button value=\"year\">按年统计</a-radio-button>\r\n              <a-radio-button value=\"month\">按月统计</a-radio-button>\r\n              <a-radio-button value=\"category\">按类别统计</a-radio-button>\r\n              <a-radio-button value=\"cabinet\">按柜号统计</a-radio-button>\r\n            </a-radio-group>\r\n          </a-col>\r\n          <a-col :span=\"14\">\r\n            <a-form v-if=\"pieType === 'month' && false\" layout=\"inline\" style=\"margin-top: -4px\">\r\n              <a-row :gutter=\"24\">\r\n                <a-form-item label=\"月份区间\">\r\n                  <a-range-picker\r\n                    :placeholder=\"['开始月份', '结束月份']\"\r\n                    format=\"YYYY-MM\"\r\n                    :value=\"pieValue\"\r\n                    :mode=\"pieDate\"\r\n                    @panelChange=\"handlePieDate\"/>\r\n                </a-form-item>\r\n                <a-button style=\"margin-top: 2px\" type=\"primary\" icon=\"search\" @click=\"queryDatepie\">查询</a-button>\r\n                <a-button style=\"margin-top: 2px;margin-left: 8px\" type=\"primary\" icon=\"reload\" @click=\"searchReset\">重置</a-button>\r\n              </a-row>\r\n            </a-form>\r\n          </a-col>\r\n          <pie class=\"statistic\" title=\"档案统计\" :dataSource=\"countSource\" :height=\"450\"/>\r\n        </a-row>\r\n      </a-tab-pane>\r\n    </a-tabs>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  import Bar from '@/components/chart/Bar'\r\n  import Pie from '@/components/chart/Pie'\r\n  import ACol from 'ant-design-vue/es/grid/Col'\r\n  import { getAction } from '@/api/manage'\r\n\r\n  export default {\r\n    name: 'ArchivesStatisticst',\r\n    components: {\r\n      ACol,\r\n      Bar,\r\n      Pie\r\n    },\r\n    data() {\r\n      return {\r\n        description: '档案统计页面',\r\n        // 查询条件\r\n        queryParam: {},\r\n        // 数据集\r\n        countSource: [],\r\n        // 柱状图\r\n        barType: 'year',\r\n        barDate: ['month', 'month'],\r\n        barValue: [],\r\n        // 饼状图\r\n        pieType: 'year',\r\n        pieDate: ['month', 'month'],\r\n        pieValue: [],\r\n        // 统计图类型\r\n        tabStatus:\"bar\",\r\n        url: {\r\n          getYearCountInfo: \"/mock/api/report/getYearCountInfo\",\r\n          getMonthCountInfo:\"/mock/api/report/getMonthCountInfo\",\r\n          getCntrNoCountInfo:\"/mock/api/report/getCntrNoCountInfo\",\r\n          getCabinetCountInfo:\"/mock/api/report/getCabinetCountInfo\",\r\n        },\r\n      }\r\n    },\r\n    created() {\r\n      let url = this.url.getYearCountInfo;\r\n      this.loadDate(url,'year',{});\r\n    },\r\n    methods: {\r\n      loadDate(url,type,param) {\r\n        getAction(url,param,'get').then((res) => {\r\n          if (res.success) {\r\n            this.countSource = [];\r\n            if(type === 'year'){\r\n              this.getYearCountSource(res.result);\r\n            }\r\n            if(type === 'month'){\r\n              this.getMonthCountSource(res.result);\r\n            }\r\n            if(type === 'category'){\r\n              this.getCategoryCountSource(res.result);\r\n            }\r\n            if(type === 'cabinet'){\r\n              this.getCabinetCountSource(res.result);\r\n            }\r\n          }else{\r\n            var that=this;\r\n            that.$message.warning(res.message);\r\n          }\r\n        })\r\n      },\r\n      getYearCountSource(data){\r\n        for (let i = 0; i < data.length; i++) {\r\n          if(this.tabStatus === \"bar\"){\r\n            this.countSource.push({\r\n              x: `${data[i].year}年`,\r\n              y: data[i].yearcount\r\n            })\r\n          }else{\r\n            this.countSource.push({\r\n              item: `${data[i].year}年`,\r\n              count:data[i].yearcount\r\n            })\r\n          }\r\n        }\r\n      },\r\n      getMonthCountSource(data){\r\n        for (let i = 0; i < data.length; i++) {\r\n          if(this.tabStatus === \"bar\"){\r\n            this.countSource.push({\r\n              x: data[i].month,\r\n              y: data[i].monthcount\r\n            })\r\n          }else{\r\n            this.countSource.push({\r\n              item: data[i].month,\r\n              count:data[i].monthcount\r\n            })\r\n          }\r\n        }\r\n      },\r\n      getCategoryCountSource(data){\r\n        for (let i = 0; i < data.length; i++) {\r\n          if(this.tabStatus ===\"bar\"){\r\n            this.countSource.push({\r\n              x: data[i].classifyname,\r\n              y: data[i].cntrnocount\r\n            })\r\n          }else{\r\n            this.countSource.push({\r\n              item: data[i].classifyname,\r\n              count:data[i].cntrnocount\r\n            })\r\n          }\r\n        }\r\n      },\r\n      getCabinetCountSource(data){\r\n        for (let i = 0; i < data.length; i++) {\r\n          if(this.tabStatus === \"bar\"){\r\n            this.countSource.push({\r\n              x: data[i].cabinetname,\r\n              y: data[i].cabinetcocunt\r\n            })\r\n          }else{\r\n            this.countSource.push({\r\n              item: data[i].cabinetname,\r\n              count:data[i].cabinetcocunt\r\n            })\r\n          }\r\n        }\r\n      },\r\n      // 选择统计图类别\r\n      callback(key) {\r\n        if(key === \"1\"){\r\n          this.tabStatus = \"bar\";\r\n          this.queryDatebar();\r\n        }else{\r\n          this.tabStatus = \"pie\";\r\n          this.queryDatepie();\r\n        }\r\n      },\r\n      // 选择统计类别\r\n      statisticst(e) {\r\n        if(this.tabStatus === \"pie\"){\r\n          this.pieType = e.target.value;\r\n          this.queryDatepie();\r\n        }else{\r\n          this.barType = e.target.value;\r\n          this.queryDatebar();\r\n        }\r\n      },\r\n      // 按月份查询\r\n      queryDatebar(){\r\n        if(this.barValue.length>0){\r\n          this.getUrl(this.barType,{startTime:this.barValue[0]._d,endTime:this.barValue[1]._d});\r\n        }else{\r\n          this.getUrl(this.barType,{});\r\n        }\r\n      },\r\n      queryDatepie(){\r\n        if(this.pieValue.length>0){\r\n          this.getUrl(this.pieType,{startTime:this.pieValue[0]._d,endTime:this.pieValue[1]._d});\r\n        }else{\r\n          this.getUrl(this.pieType,{});\r\n        }\r\n      },\r\n      searchReset(){\r\n        console.log(this.tabStatus);\r\n        if(this.tabStatus === \"pie\"){\r\n          this.pieValue = [];\r\n        }else{\r\n          this.barValue = [];\r\n        }\r\n        this.getUrl(this.barType,{});\r\n      },\r\n      // 选择请求url\r\n      getUrl(type,param){\r\n        let url = \"\";\r\n        if(type === 'year'){\r\n          url = this.url.getYearCountInfo;\r\n        }\r\n        if(type === 'month'){\r\n          url = this.url.getMonthCountInfo;\r\n        }\r\n        if(type === 'category'){\r\n          url = this.url.getCntrNoCountInfo;\r\n        }\r\n        if(type === 'cabinet'){\r\n          url = this.url.getCabinetCountInfo;\r\n        }\r\n        this.loadDate(url,type,param);\r\n      },\r\n      // 选择月份日期\r\n      handleBarDate(value, mode) {\r\n        this.barValue = value\r\n        this.barDate = [\r\n          mode[0] === 'date' ? 'month' : mode[0],\r\n          mode[1] === 'date' ? 'month' : mode[1]\r\n        ]\r\n      },\r\n      handlePieDate(value, mode) {\r\n        this.pieValue = value\r\n        this.pieDate = [\r\n          mode[0] === 'date' ? 'month' : mode[0],\r\n          mode[1] === 'date' ? 'month' : mode[1]\r\n        ]\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n  .ant-card-body .table-operator {\r\n    margin-bottom: 18px;\r\n  }\r\n\r\n  .ant-table-tbody .ant-table-row td {\r\n    padding-top: 15px;\r\n    padding-bottom: 15px;\r\n  }\r\n\r\n  .anty-row-operator button {\r\n    margin: 0 5px\r\n  }\r\n\r\n  .ant-btn-danger {\r\n    background-color: #ffffff\r\n  }\r\n\r\n  .ant-modal-cust-warp {\r\n    height: 100%\r\n  }\r\n\r\n  .ant-modal-cust-warp .ant-modal-body {\r\n    height: calc(100% - 110px) !important;\r\n    overflow-y: auto\r\n  }\r\n\r\n  .ant-modal-cust-warp .ant-modal-content {\r\n    height: 90% !important;\r\n    overflow-y: hidden\r\n  }\r\n\r\n  .statistic {\r\n    padding: 0px !important;\r\n    margin-top: 50px;\r\n  }\r\n\r\n  .statistic h4 {\r\n    margin-bottom: 20px;\r\n    text-align: center !important;\r\n    font-size: 24px !important;;\r\n  }\r\n\r\n  .statistic #canvas_1 {\r\n    width: 100% !important;\r\n  }\r\n</style>"]}]}