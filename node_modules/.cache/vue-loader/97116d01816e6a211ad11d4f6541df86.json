{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\online\\modules\\selfcgreportModule.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\online\\modules\\selfcgreportModule.vue","mtime":1616038591485},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge2dldEFjdGlvbiwgaHR0cEFjdGlvbn0gZnJvbSAnQC9hcGkvbWFuYWdlJwppbXBvcnQgcGljayBmcm9tICdsb2Rhc2gucGljaycKaW1wb3J0IHt2YWxpZGF0ZUR1cGxpY2F0ZVZhbHVlfSBmcm9tICdAL3V0aWxzL3V0aWwnCmltcG9ydCBKRGljdFNlbGVjdFRhZyBmcm9tICJAL2NvbXBvbmVudHMvZGljdC9KRGljdFNlbGVjdFRhZyIKaW1wb3J0IHtKVlhFVHlwZXN9IGZyb20gIkBjb21wL2plZWNnL0pWeGVUYWJsZSI7CmltcG9ydCBKQ29kZUVkaXRvciBmcm9tICdAL2NvbXBvbmVudHMvamVlY2cvSkNvZGVFZGl0b3InCmltcG9ydCBKRGVtbyBmcm9tICcuL2pmb3JtLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNlbGZjZ3JlcG9ydE1vZHVsZSIsCiAgY29tcG9uZW50czogewogICAgSkRpY3RTZWxlY3RUYWcsCiAgICBKRGVtbywKICAgIEpDb2RlRWRpdG9yCiAgfSwKICBwcm9wOiB7CiAgICB0YXNrSWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1RydWUxOmZhbHNlLAogICAgICBpc1RydWUyOmZhbHNlLAogICAgICBydWxlczogewogICAgICAgIGRlc2M6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWlU1FM6K+t5Y+lJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICB9LAogICAgICBzcWxWYWx1ZTonJywKICAgICAgaWQ6JycsCiAgICAgIC8vIOmAieS4reeahOihjOaVsAogICAgICBzZWxlY3RlZFJvd0lkczpbXSwKICAgICAgamNvZGVkZGl0b3I6IHsKICAgICAgICB2YWx1ZTogYGZ1bmN0aW9uIHNheUhpKHdvcmQpIHsKICBhbGVydCh3b3JkKQp9CnNheUhpKCdoZWxsbywgd29ybGQhJylgCiAgICAgIH0sCiAgICAgIHN0YXRpY1N0eWxlOiB7CiAgICAgICAgY29sb3I6ICJyZWQiCiAgICAgIH0sCiAgICAgIGNvbHVtbnMxOiBbewogICAgICAgIHRpdGxlOiAi5a2X5q615ZCNIiwKICAgICAgICB3aWR0aDogIjE1MHB4IiwKICAgICAgICBrZXk6ICJmaWVsZE5hbWUiLAogICAgICAgIHR5cGU6IEpWWEVUeXBlcy5pbnB1dCwKICAgICAgICBkZWZhdWx0VmFsdWU6ICIiLAogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWlJHt0aXRsZX0iLAogICAgICAgIHZhbGlkYXRlUnVsZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogITAsCiAgICAgICAgICBtZXNzYWdlOiAiJHt0aXRsZX3kuI3og73kuLrnqboiCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuWtl+auteaWh+acrCIsCiAgICAgICAgICB3aWR0aDogIjIwMHB4IiwKICAgICAgICAgIGtleTogImZpZWxkVHh0IiwKICAgICAgICAgIHR5cGU6IEpWWEVUeXBlcy5pbnB1dCwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWlJHt0aXRsZX0iLAogICAgICAgICAgZGVmYXVsdFZhbHVlOiAiIiwKICAgICAgICAgIHZhbGlkYXRlUnVsZXM6IFt7CiAgICAgICAgICAgIHJlcXVpcmVkOiAhMCwKICAgICAgICAgICAgbWVzc2FnZTogIiR7dGl0bGV95LiN6IO95Li656m6IgogICAgICAgICAgfV0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi57G75Z6LIiwKICAgICAgICAgIHdpZHRoOiAiMTUwcHgiLAogICAgICAgICAga2V5OiAiZmllbGRUeXBlIiwKICAgICAgICAgIHR5cGU6IEpWWEVUeXBlcy5zZWxlY3QsCiAgICAgICAgICBvcHRpb25zOiBbewogICAgICAgICAgICB0aXRsZTogIuaVsOWAvOexu+WeiyIsCiAgICAgICAgICAgIHZhbHVlOiAiSW50ZWdlciIKICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0aXRsZTogIuWtl+espuexu+WeiyIsCiAgICAgICAgICAgICAgdmFsdWU6ICJTdHJpbmciCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0aXRsZTogIuaXpeacn+exu+WeiyIsCiAgICAgICAgICAgICAgdmFsdWU6ICJEYXRlIgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdGl0bGU6ICLml7bpl7TnsbvlnosiLAogICAgICAgICAgICAgIHZhbHVlOiAiRGF0ZXRpbWUiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0aXRsZTogIumVv+aVtOWeiyIsCiAgICAgICAgICAgICAgdmFsdWU6ICJMb25nIgogICAgICAgICAgICB9XSwKICAgICAgICAgIGRlZmF1bHRWYWx1ZTogIlN0cmluZyIsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+mAieaLqSR7dGl0bGV9IiwKICAgICAgICAgIHZhbGlkYXRlUnVsZXM6IFt7CiAgICAgICAgICAgIHJlcXVpcmVkOiAhMCwKICAgICAgICAgICAgbWVzc2FnZTogIiR7dGl0bGV95LiN6IO95Li656m6IgogICAgICAgICAgfV0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5piv5ZCm5pi+56S6IiwKICAgICAgICAgIHdpZHRoOiAiMTAwcHgiLAogICAgICAgICAga2V5OiAiaXNTaG93IiwKICAgICAgICAgIHR5cGU6IEpWWEVUeXBlcy5jaGVja2JveCwKICAgICAgICAgIGN1c3RvbVZhbHVlOiBbMSwgMF0sCiAgICAgICAgICBkZWZhdWx0Q2hlY2tlZDogITAKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5YC8IiwKICAgICAgICAgIFdpZHRoOiAiMTAwcHgiLAogICAgICAgICAga2V5OiAidmFsdWUiLAogICAgICAgICAgdHlwZTogSlZYRVR5cGVzLmlucHV0LAogICAgICAgICAgZGVmYXVsdFZhbHVlOiAiIiwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWlJHt0aXRsZX0iCiAgICAgICAgfSwKICAgICAgLy8gICB7CiAgICAgIC8vICAgICB0aXRsZTogIuafpeivouaooeW8jyIsCiAgICAgIC8vICAgICB3aWR0aDogIjE1MHB4IiwKICAgICAgLy8gICAgIGtleTogInNlYXJjaE1vZGUiLAogICAgICAvLyAgICAgdHlwZTogSlZYRVR5cGVzLnNlbGVjdCwKICAgICAgLy8gICAgIG9wdGlvbnM6IFt7CiAgICAgIC8vICAgICAgIHRpdGxlOiAi5Y2V5p2h5Lu25p+l6K+iIiwKICAgICAgLy8gICAgICAgdmFsdWU6ICJzaW5nbGUiCiAgICAgIC8vICAgICB9LAogICAgICAvLyAgICAgICB7CiAgICAgIC8vICAgICAgICAgdGl0bGU6ICLojIPlm7Tmn6Xor6IiLAogICAgICAvLyAgICAgICAgIHZhbHVlOiAiZ3JvdXAiCiAgICAgIC8vICAgICAgIH1dLAogICAgICAvLyAgICAgZGVmYXVsdFZhbHVlOiAiIiwKICAgICAgLy8gICAgIHBsYWNlaG9sZGVyOiAi6K+36YCJ5oupJHt0aXRsZX0iCiAgICAgIC8vICAgfSwKICAgICAgLy8gICB7CiAgICAgIC8vICAgICB0aXRsZTogIuWPluWAvOihqOi+vuW8jyIsCiAgICAgIC8vICAgICB3aWR0aDogIjE2MHB4IiwKICAgICAgLy8gICAgIGtleTogInJlcGxhY2VWYWwiLAogICAgICAvLyAgICAgdHlwZTogSlZYRVR5cGVzLmlucHV0LAogICAgICAvLyAgICAgZGVmYXVsdFZhbHVlOiAiIiwKICAgICAgLy8gICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWlJHt0aXRsZX0iCiAgICAgIC8vICAgfSwKICAgICAgLy8gICB7CiAgICAgIC8vICAgICB0aXRsZTogIuWtl+WFuGNvZGUiLAogICAgICAvLyAgICAgd2lkdGg6ICIyMDBweCIsCiAgICAgIC8vICAgICBrZXk6ICJkaWN0Q29kZSIsCiAgICAgIC8vICAgICB0eXBlOiBKVlhFVHlwZXMuaW5wdXQsCiAgICAgIC8vICAgICBkZWZhdWx0VmFsdWU6ICIiLAogICAgICAvLyAgICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaUke3RpdGxlfSIKICAgICAgLy8gICB9LAogICAgICAvLyAgIHsKICAgICAgLy8gICAgIHRpdGxlOiAi5YiG57uE5qCH6aKYIiwKICAgICAgLy8gICAgIHdpZHRoOiAiMjAwcHgiLAogICAgICAvLyAgICAga2V5OiAiZ3JvdXBUaXRsZSIsCiAgICAgIC8vICAgICB0eXBlOiBKVlhFVHlwZXMuaW5wdXQsCiAgICAgIC8vICAgICBkZWZhdWx0VmFsdWU6ICIiLAogICAgICAvLyAgICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaUke3RpdGxlfSIKICAgICAgLy8gICB9LAogICAgICAvLyAgIHsKICAgICAgLy8gICAgIHRpdGxlOiAi5piv5ZCm5p+l6K+iIiwKICAgICAgLy8gICAgIHdpZHRoOiAiMTAwcHgiLAogICAgICAvLyAgICAga2V5OiAiaXNTZWFyY2giLAogICAgICAvLyAgICAgdHlwZTogSlZYRVR5cGVzLmNoZWNrYm94LAogICAgICAvLyAgICAgY3VzdG9tVmFsdWU6IFsiMSIsICIwIl0sCiAgICAgIC8vICAgICBkZWZhdWx0Q2hlY2tlZDogITEKICAgICAgLy8gICB9LAogICAgICAvLyAgIHsKICAgICAgLy8gICAgIHRpdGxlOiAi5ZCI6K6hIiwKICAgICAgLy8gICAgIHdpZHRoOiAiMTAwcHgiLAogICAgICAvLyAgICAga2V5OiAiaXNUb3RhbCIsCiAgICAgIC8vICAgICB0eXBlOiBKVlhFVHlwZXMuY2hlY2tib3gsCiAgICAgIC8vICAgICBjdXN0b21WYWx1ZTogWyIxIiwgIjAiXSwKICAgICAgLy8gICAgIGRlZmF1bHRDaGVja2VkOiAhMQogICAgICAvLyAgIH1dLAogICAgICAvLyBjb2x1bW5zMjogW3sKICAgICAgLy8gICB3aWR0aDogIjIzJSIsCiAgICAgIC8vICAgdGl0bGU6ICLlj4LmlbAiLAogICAgICAvLyAgIGtleTogInBhcmFtTmFtZSIsCiAgICAgIC8vICAgdHlwZTogSlZYRVR5cGVzLmlucHV0LAogICAgICAvLyAgIGRlZmF1bHRWYWx1ZTogIiIsCiAgICAgIC8vICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaUke3RpdGxlfSIsCiAgICAgIC8vICAgdmFsaWRhdGVSdWxlczogW3sKICAgICAgLy8gICAgIHJlcXVpcmVkOiAhMCwKICAgICAgLy8gICAgIG1lc3NhZ2U6ICIke3RpdGxlfeS4jeiDveS4uuepuiIKICAgICAgLy8gICB9XQogICAgICAvLyB9LAogICAgICAvLyAgIHsKICAgICAgLy8gICAgIHdpZHRoOiAiMjMlIiwKICAgICAgLy8gICAgIHRpdGxlOiAi5Y+C5pWw5paH5pysIiwKICAgICAgLy8gICAgIGtleTogInBhcmFtVHh0IiwKICAgICAgLy8gICAgIHR5cGU6IEpWWEVUeXBlcy5pbnB1dCwKICAgICAgLy8gICAgIGRlZmF1bHRWYWx1ZTogIiIsCiAgICAgIC8vICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpSR7dGl0bGV9IiwKICAgICAgLy8gICAgIHZhbGlkYXRlUnVsZXM6IFt7CiAgICAgIC8vICAgICAgIHJlcXVpcmVkOiAhMCwKICAgICAgLy8gICAgICAgbWVzc2FnZTogIiR7dGl0bGV95LiN6IO95Li656m6IgogICAgICAvLyAgICAgfV0KICAgICAgLy8gICB9LAogICAgICAvLyAgIHsKICAgICAgLy8gICAgIHdpZHRoOiAiMjMlIiwKICAgICAgLy8gICAgIHRpdGxlOiAi6buY6K6k5YC8IiwKICAgICAgLy8gICAgIGtleTogInBhcmFtVmFsdWUiLAogICAgICAvLyAgICAgdHlwZTogSlZYRVR5cGVzLmlucHV0LAogICAgICAvLyAgICAgZGVmYXVsdFZhbHVlOiAiIiwKICAgICAgLy8gICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWlJHt0aXRsZX0iCiAgICAgIC8vICAgfQogICAgICBdLAogICAgICBmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcyksCiAgICAgIHRpdGxlOiAi5pON5L2cIiwKICAgICAgd2lkdGg6IDEyMDAsCiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBtb2RlbDoge30sCiAgICAgIGxhYmVsQ29sOiB7CiAgICAgICAgeHM6IHtzcGFuOiAyNH0sCiAgICAgICAgc206IHtzcGFuOiA1fSwKICAgICAgfSwKICAgICAgd3JhcHBlckNvbDogewogICAgICAgIHhzOiB7c3BhbjogMjR9LAogICAgICAgIHNtOiB7c3BhbjogMTZ9LAogICAgICB9LAogICAgICBsYWJlbENvbDE6IHsKICAgICAgICB4czoge3NwYW46IDI0fSwKICAgICAgICBzbToge3NwYW46IDJ9LAogICAgICB9LAogICAgICB3cmFwcGVyQ29sMTogewogICAgICAgIHhzOiB7c3BhbjogMjR9LAogICAgICAgIHNtOiB7c3BhbjogMjJ9LAogICAgICB9LAogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsCiAgICAgIHZhbGlkYXRvclJ1bGVzOiB7fSwKICAgICAgdXJsOiB7CiAgICAgICAgYWRkOiAib25saW5lL2NncmVwb3J0L2hlYWQvYWRkIiwKICAgICAgICBlZGl0OidvbmxpbmUvY2dyZXBvcnQvaGVhZC9lZGl0QWxsJywKICAgICAgICBmaWVsZFVybDonb25saW5lL2NnZm9ybS9maWVsZC9saXN0QnlIZWFkSWQnLAogICAgICAgIHlhbnpoZW5nOicvc3lzL2R1cGxpY2F0ZS9jaGVjaycsCiAgICAgICAgc3Fsc2VuZDonT25sQ2dyZXBvcnRDb250cm9sbGVyL3BhcnNlc3FsJywKICAgICAgICBzcWxUeXBlOicvc3lzL2RhdGFTb3VyY2Uvb3B0aW9ucycsCiAgICAgICAgaGVhZDonL29ubGluZS9jZ3JlcG9ydC9pdGVtL2xpc3RCeUhlYWRJZCcsCiAgICAgICAgcGFyYW06Jy9vbmxpbmUvY2dyZXBvcnQvcGFyYW0vbGlzdEJ5SGVhZElkJwogICAgICB9LAogICAgICBmaWVsZHM6W10sCiAgICAgIHBhcmFtczpbXSwKICAgICAgc3FsVHlwZTpbXQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgICAgdGhpcy5nZXRzcWxUeXBlKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIG9rMSgpIHsKICAgICAgdGhpcy5pc1RydWUxID0gcmVzCiAgICB9LAogICAgb2syKCkgewogICAgICB0aGlzLmlzVHJ1ZTIgPSByZXMKICAgIH0sCiAgICBzcWxzZW5kKCkgewogICAgICB2YXIgY29kZSA9IHRoaXMuZm9ybS5nZXRGaWVsZFZhbHVlKCdjZ3JTcWwnKQogICAgICBpZihjb2RlID09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fovpPlhaVTUUzor63lj6UnKTsKICAgICAgfWVsc2V7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgIHNxbCA6IGNvZGUKICAgICAgICB9CiAgICAgICAgZ2V0QWN0aW9uKHRoaXMudXJsLnNxbHNlbmQsIG9iaikudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgdGhpcy5maWVsZHMgPSByZXMucmVzdWx0LmZpZWxkcwogICAgICAgICAgICB0aGlzLnBhcmFtcyA9IHJlcy5yZXN1bHQucGFyYW1zCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcocmVzLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bmlbDmja7lupPnmoTnsbvlnosKICAgIGdldHNxbFR5cGUoKSB7CiAgICAgIHZhciBvYmogPSB7fQogICAgICBnZXRBY3Rpb24odGhpcy51cmwuc3FsVHlwZSwgb2JqKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLnNxbFR5cGUgPSByZXMucmVzdWx0CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhyZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgfSkKICAgIH0sCiAgICBnZXRWYWx1ZShjb2RlKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZSh7CiAgICAgICAgICAnY2dyU3FsJzogY29kZQogICAgICAgIH0pCiAgICAgIH0sIDApCiAgICB9LAogICAgY29tcGFyZVRvRmlyc3RQYXNzd29yZChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIGh0dHB1cmwgPSB0aGlzLnVybC55YW56aGVuZwogICAgICB2YXIgb2JqID0gewogICAgICAgIHRhYmxlTmFtZTogJ29ubF9jZ3JlcG9ydF9oZWFkJywKICAgICAgICBmaWVsZE5hbWU6ICdjb2RlJywKICAgICAgICBmaWVsZFZhbDogdmFsdWUsCiAgICAgIH0KICAgICAgaWYodmFsdWUgPT0gJycpIHsKICAgICAgICBjYWxsYmFjaygn6K+36L6T5YWl57yW56CBIScpOwogICAgICB9ZWxzZXsKICAgICAgICBnZXRBY3Rpb24oaHR0cHVybCwgb2JqKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHZhciBkYXRhID0gcmVzCiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIGNhbGxiYWNrKCfmlbDmja7lupPlt7LmnInmraTlrZfmrrXvvIzor7fkuI3opoHph43lpI3mt7vliqAhJyk7CiAgICAgICAgICB9CiAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIC8vIOS/neWtmOaVsOaNrgogICAgc2F2ZUVkaXQocm93KSB7CiAgICAgIHZhciBpZCA9IHJvdy5vcmRlck51bS0xCiAgICAgIHRoaXMuZmllbGRzW2lkXSA9IHJvdwogICAgfSwKICAgIHNhdmVFZGl0cGFyYW1zKHJvdykgewogICAgICB2YXIgaWQgPSByb3cub3JkZXJOdW0tMQogICAgICB0aGlzLnBhcmFtc1tpZF0gPSByb3cKICAgIH0sCiAgICAvLyDliKDpmaTpgInkuK3nmoRyb3dzCiAgICByZW1vdmUoKSB7CiAgICAgIHZhciBhcnIgPSB0aGlzLnNlbGVjdGVkUm93SWRzCiAgICAgIGFyci5zb3J0KGZ1bmN0aW9uKGEsYil7CiAgICAgICAgcmV0dXJuICBiIC0gYTsKICAgICAgfSkKICAgICAgZm9yKHZhciBpID0gMCA7ICBpIDwgYXJyLmxlbmd0aCA7IGkrKykgewogICAgICAgIHRoaXMuZmllbGRzLnNwbGljZShhcnJbaV0tMSwxKQogICAgICB9CiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dJZHMgPSBbXQogICAgfSwKICAgIHJlbW92ZXBhcmFtcygpIHsKICAgICAgdmFyIGFyciA9IHRoaXMuc2VsZWN0ZWRSb3dJZHMKICAgICAgYXJyLnNvcnQoZnVuY3Rpb24oYSxiKXsKICAgICAgICByZXR1cm4gIGIgLSBhOwogICAgICB9KQogICAgICBmb3IodmFyIGkgPSAwIDsgIGkgPCBhcnIubGVuZ3RoIDsgaSsrKSB7CiAgICAgICAgdGhpcy5wYXJhbXMuc3BsaWNlKGFycltpXS0xLDEpCiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3RlZFJvd0lkcyA9IFtdCiAgICB9LAogICAgLy8g6I635Y+W6YCJ5Lit55qEcm93CiAgICBzZWxlY3RSb3dzKHJvd3MpIHsKICAgICAgdmFyIGFyciA9ICBbXQogICAgICBmb3IodmFyIGkgPSAwIDsgaSA8IHJvd3MubGVuZ3RoIDsgIGkrKykgewogICAgICAgIGFyci5wdXNoKHJvd3NbaV0ub3JkZXJOdW0pCiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3RlZFJvd0lkcyA9IGFycgogICAgfSwKICAgIHBhcmFtc2FkZCgpIHsKICAgICAgdGhpcy5wYXJhbXMucHVzaCh7CiAgICAgICAgb3JkZXJOdW06ICcnLAogICAgICAgIHBhcmFtTmFtZTogIiIsCiAgICAgICAgcGFyYW1UeHQ6ICIiLAogICAgICAgIHBhcmFtVmFsdWU6ICIiLAogICAgICB9KQogICAgfSwKICAgIHNlbGZhZGQoKSB7CiAgICAgIHRoaXMuZmllbGRzLnB1c2goewogICAgICAgIGRpY3RDb2RlOiAiIiwKICAgICAgICBmaWVsZEhyZWY6ICIiLAogICAgICAgIGZpZWxkTmFtZTogIiIsCiAgICAgICAgZmllbGRUeHQ6ICIiLAogICAgICAgIGZpZWxkVHlwZTogIlN0cmluZyIsCiAgICAgICAgZ3JvdXBUaXRsZTogIiIsCiAgICAgICAgaXNTZWFyY2g6ICIwIiwKICAgICAgICBpc1Nob3c6IDEsCiAgICAgICAgaXNUb3RhbDogIjAiLAogICAgICAgIG9yZGVyTnVtOiAnJywKICAgICAgICByZXBsYWNlVmFsOiAiIiwKICAgICAgICBzZWFyY2hNb2RlOiAiIiwKICAgICAgfSkKICAgIH0sCiAgICBjYWxsYmFjayhrZXkpIHsKICAgICAgY29uc29sZS5sb2coa2V5KTsKICAgIH0sCiAgICBhZGQoKSB7CiAgICAgIHRoaXMuaWQgPSAnJwogICAgICB0aGlzLmVkaXQoewogICAgICAgIGNnclNxbDogIiIsCiAgICAgICAgY29kZTogIiIsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgZGJTb3VyY2U6JycKICAgICAgfSk7CiAgICAgIHRoaXMuc3FsVmFsdWUgPSAnJwogICAgICB0aGlzLmZpZWxkcyA9IFtdCiAgICB9LAogICAgZWRpdChyZWNvcmQpIHsKICAgICAgY29uc29sZS5sb2cocmVjb3JkKQogICAgICB0aGlzLmlkID0gcmVjb3JkLmlkCiAgICAgIGlmKHJlY29yZC5pZCkgewogICAgICAgIC8vIOiOt+WPluS4i+mdoueahOihqOWNlQogICAgICAgIGdldEFjdGlvbih0aGlzLnVybC5oZWFkLCB7aGVhZElkOiByZWNvcmQuaWR9KS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICB0aGlzLmZpZWxkcyA9IHJlcy5yZXN1bHQKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhyZXMubWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgfSkKICAgICAgICBnZXRBY3Rpb24odGhpcy51cmwucGFyYW0sIHtoZWFkSWQ6IHJlY29yZC5pZH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gcmVzLnJlc3VsdAogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKHJlcy5tZXNzYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICB9KQogICAgICB9CgogICAgICB0aGlzLnRhc2tJZCA9IiIKICAgICAgdGhpcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMubW9kZWwgPSBPYmplY3QuYXNzaWduKHt9LCByZWNvcmQpOwogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNxbFZhbHVlID0gcmVjb3JkLmNnclNxbAogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHBpY2sodGhpcy5tb2RlbCwnY29kZScsJ25hbWUnLCdkYlNvdXJjZScsJ2NnclNxbCcpKQogICAgICB9KQogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVPaygpIHsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CiAgICAgIC8vIOinpuWPkeihqOWNlemqjOivgQogICAgICB0aGlzLmZvcm0udmFsaWRhdGVGaWVsZHMoKGVyciwgdmFsdWVzKSA9PiB7CiAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgIHRoYXQuY29uZmlybUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgdGFibGVOYW1lOiAnb25sX2NncmVwb3J0X2hlYWQnLAogICAgICAgICAgICBmaWVsZE5hbWU6ICdjb2RlJywKICAgICAgICAgICAgZmllbGRWYWw6IHRoYXQuZm9ybS5nZXRGaWVsZFZhbHVlKCdjb2RlJyksCiAgICAgICAgICB9CiAgICAgICAgICBnZXRBY3Rpb24odGhpcy51cmwueWFuemhlbmcsIG9iaikudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgbGV0IGh0dHB1cmwgPSAnJzsKICAgICAgICAgICAgICBsZXQgbWV0aG9kID0gJyc7CiAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmlkKSB7CiAgICAgICAgICAgICAgICBodHRwdXJsICs9IHRoaXMudXJsLmFkZDsKICAgICAgICAgICAgICAgIG1ldGhvZCA9ICdwb3N0JzsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaHR0cHVybCArPSB0aGlzLnVybC5lZGl0OwogICAgICAgICAgICAgICAgbWV0aG9kID0gJ3B1dCc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmKHRoaXMuZmllbGRzLmxlbmd0aCE9MCYmdGhpcy5wYXJhbXMubGVuZ3RoIT0wKSB7CgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBPYmplY3QuYXNzaWduKHRoaXMubW9kZWwsIHZhbHVlcyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIuihqOWNleaPkOS6pOaVsOaNriIsIGZvcm1EYXRhKQogICAgICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgICAgICBkZWxldGVJdGVtSWRzOiIiLAogICAgICAgICAgICAgICAgZGVsZXRlUGFyYW1JZHM6IiIsCiAgICAgICAgICAgICAgICBoZWFkOk9iamVjdC5hc3NpZ24odGhpcy5tb2RlbCwgdmFsdWVzKSwKICAgICAgICAgICAgICAgIGl0ZW1zOiB0aGlzLmZpZWxkcywKICAgICAgICAgICAgICAgIHBhcmFtczp0aGlzLnBhcmFtcwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBodHRwQWN0aW9uKGh0dHB1cmwsIG9iaiwgbWV0aG9kKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICB0aGF0LiRlbWl0KCdvaycpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS53YXJuaW5nKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoYXQuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoYXQuY2xvc2UoKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICB0aGF0LmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoYXQuY2xvc2UoKTsKICAgICAgICAgIH0pCgogICAgICAgIH0KCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlQ2FuY2VsKCkgewogICAgICB0aGlzLmNsb3NlKCkKICAgIH0sCiAgICBwb3B1cENhbGxiYWNrKHJvdykgewogICAgICB0aGlzLmZvcm0uc2V0RmllbGRzVmFsdWUocGljayhyb3csICduYW1lJykpCiAgICB9LAoKICB9Cn0K"},{"version":3,"sources":["selfcgreportModule.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"selfcgreportModule.vue","sourceRoot":"src/views/online/modules","sourcesContent":["  <template>\r\n    <j-modal\r\n        :title=\"title\"\r\n        :width=\"width\"\r\n        :visible=\"visible\"\r\n        :fullscreen=\"true\"\r\n        :confirmLoading=\"confirmLoading\"\r\n        switchFullscreen\r\n        @ok=\"handleOk\"\r\n        @cancel=\"handleCancel\"\r\n        cancelText=\"关闭\">\r\n      <a-spin :spinning=\"confirmLoading\">\r\n        <a-form :form=\"form\">\r\n          <a-row :gutter=\"24\">\r\n            <a-col :xl=\"8\" :lg=\"8\" :md=\"8\" :sm=\"8\">\r\n              <a-form-item label=\"编码\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n                <a-input v-decorator=\"['code',{\r\n                   rules: [{ required: true, message: '请输入编码' },{\r\n                    validator: compareToFirstPassword,\r\n                   }]\r\n                }]\"></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :xl=\"8\" :lg=\"8\" :md=\"8\" :sm=\"8\">\r\n              <a-form-item label=\"名称\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n                <a-input v-decorator=\"['name',{\r\n                   rules: [{ required: true, message: '请输入报表名称' }]\r\n                }]\" placeholder=\"请输入表名称\"></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :xl=\"8\" :lg=\"8\" :md=\"8\" :sm=\"8\">\r\n              <a-form-item label=\"数据源\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n                <a-select v-decorator=\"['dbSource',{}]\" >\r\n                  <a-select-option :value=\"item.value\" v-for=\"(item,index) in sqlType\" :key=\"index\">\r\n                    {{item.text}}\r\n                  </a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n          <a-row :gutter=\"24\">\r\n            <a-col :xl=\"21\" :lg=\"21\" :md=\"21\" :sm=\"21\">\r\n            <a-form-item label=\"报表SQL\" :labelCol=\"labelCol1\" :wrapperCol=\"wrapperCol1\">\r\n              <j-code-editor\r\n                  :sqlValue=\"sqlValue\"\r\n                  language=\"sql\"\r\n                  v-decorator=\"['cgrSql',{initialValue: sqlValue ,\r\n                   rules: [{ required: true, message: '请输入SQL语句' }]}]\"\r\n                  @input=\"getValue\"\r\n                  :fullScreen=\"true\"\r\n                  style=\"min-height: 100px\"/>\r\n            </a-form-item>\r\n            </a-col>\r\n            <a-col :xl=\"3\" :lg=\"3\" :md=\"3\" :sm=\"3\">\r\n              <a-tooltip placement=\"bottom\" title=\" 您可以键入“”作为一个参数，这里abc是参数的名称。例如：<br>\r\n          select * from table where id = ${abc}。<br>\r\n          select * from table where id like concat('%',${abc},'%')。(mysql模糊查询)<br>\r\n          select * from table where id like '%'||${abc}||'%'。(oracle模糊查询)<br>\r\n          select * from table where id like '%'+${abc}+'%'。(sqlserver模糊查询)<br>\r\n          注：参数只支持动态报表，popup暂不支持\" overlayClassName=\"tootle\">\r\n                <a-icon type=\"question-circle\" />\r\n              </a-tooltip>\r\n\r\n              <a-button type=\"primary\" @click=\"sqlsend\" style=\"margin-left: 20px\">\r\n                SQL解析\r\n              </a-button>\r\n            </a-col>\r\n          </a-row>\r\n        </a-form>\r\n        <a-tabs default-active-key=\"1\" @change=\"callback\">\r\n          <a-tab-pane key=\"1\" tab=\"动态报表配置明细\">\r\n            <div style=\"margin: 10px 0\">\r\n              <a-button  icon=\"plus\" @click=\"selfadd\" type=\"primary\">新增</a-button>\r\n              <template v-if=\"selectedRowIds.length > 0\">\r\n                <a-popconfirm\r\n                    :title=\"`确定要删除这 ${selectedRowIds.length} 项吗?`\"\r\n                    @confirm=\"remove\"\r\n                >\r\n                  <a-button icon=\"minus\" >删除</a-button>\r\n                </a-popconfirm>\r\n                <!--              <template >-->\r\n                <!--                <a-button icon=\"delete\" @click=\"trigger('clearSelection')\">清空选择</a-button>-->\r\n                <!--              </template>-->\r\n              </template>\r\n            </div>\r\n\r\n            <j-demo :columns=\"columns1\" ref=\"demo1\" @ok1=\"ok1\" @editsave=\"saveEdit\"  :datas=\"fields\" @handlerRows=\"selectRows\" :toolbar=\"false\" :isonline=\"true\" :issort=\"true\"></j-demo>\r\n          </a-tab-pane>\r\n  <!--        <a-tab-pane key=\"2\" tab=\"报表参数\" force-render>-->\r\n  <!--          <div style=\"margin: 10px 0\">-->\r\n  <!--            <a-button  icon=\"plus\" @click=\"paramsadd\" type=\"primary\">新增</a-button>-->\r\n  <!--            <template v-if=\"selectedRowIds.length > 0\">-->\r\n  <!--              <a-popconfirm-->\r\n  <!--                  :title=\"`确定要删除这 ${selectedRowIds.length} 项吗?`\"-->\r\n  <!--                  @confirm=\"removeparams\"-->\r\n  <!--              >-->\r\n  <!--                <a-button icon=\"minus\" >删除</a-button>-->\r\n  <!--              </a-popconfirm>-->\r\n  <!--              &lt;!&ndash;              <template >&ndash;&gt;-->\r\n  <!--              &lt;!&ndash;                <a-button icon=\"delete\" @click=\"trigger('clearSelection')\">清空选择</a-button>&ndash;&gt;-->\r\n  <!--              &lt;!&ndash;              </template>&ndash;&gt;-->\r\n  <!--            </template>-->\r\n  <!--          </div>-->\r\n\r\n  <!--          <j-demo :columns=\"columns2\" ref=\"demo2\" @ok1=\"ok2\" :datas=\"params\" @editsave=\"saveEditparams\" @handlerRows=\"selectRows\" :toolbar=\"false\" :issort=\"true\"></j-demo>-->\r\n\r\n  <!--        </a-tab-pane>-->\r\n        </a-tabs>\r\n\r\n        <div>\r\n        </div>\r\n        <template slot=\"content\">\r\n          您可以键入“”作为一个参数，这里abc是参数的名称。例如：\r\n          select * from table where id = ${abc}。\r\n          select * from table where id like concat('%',${abc},'%')。(mysql模糊查询)\r\n          select * from table where id like '%'||${abc}||'%'。(oracle模糊查询)\r\n          select * from table where id like '%'+${abc}+'%'。(sqlserver模糊查询)\r\n          注：参数只支持动态报表，popup暂不支持\r\n        </template>\r\n      </a-spin>\r\n    </j-modal>\r\n\r\n  </template>\r\n\r\n  <script>\r\n\r\n  import {getAction, httpAction} from '@/api/manage'\r\n  import pick from 'lodash.pick'\r\n  import {validateDuplicateValue} from '@/utils/util'\r\n  import JDictSelectTag from \"@/components/dict/JDictSelectTag\"\r\n  import {JVXETypes} from \"@comp/jeecg/JVxeTable\";\r\n  import JCodeEditor from '@/components/jeecg/JCodeEditor'\r\n  import JDemo from './jform.vue';\r\n\r\n  export default {\r\n    name: \"selfcgreportModule\",\r\n    components: {\r\n      JDictSelectTag,\r\n      JDemo,\r\n      JCodeEditor\r\n    },\r\n    prop: {\r\n      taskId: {\r\n        type: String,\r\n        required: true,\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        isTrue1:false,\r\n        isTrue2:false,\r\n        rules: {\r\n          desc: [{ required: true, message: '请输入SQL语句', trigger: 'blur' }],\r\n        },\r\n        sqlValue:'',\r\n        id:'',\r\n        // 选中的行数\r\n        selectedRowIds:[],\r\n        jcodedditor: {\r\n          value: `function sayHi(word) {\r\n    alert(word)\r\n  }\r\n  sayHi('hello, world!')`\r\n        },\r\n        staticStyle: {\r\n          color: \"red\"\r\n        },\r\n        columns1: [{\r\n          title: \"字段名\",\r\n          width: \"150px\",\r\n          key: \"fieldName\",\r\n          type: JVXETypes.input,\r\n          defaultValue: \"\",\r\n          placeholder: \"请输入${title}\",\r\n          validateRules: [{\r\n            required: !0,\r\n            message: \"${title}不能为空\"\r\n          }]\r\n        },\r\n          {\r\n            title: \"字段文本\",\r\n            width: \"200px\",\r\n            key: \"fieldTxt\",\r\n            type: JVXETypes.input,\r\n            placeholder: \"请输入${title}\",\r\n            defaultValue: \"\",\r\n            validateRules: [{\r\n              required: !0,\r\n              message: \"${title}不能为空\"\r\n            }]\r\n          },\r\n          {\r\n            title: \"类型\",\r\n            width: \"150px\",\r\n            key: \"fieldType\",\r\n            type: JVXETypes.select,\r\n            options: [{\r\n              title: \"数值类型\",\r\n              value: \"Integer\"\r\n            },\r\n              {\r\n                title: \"字符类型\",\r\n                value: \"String\"\r\n              },\r\n              {\r\n                title: \"日期类型\",\r\n                value: \"Date\"\r\n              },\r\n              {\r\n                title: \"时间类型\",\r\n                value: \"Datetime\"\r\n              },\r\n              {\r\n                title: \"长整型\",\r\n                value: \"Long\"\r\n              }],\r\n            defaultValue: \"String\",\r\n            placeholder: \"请选择${title}\",\r\n            validateRules: [{\r\n              required: !0,\r\n              message: \"${title}不能为空\"\r\n            }]\r\n          },\r\n          {\r\n            title: \"是否显示\",\r\n            width: \"100px\",\r\n            key: \"isShow\",\r\n            type: JVXETypes.checkbox,\r\n            customValue: [1, 0],\r\n            defaultChecked: !0\r\n          },\r\n          {\r\n            title: \"值\",\r\n            Width: \"100px\",\r\n            key: \"value\",\r\n            type: JVXETypes.input,\r\n            defaultValue: \"\",\r\n            placeholder: \"请输入${title}\"\r\n          },\r\n        //   {\r\n        //     title: \"查询模式\",\r\n        //     width: \"150px\",\r\n        //     key: \"searchMode\",\r\n        //     type: JVXETypes.select,\r\n        //     options: [{\r\n        //       title: \"单条件查询\",\r\n        //       value: \"single\"\r\n        //     },\r\n        //       {\r\n        //         title: \"范围查询\",\r\n        //         value: \"group\"\r\n        //       }],\r\n        //     defaultValue: \"\",\r\n        //     placeholder: \"请选择${title}\"\r\n        //   },\r\n        //   {\r\n        //     title: \"取值表达式\",\r\n        //     width: \"160px\",\r\n        //     key: \"replaceVal\",\r\n        //     type: JVXETypes.input,\r\n        //     defaultValue: \"\",\r\n        //     placeholder: \"请输入${title}\"\r\n        //   },\r\n        //   {\r\n        //     title: \"字典code\",\r\n        //     width: \"200px\",\r\n        //     key: \"dictCode\",\r\n        //     type: JVXETypes.input,\r\n        //     defaultValue: \"\",\r\n        //     placeholder: \"请输入${title}\"\r\n        //   },\r\n        //   {\r\n        //     title: \"分组标题\",\r\n        //     width: \"200px\",\r\n        //     key: \"groupTitle\",\r\n        //     type: JVXETypes.input,\r\n        //     defaultValue: \"\",\r\n        //     placeholder: \"请输入${title}\"\r\n        //   },\r\n        //   {\r\n        //     title: \"是否查询\",\r\n        //     width: \"100px\",\r\n        //     key: \"isSearch\",\r\n        //     type: JVXETypes.checkbox,\r\n        //     customValue: [\"1\", \"0\"],\r\n        //     defaultChecked: !1\r\n        //   },\r\n        //   {\r\n        //     title: \"合计\",\r\n        //     width: \"100px\",\r\n        //     key: \"isTotal\",\r\n        //     type: JVXETypes.checkbox,\r\n        //     customValue: [\"1\", \"0\"],\r\n        //     defaultChecked: !1\r\n        //   }],\r\n        // columns2: [{\r\n        //   width: \"23%\",\r\n        //   title: \"参数\",\r\n        //   key: \"paramName\",\r\n        //   type: JVXETypes.input,\r\n        //   defaultValue: \"\",\r\n        //   placeholder: \"请输入${title}\",\r\n        //   validateRules: [{\r\n        //     required: !0,\r\n        //     message: \"${title}不能为空\"\r\n        //   }]\r\n        // },\r\n        //   {\r\n        //     width: \"23%\",\r\n        //     title: \"参数文本\",\r\n        //     key: \"paramTxt\",\r\n        //     type: JVXETypes.input,\r\n        //     defaultValue: \"\",\r\n        //     placeholder: \"请输入${title}\",\r\n        //     validateRules: [{\r\n        //       required: !0,\r\n        //       message: \"${title}不能为空\"\r\n        //     }]\r\n        //   },\r\n        //   {\r\n        //     width: \"23%\",\r\n        //     title: \"默认值\",\r\n        //     key: \"paramValue\",\r\n        //     type: JVXETypes.input,\r\n        //     defaultValue: \"\",\r\n        //     placeholder: \"请输入${title}\"\r\n        //   }\r\n        ],\r\n        form: this.$form.createForm(this),\r\n        title: \"操作\",\r\n        width: 1200,\r\n        visible: false,\r\n        model: {},\r\n        labelCol: {\r\n          xs: {span: 24},\r\n          sm: {span: 5},\r\n        },\r\n        wrapperCol: {\r\n          xs: {span: 24},\r\n          sm: {span: 16},\r\n        },\r\n        labelCol1: {\r\n          xs: {span: 24},\r\n          sm: {span: 2},\r\n        },\r\n        wrapperCol1: {\r\n          xs: {span: 24},\r\n          sm: {span: 22},\r\n        },\r\n        confirmLoading: false,\r\n        validatorRules: {},\r\n        url: {\r\n          add: \"online/cgreport/head/add\",\r\n          edit:'online/cgreport/head/editAll',\r\n          fieldUrl:'online/cgform/field/listByHeadId',\r\n          yanzheng:'/sys/duplicate/check',\r\n          sqlsend:'OnlCgreportController/parsesql',\r\n          sqlType:'/sys/dataSource/options',\r\n          head:'/online/cgreport/item/listByHeadId',\r\n          param:'/online/cgreport/param/listByHeadId'\r\n        },\r\n        fields:[],\r\n        params:[],\r\n        sqlType:[]\r\n      }\r\n    },\r\n    created() {\r\n        this.getsqlType()\r\n    },\r\n    methods: {\r\n      ok1() {\r\n        this.isTrue1 = res\r\n      },\r\n      ok2() {\r\n        this.isTrue2 = res\r\n      },\r\n      sqlsend() {\r\n        var code = this.form.getFieldValue('cgrSql')\r\n        if(code == '') {\r\n          this.$message.warning('请输入SQL语句');\r\n        }else{\r\n          var obj = {\r\n            sql : code\r\n          }\r\n          getAction(this.url.sqlsend, obj).then((res) => {\r\n            console.log(res)\r\n            if (res.success) {\r\n              this.fields = res.result.fields\r\n              this.params = res.result.params\r\n            } else {\r\n              this.$message.warning(res.message);\r\n            }\r\n          }).finally(() => {\r\n          })\r\n        }\r\n      },\r\n      // 获取数据库的类型\r\n      getsqlType() {\r\n        var obj = {}\r\n        getAction(this.url.sqlType, obj).then((res) => {\r\n          console.log(res)\r\n          if (res.success) {\r\n            this.sqlType = res.result\r\n          } else {\r\n            this.$message.warning(res.message);\r\n          }\r\n        }).finally(() => {\r\n        })\r\n      },\r\n      getValue(code) {\r\n        setTimeout(() => {\r\n          this.form.setFieldsValue({\r\n            'cgrSql': code\r\n          })\r\n        }, 0)\r\n      },\r\n      compareToFirstPassword(rule, value, callback) {\r\n        var httpurl = this.url.yanzheng\r\n        var obj = {\r\n          tableName: 'onl_cgreport_head',\r\n          fieldName: 'code',\r\n          fieldVal: value,\r\n        }\r\n        if(value == '') {\r\n          callback('请输入编码!');\r\n        }else{\r\n          getAction(httpurl, obj).then((res) => {\r\n            var data = res\r\n            console.log(data)\r\n            if(data.success) {\r\n              callback();\r\n            }else {\r\n              callback('数据库已有此字段，请不要重复添加!');\r\n            }\r\n          }).finally(() => {\r\n          })\r\n        }\r\n      },\r\n      // 保存数据\r\n      saveEdit(row) {\r\n        var id = row.orderNum-1\r\n        this.fields[id] = row\r\n      },\r\n      saveEditparams(row) {\r\n        var id = row.orderNum-1\r\n        this.params[id] = row\r\n      },\r\n      // 删除选中的rows\r\n      remove() {\r\n        var arr = this.selectedRowIds\r\n        arr.sort(function(a,b){\r\n          return  b - a;\r\n        })\r\n        for(var i = 0 ;  i < arr.length ; i++) {\r\n          this.fields.splice(arr[i]-1,1)\r\n        }\r\n        this.selectedRowIds = []\r\n      },\r\n      removeparams() {\r\n        var arr = this.selectedRowIds\r\n        arr.sort(function(a,b){\r\n          return  b - a;\r\n        })\r\n        for(var i = 0 ;  i < arr.length ; i++) {\r\n          this.params.splice(arr[i]-1,1)\r\n        }\r\n        this.selectedRowIds = []\r\n      },\r\n      // 获取选中的row\r\n      selectRows(rows) {\r\n        var arr =  []\r\n        for(var i = 0 ; i < rows.length ;  i++) {\r\n          arr.push(rows[i].orderNum)\r\n        }\r\n        this.selectedRowIds = arr\r\n      },\r\n      paramsadd() {\r\n        this.params.push({\r\n          orderNum: '',\r\n          paramName: \"\",\r\n          paramTxt: \"\",\r\n          paramValue: \"\",\r\n        })\r\n      },\r\n      selfadd() {\r\n        this.fields.push({\r\n          dictCode: \"\",\r\n          fieldHref: \"\",\r\n          fieldName: \"\",\r\n          fieldTxt: \"\",\r\n          fieldType: \"String\",\r\n          groupTitle: \"\",\r\n          isSearch: \"0\",\r\n          isShow: 1,\r\n          isTotal: \"0\",\r\n          orderNum: '',\r\n          replaceVal: \"\",\r\n          searchMode: \"\",\r\n        })\r\n      },\r\n      callback(key) {\r\n        console.log(key);\r\n      },\r\n      add() {\r\n        this.id = ''\r\n        this.edit({\r\n          cgrSql: \"\",\r\n          code: \"\",\r\n          name: \"\",\r\n          dbSource:''\r\n        });\r\n        this.sqlValue = ''\r\n        this.fields = []\r\n      },\r\n      edit(record) {\r\n        console.log(record)\r\n        this.id = record.id\r\n        if(record.id) {\r\n          // 获取下面的表单\r\n          getAction(this.url.head, {headId: record.id}).then((res) => {\r\n            console.log(res)\r\n            if (res.success) {\r\n              this.fields = res.result\r\n            } else {\r\n              this.$message.warning(res.message);\r\n            }\r\n          }).finally(() => {\r\n          })\r\n          getAction(this.url.param, {headId: record.id}).then((res) => {\r\n            console.log(res)\r\n            if (res.success) {\r\n              this.params = res.result\r\n            } else {\r\n              this.$message.warning(res.message);\r\n            }\r\n          }).finally(() => {\r\n          })\r\n        }\r\n\r\n        this.taskId =\"\"\r\n        this.form.resetFields();\r\n        this.model = Object.assign({}, record);\r\n        this.visible = true;\r\n        this.sqlValue = record.cgrSql\r\n        this.$nextTick(() => {\r\n          this.form.setFieldsValue(pick(this.model,'code','name','dbSource','cgrSql'))\r\n        })\r\n      },\r\n      close() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n      },\r\n      handleOk() {\r\n        const that = this;\r\n        // 触发表单验证\r\n        this.form.validateFields((err, values) => {\r\n          if (!err) {\r\n            that.confirmLoading = true;\r\n            var obj = {\r\n              tableName: 'onl_cgreport_head',\r\n              fieldName: 'code',\r\n              fieldVal: that.form.getFieldValue('code'),\r\n            }\r\n            getAction(this.url.yanzheng, obj).then((res) => {\r\n              console.log(res)\r\n              if (res.success) {\r\n                let httpurl = '';\r\n                let method = '';\r\n                if (!this.model.id) {\r\n                  httpurl += this.url.add;\r\n                  method = 'post';\r\n                } else {\r\n                  httpurl += this.url.edit;\r\n                  method = 'put';\r\n                }\r\n                if(this.fields.length!=0&&this.params.length!=0) {\r\n\r\n                }\r\n                let formData = Object.assign(this.model, values);\r\n                console.log(\"表单提交数据\", formData)\r\n                var obj = {\r\n                  deleteItemIds:\"\",\r\n                  deleteParamIds:\"\",\r\n                  head:Object.assign(this.model, values),\r\n                  items: this.fields,\r\n                  params:this.params\r\n                }\r\n                httpAction(httpurl, obj, method).then((res) => {\r\n                  if (res.success) {\r\n                    that.$message.success(res.message);\r\n                    that.$emit('ok');\r\n                  } else {\r\n                    that.$message.warning(res.message);\r\n                  }\r\n                }).finally(() => {\r\n                  that.confirmLoading = false;\r\n                  that.close();\r\n                })\r\n              } else {\r\n                this.$message.warning(res.message);\r\n              }\r\n            }).finally(() => {\r\n              that.confirmLoading = false;\r\n              that.close();\r\n            })\r\n\r\n          }\r\n\r\n        })\r\n      },\r\n      handleCancel() {\r\n        this.close()\r\n      },\r\n      popupCallback(row) {\r\n        this.form.setFieldsValue(pick(row, 'name'))\r\n      },\r\n\r\n    }\r\n  }\r\n  </script>\r\n  <style scoped>\r\n  .form-item {\r\n    margin-left: 15px\r\n  }\r\n\r\n  /deep/ .ant-form .ant-form-item {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  /deep/ .form-item {\r\n    margin-left: 0;\r\n  }\r\n\r\n  /deep/ .ant-form > .ant-row {\r\n    border-bottom: 1px solid #e8e8e8;\r\n    padding: 12px 0;\r\n  }\r\n\r\n  /deep/ .ant-form label {\r\n    font-size: 12px;\r\n  }\r\n  /deep/.tootle .ant-tooltip-inner {\r\n    background: #fff;\r\n  }\r\n  </style>"]}]}