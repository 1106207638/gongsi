{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\account\\settings\\AvatarModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\account\\settings\\AvatarModal.vue","mtime":1615948817865},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFZ1ZUNyb3BwZXIgfSBmcm9tICd2dWUtY3JvcHBlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBWdWVDcm9wcGVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIGlkOiBudWxsLAogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsCgogICAgICBvcHRpb25zOiB7CiAgICAgICAgaW1nOiAnL2F2YXRhcjIuanBnJywKICAgICAgICBhdXRvQ3JvcDogdHJ1ZSwKICAgICAgICBhdXRvQ3JvcFdpZHRoOiAyMDAsCiAgICAgICAgYXV0b0Nyb3BIZWlnaHQ6IDIwMCwKICAgICAgICBmaXhlZEJveDogdHJ1ZQogICAgICB9LAogICAgICBwcmV2aWV3czoge30sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZWRpdChpZCkgewogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmlkID0gaWQ7CiAgICAgIC8qIOiOt+WPluWOn+Wni+WktOWDjyAqLwoKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5pZCA9IG51bGw7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGNhbmNlbEhhbmRlbCgpIHsKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIG9rSGFuZGVsKCkgewogICAgICBjb25zdCB2bSA9IHRoaXMKCiAgICAgIHZtLmNvbmZpcm1Mb2FkaW5nID0gdHJ1ZQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB2bS5jb25maXJtTG9hZGluZyA9IGZhbHNlCiAgICAgICAgdm0uY2xvc2UoKQogICAgICAgIHZtLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S4iuS8oOWktOWDj+aIkOWKnycpOwogICAgICB9LCAyMDAwKQoKICAgIH0sCgogICAgcmVhbFRpbWUoZGF0YSkgewogICAgICB0aGlzLnByZXZpZXdzID0gZGF0YQogICAgfQogIH0KfTsK"},{"version":3,"sources":["AvatarModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"AvatarModal.vue","sourceRoot":"src/views/account/settings","sourcesContent":["<template>\r\n  <a-modal :visible=\"visible\" title=\"修改头像\" :maskClosable=\"false\" :confirmLoading=\"confirmLoading\" :width=\"800\">\r\n    <a-row>\r\n      <a-col :xs=\"24\" :md=\"12\" :style=\"{height: '350px'}\">\r\n        <vue-cropper\r\n          ref=\"cropper\"\r\n          :img=\"options.img\"\r\n          :info=\"true\"\r\n          :autoCrop=\"options.autoCrop\"\r\n          :autoCropWidth=\"options.autoCropWidth\"\r\n          :autoCropHeight=\"options.autoCropHeight\"\r\n          :fixedBox=\"options.fixedBox\"\r\n          @realTime=\"realTime\"\r\n        >\r\n        </vue-cropper>\r\n      </a-col>\r\n      <a-col :xs=\"24\" :md=\"12\" :style=\"{height: '350px'}\">\r\n        <div class=\"avatar-upload-preview\">\r\n          <img :src=\"previews.url\" :style=\"previews.img\"/>\r\n        </div>\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <template slot=\"footer\">\r\n      <a-button key=\"back\" @click=\"cancelHandel\">取消</a-button>\r\n      <a-button key=\"submit\" type=\"primary\" :loading=\"confirmLoading\" @click=\"okHandel\">保存</a-button>\r\n    </template>\r\n  </a-modal>\r\n</template>\r\n<script>\r\n  import { VueCropper } from 'vue-cropper'\r\n\r\n  export default {\r\n    components: {\r\n      VueCropper\r\n    },\r\n    data() {\r\n      return {\r\n        visible: false,\r\n        id: null,\r\n        confirmLoading: false,\r\n\r\n        options: {\r\n          img: '/avatar2.jpg',\r\n          autoCrop: true,\r\n          autoCropWidth: 200,\r\n          autoCropHeight: 200,\r\n          fixedBox: true\r\n        },\r\n        previews: {},\r\n      };\r\n    },\r\n    methods: {\r\n      edit(id) {\r\n        this.visible = true;\r\n        this.id = id;\r\n        /* 获取原始头像 */\r\n\r\n      },\r\n      close() {\r\n        this.id = null;\r\n        this.visible = false;\r\n      },\r\n      cancelHandel() {\r\n        this.close();\r\n      },\r\n      okHandel() {\r\n        const vm = this\r\n\r\n        vm.confirmLoading = true\r\n        setTimeout(() => {\r\n          vm.confirmLoading = false\r\n          vm.close()\r\n          vm.$message.success('上传头像成功');\r\n        }, 2000)\r\n\r\n      },\r\n\r\n      realTime(data) {\r\n        this.previews = data\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n  .avatar-upload-preview {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translate(50%, -50%);\r\n    width: 180px;\r\n    height: 180px;\r\n    border-radius: 50%;\r\n    box-shadow: 0 0 4px #ccc;\r\n    overflow: hidden;\r\n\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n</style>"]}]}