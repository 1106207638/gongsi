{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\jeecg\\ImgTurnPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\jeecg\\ImgTurnPage.vue","mtime":1615948819738},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbWdUdXJuUGFnZScsCiAgY29tcG9uZW50czp7CiAgICBkcmFnZ2FibGUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZXNjcmlwdGlvbjogJ+WbvueJh+e/u+mhtScsCiAgICAgIC8v5pWw5o2u6ZuGCiAgICAgIHRyZWVEYXRhOiBbewogICAgICAgIHRpdGxlOiAn56ys5LiA6aG1JywKICAgICAgICBrZXk6ICcwLTAnLAogICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgdGl0bGU6ICcx6aG1JywKICAgICAgICAgIGtleTogJzAtMC0wJywKICAgICAgICAgIGltZ1VybDonaHR0cHM6Ly9zdGF0aWMuamVlY2cuY29tL3VwbG9hZC90ZXN0LzFfMTU4ODE0OTc0MzQ3My5qcGcnCiAgICAgICAgfSwgewogICAgICAgICAgdGl0bGU6ICcy6aG1JywKICAgICAgICAgIGtleTogJzAtMC0xJywKICAgICAgICAgIGltZ1VybDonaHR0cHM6Ly9zdGF0aWMuamVlY2cuY29tL3VwbG9hZC90ZXN0L3UyNzM1NjMzNzE1Mjc0OTQ1NDkyNGZtMjdncDBfMTU4ODE0OTczMTgyMS5qcGcnCiAgICAgICAgfV0KICAgICAgfSx7CiAgICAgICAgdGl0bGU6ICfnrKzkuozpobUnLAogICAgICAgIGtleTogJzAtMScsCiAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICB0aXRsZTogJzHpobUnLAogICAgICAgICAga2V5OiAnMC0xLTAnLAogICAgICAgICAgaW1nVXJsOidodHRwczovL3N0YXRpYy5qZWVjZy5jb20vdXBsb2FkL3Rlc3QvdTI0NDU0NjgxNDAyNDkxOTU2ODQ4Zm0yN2dwMF8xNTg4MTQ5NzEyNjYzLmpwZycKICAgICAgICB9LCB7CiAgICAgICAgICB0aXRsZTogJzLpobUnLAogICAgICAgICAga2V5OiAnMC0xLTEnLAogICAgICAgICAgaW1nVXJsOidodHRwczovL3N0YXRpYy5qZWVjZy5jb20vdXBsb2FkL3Rlc3QvdTg4OTEyMDYxMTM4MDExNzc3OTNmbTI3Z3AwXzE1ODgxNDk3MDQ0NTkuanBnJwogICAgICAgIH1dCiAgICAgIH0sewogICAgICAgIHRpdGxlOiAn56ys5LiJ6aG1JywKICAgICAgICBrZXk6ICcwLTInLAogICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgdGl0bGU6ICcx6aG1JywKICAgICAgICAgIGtleTogJzAtMi0wJywKICAgICAgICAgIGltZ1VybDonaHR0cHM6Ly9zdGF0aWMuamVlY2cuY29tL3VwbG9hZC90ZXN0LzEzNzQ5NjJfMTU4NzYyMTMyOTA4NS5qcGcnCiAgICAgICAgfV0KICAgICAgfV0sCiAgICAgIHNlbGVjdGVkS2V5czpbXSwKICAgICAgZXhwYW5kZWRLZXlzOltdLAogICAgICBzb3J0OjAsCiAgICAgIGltZ1VybDonJywKICAgICAgbmF2TmFtZTonJywKICAgICAgaW1nTGlzdDpbXSwKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgIHRoaXMuZ2V0SW1nTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0SW1nTGlzdCgpewogICAgICB2YXIgY291bnQgPSAwOwogICAgICBmb3IodmFyIGk9MDtpPHRoaXMudHJlZURhdGEubGVuZ3RoO2krKyl7CiAgICAgICAgZm9yKHZhciBqPTA7ajx0aGlzLnRyZWVEYXRhW2ldLmNoaWxkcmVuLmxlbmd0aDtqKyspewogICAgICAgICAgdGhpcy5pbWdMaXN0LnB1c2goe2tleTp0aGlzLnRyZWVEYXRhW2ldLmNoaWxkcmVuW2pdLmtleSxwa2V5OnRoaXMudHJlZURhdGFbaV0ua2V5LHNvcnQ6Y291bnQrKywKICAgICAgICAgICAgaW1nVXJsOnRoaXMudHJlZURhdGFbaV0uY2hpbGRyZW5bal0uaW1nVXJsLG5hdk5hbWU6dGhpcy50cmVlRGF0YVtpXS50aXRsZSsiLyIrdGhpcy50cmVlRGF0YVtpXS5jaGlsZHJlbltqXS50aXRsZX0pCiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5pbWdMaXN0W3RoaXMuc29ydF0pOwogICAgfSwKICAgIG9uU2VsZWN0IChzZWxlY3RlZEtleXMsIGluZm8pIHsKICAgICAgZm9yKHZhciBpPTA7aTx0aGlzLmltZ0xpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgaWYodGhpcy5pbWdMaXN0W2ldLmtleSA9PT0gc2VsZWN0ZWRLZXlzWzBdKXsKICAgICAgICAgIHRoaXMuc29ydCA9IHRoaXMuaW1nTGlzdFtpXS5zb3J0OwogICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLmltZ0xpc3RbaV0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb25FeHBhbmQgKGV4cGFuZGVkS2V5cykgewogICAgICB0aGlzLmV4cGFuZGVkS2V5cyA9IFtdOwogICAgICBpZihleHBhbmRlZEtleXMgIT09IG51bGwgJiYgZXhwYW5kZWRLZXlzICE9PSAnJyl7CiAgICAgICAgdGhpcy5leHBhbmRlZEtleXNbMF0gPSBleHBhbmRlZEtleXNbMV07CiAgICAgIH0KICAgIH0sCiAgICBwcmV2KCl7CiAgICAgIGlmKHRoaXMuc29ydCA9PT0gMCl7CiAgICAgICAgdGhpcy5zb3J0ID0gdGhpcy5pbWdMaXN0Lmxlbmd0aC0xOwogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLnNvcnQgPSB0aGlzLnNvcnQgLSAxOwogICAgICB9CiAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5pbWdMaXN0W3RoaXMuc29ydF0pOwogICAgfSwKICAgIG5leHQoKXsKICAgICAgaWYodGhpcy5zb3J0ID09PSB0aGlzLmltZ0xpc3QubGVuZ3RoLTEpewogICAgICAgIHRoaXMuc29ydCA9IDA7CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuc29ydCA9IHRoaXMuc29ydCArIDE7CiAgICAgIH0KICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLmltZ0xpc3RbdGhpcy5zb3J0XSk7CiAgICB9LAogICAgLy8g6K6+572u5Y+X5o6n6IqC54K55YC8CiAgICBzZXRWYWx1ZSh2YWx1ZSl7CiAgICAgIHRoaXMuc2VsZWN0ZWRLZXlzID0gW107CiAgICAgIHRoaXMuaW1nVXJsID0gdmFsdWUuaW1nVXJsOwogICAgICB0aGlzLnNlbGVjdGVkS2V5c1swXSA9IHZhbHVlLmtleTsKICAgICAgdGhpcy5leHBhbmRlZEtleXNbMF0gPSB2YWx1ZS5wa2V5OwogICAgICB0aGlzLm5hdk5hbWUgPSB2YWx1ZS5uYXZOYW1lOwogICAgfQogIH0KfQo="},{"version":3,"sources":["ImgTurnPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImgTurnPage.vue","sourceRoot":"src/views/jeecg","sourcesContent":["<template>\r\n  <a-card title=\"树形结构图片翻页查看\" style=\"min-width: 800px;overflow-x:auto \">\r\n    <a-row>\r\n      <!-- 左侧文件树 -->\r\n      <a-col :span=\"5\">\r\n        <a-tree\r\n          showLine\r\n          :treeData=\"treeData\"\r\n          :expandedKeys=\"[expandedKeys[0]]\"\r\n          :selectedKeys=\"selectedKeys\"\r\n          :style=\"{'height':'500px','border-right':'2px solid #c1c1c1','overflow-y':'auto'}\"\r\n          @expand=\"onExpand\"\r\n          @select=\"this.onSelect\"\r\n        >\r\n        </a-tree>\r\n      </a-col>\r\n\r\n      <!--右侧缩略图-->\r\n      <a-col :span=\"19\">\r\n        <a-row style=\"margin-top: 10px\">\r\n          <a-col :span=\"24\" style=\"padding-left: 2%;margin-bottom: 10px\">\r\n            <a-button @click=\"prev\" type=\"primary\"><a-icon type=\"left\" />上一页</a-button>\r\n            <a-button @click=\"next\" type=\"primary\" style=\"margin-left: 8px\">下一页<a-icon type=\"right\" /></a-button>\r\n            <span style=\"margin-left: 15%;font-weight: bolder\">{{ navName }}</span>\r\n          </a-col>\r\n          <a-col :span=\"24\" style=\"padding-left: 2%;\">\r\n            <img :src=\"imgUrl\" preview>\r\n          </a-col>\r\n        </a-row>\r\n      </a-col>\r\n    </a-row>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  import draggable from 'vuedraggable'\r\n\r\n  export default {\r\n    name: 'ImgTurnPage',\r\n    components:{\r\n      draggable\r\n    },\r\n    data() {\r\n      return {\r\n        description: '图片翻页',\r\n        //数据集\r\n        treeData: [{\r\n          title: '第一页',\r\n          key: '0-0',\r\n          children: [{\r\n            title: '1页',\r\n            key: '0-0-0',\r\n            imgUrl:'https://static.jeecg.com/upload/test/1_1588149743473.jpg'\r\n          }, {\r\n            title: '2页',\r\n            key: '0-0-1',\r\n            imgUrl:'https://static.jeecg.com/upload/test/u27356337152749454924fm27gp0_1588149731821.jpg'\r\n          }]\r\n        },{\r\n          title: '第二页',\r\n          key: '0-1',\r\n          children: [{\r\n            title: '1页',\r\n            key: '0-1-0',\r\n            imgUrl:'https://static.jeecg.com/upload/test/u24454681402491956848fm27gp0_1588149712663.jpg'\r\n          }, {\r\n            title: '2页',\r\n            key: '0-1-1',\r\n            imgUrl:'https://static.jeecg.com/upload/test/u8891206113801177793fm27gp0_1588149704459.jpg'\r\n          }]\r\n        },{\r\n          title: '第三页',\r\n          key: '0-2',\r\n          children: [{\r\n            title: '1页',\r\n            key: '0-2-0',\r\n            imgUrl:'https://static.jeecg.com/upload/test/1374962_1587621329085.jpg'\r\n          }]\r\n        }],\r\n        selectedKeys:[],\r\n        expandedKeys:[],\r\n        sort:0,\r\n        imgUrl:'',\r\n        navName:'',\r\n        imgList:[],\r\n      }\r\n    },\r\n    created(){\r\n      this.getImgList();\r\n    },\r\n    methods: {\r\n      getImgList(){\r\n        var count = 0;\r\n        for(var i=0;i<this.treeData.length;i++){\r\n          for(var j=0;j<this.treeData[i].children.length;j++){\r\n            this.imgList.push({key:this.treeData[i].children[j].key,pkey:this.treeData[i].key,sort:count++,\r\n              imgUrl:this.treeData[i].children[j].imgUrl,navName:this.treeData[i].title+\"/\"+this.treeData[i].children[j].title})\r\n          }\r\n        }\r\n        this.setValue(this.imgList[this.sort]);\r\n      },\r\n      onSelect (selectedKeys, info) {\r\n        for(var i=0;i<this.imgList.length;i++){\r\n          if(this.imgList[i].key === selectedKeys[0]){\r\n            this.sort = this.imgList[i].sort;\r\n            this.setValue(this.imgList[i]);\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      onExpand (expandedKeys) {\r\n        this.expandedKeys = [];\r\n        if(expandedKeys !== null && expandedKeys !== ''){\r\n          this.expandedKeys[0] = expandedKeys[1];\r\n        }\r\n      },\r\n      prev(){\r\n        if(this.sort === 0){\r\n          this.sort = this.imgList.length-1;\r\n        }else{\r\n          this.sort = this.sort - 1;\r\n        }\r\n        this.setValue(this.imgList[this.sort]);\r\n      },\r\n      next(){\r\n        if(this.sort === this.imgList.length-1){\r\n          this.sort = 0;\r\n        }else{\r\n          this.sort = this.sort + 1;\r\n        }\r\n        this.setValue(this.imgList[this.sort]);\r\n      },\r\n      // 设置受控节点值\r\n      setValue(value){\r\n        this.selectedKeys = [];\r\n        this.imgUrl = value.imgUrl;\r\n        this.selectedKeys[0] = value.key;\r\n        this.expandedKeys[0] = value.pkey;\r\n        this.navName = value.navName;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}