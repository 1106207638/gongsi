{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\system\\DepartList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\system\\DepartList.vue","mtime":1615948822079},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEZXBhcnRNb2RhbCBmcm9tICcuL21vZHVsZXMvRGVwYXJ0TW9kYWwnCmltcG9ydCBwaWNrIGZyb20gJ2xvZGFzaC5waWNrJwppbXBvcnQge3F1ZXJ5RGVwYXJ0VHJlZUxpc3QsIHNlYXJjaEJ5S2V5d29yZHMsIGRlbGV0ZUJ5RGVwYXJ0SWR9IGZyb20gJ0AvYXBpL2FwaScKaW1wb3J0IHtodHRwQWN0aW9uLCBkZWxldGVBY3Rpb259IGZyb20gJ0AvYXBpL21hbmFnZScKaW1wb3J0IHtKZWVjZ0xpc3RNaXhpbn0gZnJvbSAnQC9taXhpbnMvSmVlY2dMaXN0TWl4aW4nCmltcG9ydCBEZXBhcnRBdXRoTW9kYWwgZnJvbSAnLi9tb2R1bGVzL0RlcGFydEF1dGhNb2RhbCcKLy8g6KGo5aS0CmNvbnN0IGNvbHVtbnMgPSBbCiAgewogICAgdGl0bGU6ICfmnLrmnoTlkI3np7AnLAogICAgZGF0YUluZGV4OiAnZGVwYXJ0TmFtZScKICB9LAogIHsKICAgIHRpdGxlOiAn5py65p6E57G75Z6LJywKICAgIGFsaWduOiAnY2VudGVyJywKICAgIGRhdGFJbmRleDogJ29yZ1R5cGUnCiAgfSwKICB7CiAgICB0aXRsZTogJ+acuuaehOe8lueggScsCiAgICBkYXRhSW5kZXg6ICdvcmdDb2RlJywKICB9LAogIHsKICAgIHRpdGxlOiAn5omL5py65Y+3JywKICAgIGRhdGFJbmRleDogJ21vYmlsZScKICB9LAogIHsKICAgIHRpdGxlOiAn5Lyg55yfJywKICAgIGRhdGFJbmRleDogJ2ZheCcKICB9LAogIHsKICAgIHRpdGxlOiAn5Zyw5Z2AJywKICAgIGRhdGFJbmRleDogJ2FkZHJlc3MnCiAgfSwKICB7CiAgICB0aXRsZTogJ+aOkuW6jycsCiAgICBhbGlnbjogJ2NlbnRlcicsCiAgICBkYXRhSW5kZXg6ICdkZXBhcnRPcmRlcicKICB9LAogIHsKICAgIHRpdGxlOiAn5pON5L2cJywKICAgIGFsaWduOiAnY2VudGVyJywKICAgIGRhdGFJbmRleDogJ2FjdGlvbicsCiAgICBzY29wZWRTbG90czoge2N1c3RvbVJlbmRlcjogJ2FjdGlvbid9CiAgfQpdCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGVwYXJ0TGlzdCcsCiAgbWl4aW5zOiBbSmVlY2dMaXN0TWl4aW5dLAogIGNvbXBvbmVudHM6IHsKICAgIERlcGFydEF1dGhNb2RhbCwKICAgIERlcGFydE1vZGFsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaUV4cGFuZGVkS2V5czogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBhdXRvRXhwYW5kUGFyZW50OiB0cnVlLAogICAgICBjdXJyRmxvd0lkOiAnJywKICAgICAgY3VyckZsb3dOYW1lOiAnJywKICAgICAgZGlzYWJsZTogdHJ1ZSwKICAgICAgdHJlZURhdGE6IFtdLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgZGVwYXJ0VHJlZTogW10sCiAgICAgIHJpZ2h0Q2xpY2tTZWxlY3RlZEtleTogJycsCiAgICAgIHJpZ2h0Q2xpY2tTZWxlY3RlZE9yZ0NvZGU6ICcnLAogICAgICBoaWRpbmc6IHRydWUsCiAgICAgIG1vZGVsOiB7fSwKICAgICAgZHJvcFRyaWdnZXI6ICcnLAogICAgICBkZXBhcnQ6IHt9LAogICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICBkaXNhYmxlU3VibWl0OiBmYWxzZSwKICAgICAgY2hlY2tlZEtleXM6IFtdLAogICAgICBzZWxlY3RlZEtleXM6IFtdLAogICAgICBhdXRvSW5jcjogMSwKICAgICAgY3VyclNlbGVjdGVkOiB7fSwKCiAgICAgIGFsbFRyZWVLZXlzOltdLAogICAgICBjaGVja1N0cmljdGx5OiB0cnVlLAoKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICBsYWJlbENvbDogewogICAgICAgIHhzOiB7c3BhbjogMjR9LAogICAgICAgIHNtOiB7c3BhbjogNX0KICAgICAgfSwKICAgICAgd3JhcHBlckNvbDogewogICAgICAgIHhzOiB7c3BhbjogMjR9LAogICAgICAgIHNtOiB7c3BhbjogMTZ9CiAgICAgIH0sCiAgICAgIGdyYXBoRGF0YXNvdXJjZTogewogICAgICAgIG5vZGVzOiBbXSwKICAgICAgICBlZGdlczogW10KICAgICAgfSwKICAgICAgdmFsaWRhdG9yUnVsZXM6IHsKICAgICAgICBkZXBhcnROYW1lOiB7cnVsZXM6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmnLrmnoQv6YOo6Zeo5ZCN56ewISd9XX0sCiAgICAgICAgb3JnQ29kZToge3J1bGVzOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5py65p6E57yW56CBISd9XX0sCiAgICAgICAgb3JnQ2F0ZWdvcnk6IHtydWxlczogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeacuuaehOexu+WeiyEnfV19LAogICAgICAgIG1vYmlsZToge3J1bGVzOiBbe3ZhbGlkYXRvcjogdGhpcy52YWxpZGF0ZU1vYmlsZX1dfQogICAgICB9LAogICAgICB1cmw6IHsKICAgICAgICBkZWxldGU6ICcvc3lzL3N5c0RlcGFydC9kZWxldGUnLAogICAgICAgIGVkaXQ6ICcvc3lzL3N5c0RlcGFydC9lZGl0JywKICAgICAgICBkZWxldGVCYXRjaDogJy9zeXMvc3lzRGVwYXJ0L2RlbGV0ZUJhdGNoJywKICAgICAgICBleHBvcnRYbHNVcmw6ICJzeXMvc3lzRGVwYXJ0L2V4cG9ydFhscyIsCiAgICAgICAgaW1wb3J0RXhjZWxVcmw6ICJzeXMvc3lzRGVwYXJ0L2ltcG9ydEV4Y2VsIiwKICAgICAgfSwKICAgICAgb3JnQ2F0ZWdvcnlEaXNhYmxlZDpmYWxzZSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbXBvcnRFeGNlbFVybDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gYCR7d2luZG93Ll9DT05GSUdbJ2RvbWlhblVSTCddfS8ke3RoaXMudXJsLmltcG9ydEV4Y2VsVXJsfWA7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkRGF0YSgpIHsKICAgICAgdGhpcy5yZWZyZXNoKCk7CiAgICB9LAogICAgbG9hZFRyZWUoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcwogICAgICB0aGF0LnRyZWVEYXRhID0gW10KICAgICAgdGhhdC5kZXBhcnRUcmVlID0gW10KICAgICAgcXVlcnlEZXBhcnRUcmVlTGlzdCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgLy/pg6jpl6jlhajpgInlkI7vvIzlho3mt7vliqDpg6jpl6jvvIzpgInkuK3mlbDph4/lop7lpJoKICAgICAgICAgIHRoaXMuYWxsVHJlZUtleXMgPSBbXTsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLnJlc3VsdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsZXQgdGVtcCA9IHJlcy5yZXN1bHRbaV0KICAgICAgICAgICAgdGhhdC50cmVlRGF0YS5wdXNoKHRlbXApCiAgICAgICAgICAgIHRoYXQuZGVwYXJ0VHJlZS5wdXNoKHRlbXApCiAgICAgICAgICAgIHRoYXQuc2V0VGhpc0V4cGFuZGVkS2V5cyh0ZW1wKQogICAgICAgICAgICB0aGF0LmdldEFsbEtleXModGVtcCk7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRlbXAuaWQpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzZXRUaGlzRXhwYW5kZWRLZXlzKG5vZGUpIHsKICAgICAgaWYgKG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5pRXhwYW5kZWRLZXlzLnB1c2gobm9kZS5rZXkpCiAgICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgYSsrKSB7CiAgICAgICAgICB0aGlzLnNldFRoaXNFeHBhbmRlZEtleXMobm9kZS5jaGlsZHJlblthXSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZWZyZXNoKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIHRoaXMubG9hZFRyZWUoKQogICAgfSwKICAgIC8vIOWPs+mUruaTjeS9nOaWueazlQogICAgcmlnaHRIYW5kbGUobm9kZSkgewogICAgICB0aGlzLmRyb3BUcmlnZ2VyID0gJ2NvbnRleHRtZW51JwogICAgICBjb25zb2xlLmxvZyhub2RlLm5vZGUuZXZlbnRLZXkpCiAgICAgIHRoaXMucmlnaHRDbGlja1NlbGVjdGVkS2V5ID0gbm9kZS5ub2RlLmV2ZW50S2V5CiAgICAgIHRoaXMucmlnaHRDbGlja1NlbGVjdGVkT3JnQ29kZSA9IG5vZGUubm9kZS5kYXRhUmVmLm9yZ0NvZGUKICAgIH0sCiAgICBvbkV4cGFuZChleHBhbmRlZEtleXMpIHsKICAgICAgY29uc29sZS5sb2coJ29uRXhwYW5kJywgZXhwYW5kZWRLZXlzKQogICAgICAvLyBpZiBub3Qgc2V0IGF1dG9FeHBhbmRQYXJlbnQgdG8gZmFsc2UsIGlmIGNoaWxkcmVuIGV4cGFuZGVkLCBwYXJlbnQgY2FuIG5vdCBjb2xsYXBzZS4KICAgICAgLy8gb3IsIHlvdSBjYW4gcmVtb3ZlIGFsbCBleHBhbmRlZCBjaGlsZHJlbiBrZXlzLgogICAgICB0aGlzLmlFeHBhbmRlZEtleXMgPSBleHBhbmRlZEtleXMKICAgICAgdGhpcy5hdXRvRXhwYW5kUGFyZW50ID0gZmFsc2UKICAgIH0sCiAgICBiYWNrRmxvd0xpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5iYWNrKC0xKQogICAgfSwKICAgIC8vIOWPs+mUrueCueWHu+S4i+aLieahhuaUueWPmOS6i+S7tgogICAgZHJvcFN0YXR1cyh2aXNpYmxlKSB7CiAgICAgIGlmICh2aXNpYmxlID09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5kcm9wVHJpZ2dlciA9ICcnCiAgICAgIH0KICAgIH0sCiAgICAvLyDlj7PplK7lupflrrbkuIvmi4nlhbPpl63kuIvmi4nmoYYKICAgIGNsb3NlRHJvcCgpIHsKICAgICAgdGhpcy5kcm9wVHJpZ2dlciA9ICcnCiAgICB9LAogICAgYWRkUm9vdE5vZGUoKSB7CiAgICAgIHRoaXMuJHJlZnMubm9kZU1vZGFsLmFkZCh0aGlzLmN1cnJGbG93SWQsICcnKQogICAgfSwKICAgIGJhdGNoRGVsOiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hlY2tlZEtleXMpCiAgICAgIGlmICh0aGlzLmNoZWNrZWRLZXlzLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nkuIDmnaHorrDlvZXvvIEnKQogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpZHMgPSAnJwogICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5jaGVja2VkS2V5cy5sZW5ndGg7IGErKykgewogICAgICAgICAgaWRzICs9IHRoaXMuY2hlY2tlZEtleXNbYV0gKyAnLCcKICAgICAgICB9CiAgICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgICAgdGhpcy4kY29uZmlybSh7CiAgICAgICAgICB0aXRsZTogJ+ehruiupOWIoOmZpCcsCiAgICAgICAgICBjb250ZW50OiAn56Gu5a6a6KaB5Yig6Zmk5omA6YCJ5Lit55qEICcgKyB0aGlzLmNoZWNrZWRLZXlzLmxlbmd0aCArICcg5p2h5pWw5o2u77yM5Lul5Y+K5a2Q6IqC54K55pWw5o2u5ZCXPycsCiAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGRlbGV0ZUFjdGlvbih0aGF0LnVybC5kZWxldGVCYXRjaCwge2lkczogaWRzfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgICAgICB0aGF0LmxvYWRUcmVlKCkKICAgICAgICAgICAgICAgIHRoYXQub25DbGVhclNlbGVjdGVkKCkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS53YXJuaW5nKHJlcy5tZXNzYWdlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgb25TZWFyY2godmFsdWUpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzCiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIHNlYXJjaEJ5S2V5d29yZHMoe2tleVdvcmQ6IHZhbHVlfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgdGhhdC5kZXBhcnRUcmVlID0gW10KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXMucmVzdWx0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgbGV0IHRlbXAgPSByZXMucmVzdWx0W2ldCiAgICAgICAgICAgICAgdGhhdC5kZXBhcnRUcmVlLnB1c2godGVtcCkKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS53YXJuaW5nKHJlcy5tZXNzYWdlKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhhdC5sb2FkVHJlZSgpCiAgICAgIH0KCiAgICB9LAogICAgbm9kZU1vZGFsT2soKSB7CiAgICAgIHRoaXMubG9hZFRyZWUoKQogICAgfSwKICAgIG5vZGVNb2RhbENsb3NlKCkgewogICAgfSwKICAgIGhpZGUoKSB7CiAgICAgIGNvbnNvbGUubG9nKDExMSkKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2UKICAgIH0sCiAgICBvbkNoZWNrKGNoZWNrZWRLZXlzLCBpbmZvKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvbkNoZWNrJywgY2hlY2tlZEtleXMsIGluZm8pCiAgICAgIHRoaXMuaGlkaW5nID0gZmFsc2UKICAgICAgLy90aGlzLmNoZWNrZWRLZXlzID0gY2hlY2tlZEtleXMuY2hlY2tlZAogICAgICAvLyA8IS0tLS0gYXV0aG9yOm9zX2NoZW5ndGdlbiAtLSBkYXRlOjIwMTkwODI3IC0tICBmb3I65YiH5o2i54i25a2Q5Yu+6YCJ5qih5byPID09PT09PT0tLS0tLS0+CiAgICAgIGlmKHRoaXMuY2hlY2tTdHJpY3RseSl7CiAgICAgICAgdGhpcy5jaGVja2VkS2V5cyA9IGNoZWNrZWRLZXlzLmNoZWNrZWQ7CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuY2hlY2tlZEtleXMgPSBjaGVja2VkS2V5cwogICAgICB9CiAgICAgIC8vIDwhLS0tLSBhdXRob3I6b3NfY2hlbmd0Z2VuIC0tIGRhdGU6MjAxOTA4MjcgLS0gIGZvcjrliIfmjaLniLblrZDli77pgInmqKHlvI8gPT09PT09PS0tLS0tLT4KICAgIH0sCiAgICBvblNlbGVjdChzZWxlY3RlZEtleXMsIGUpIHsKICAgICAgY29uc29sZS5sb2coJ3NlbGVjdGVkJywgc2VsZWN0ZWRLZXlzLCBlKQogICAgICB0aGlzLmhpZGluZyA9IGZhbHNlCiAgICAgIGxldCByZWNvcmQgPSBlLm5vZGUuZGF0YVJlZgogICAgICBjb25zb2xlLmxvZygnb25TZWxlY3QtcmVjb3JkJywgcmVjb3JkKQogICAgICB0aGlzLmN1cnJTZWxlY3RlZCA9IE9iamVjdC5hc3NpZ24oe30sIHJlY29yZCkKICAgICAgdGhpcy5tb2RlbCA9IHRoaXMuY3VyclNlbGVjdGVkCiAgICAgIHRoaXMuc2VsZWN0ZWRLZXlzID0gW3JlY29yZC5rZXldCiAgICAgIHRoaXMubW9kZWwucGFyZW50SWQgPSByZWNvcmQucGFyZW50SWQKICAgICAgdGhpcy5zZXRWYWx1ZXNUb0Zvcm0ocmVjb3JkKQogICAgICB0aGlzLiRyZWZzLmRlcGFydEF1dGguc2hvdyhyZWNvcmQuaWQpOwoKICAgIH0sCiAgICAvLyDop6blj5FvblNlbGVjdOS6i+S7tuaXtizkuLrpg6jpl6jmoJHlj7PkvqfnmoRmb3Jt6KGo5Y2V6LWL5YC8CiAgICBzZXRWYWx1ZXNUb0Zvcm0ocmVjb3JkKSB7CiAgICAgIGlmKHJlY29yZC5vcmdDYXRlZ29yeSA9PSAnMScpewogICAgICAgIHRoaXMub3JnQ2F0ZWdvcnlEaXNhYmxlZCA9IHRydWU7CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMub3JnQ2F0ZWdvcnlEaXNhYmxlZCA9IGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmZvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ2ZheCcsIHtpbml0aWFsVmFsdWU6ICcnfSkKICAgICAgICB0aGlzLmZvcm0uc2V0RmllbGRzVmFsdWUocGljayhyZWNvcmQsICdkZXBhcnROYW1lJywnb3JnQ2F0ZWdvcnknLCAnb3JnQ29kZScsICdkZXBhcnRPcmRlcicsICdtb2JpbGUnLCAnZmF4JywgJ2FkZHJlc3MnLCAnbWVtbycpKQogICAgICB9KQogICAgfSwKICAgIGdldEN1cnJTZWxlY3RlZFRpdGxlKCkgewogICAgICByZXR1cm4gIXRoaXMuY3VyclNlbGVjdGVkLnRpdGxlID8gJycgOiB0aGlzLmN1cnJTZWxlY3RlZC50aXRsZQogICAgfSwKICAgIG9uQ2xlYXJTZWxlY3RlZCgpIHsKICAgICAgdGhpcy5oaWRpbmcgPSB0cnVlCiAgICAgIHRoaXMuY2hlY2tlZEtleXMgPSBbXQogICAgICB0aGlzLmN1cnJTZWxlY3RlZCA9IHt9CiAgICAgIHRoaXMuZm9ybS5yZXNldEZpZWxkcygpCiAgICAgIHRoaXMuc2VsZWN0ZWRLZXlzID0gW10KICAgICAgdGhpcy4kcmVmcy5kZXBhcnRBdXRoLmRlcGFydElkID0gJycKICAgIH0sCiAgICBoYW5kbGVOb2RlVHlwZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyU2VsZWN0ZWQubm9kZVR5cGUgPSB2YWwKICAgIH0sCiAgICBub3RpZnlUcmlnZ2VyVHlwZUNoYW5nZSh2YWx1ZSkgewogICAgICB0aGlzLmN1cnJTZWxlY3RlZC5ub3RpZnlUcmlnZ2VyVHlwZSA9IHZhbHVlCiAgICB9LAogICAgcmVjZWlwdFRyaWdnZXJUeXBlQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHRoaXMuY3VyclNlbGVjdGVkLnJlY2VpcHRUcmlnZ2VyVHlwZSA9IHZhbHVlCiAgICB9LAogICAgc3VibWl0Q3VyckZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybS52YWxpZGF0ZUZpZWxkcygoZXJyLCB2YWx1ZXMpID0+IHsKICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgaWYgKCF0aGlzLmN1cnJTZWxlY3RlZC5pZCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+eCueWHu+mAieaLqeimgeS/ruaUuemDqOmXqCEnKQogICAgICAgICAgICByZXR1cm4KICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgZm9ybURhdGEgPSBPYmplY3QuYXNzaWduKHRoaXMuY3VyclNlbGVjdGVkLCB2YWx1ZXMpCiAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgdmFsdWVzIG9mIGZvcm06ICcsIGZvcm1EYXRhKQogICAgICAgICAgaHR0cEFjdGlvbih0aGlzLnVybC5lZGl0LCBmb3JtRGF0YSwgJ3B1dCcpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnyEnKQogICAgICAgICAgICAgIHRoaXMubG9hZFRyZWUoKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGVtcHR5Q3VyckZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybS5yZXNldEZpZWxkcygpCiAgICB9LAogICAgbm9kZVNldHRpbmdGb3JtU3VibWl0KCkgewogICAgICB0aGlzLmZvcm0udmFsaWRhdGVGaWVsZHMoKGVyciwgdmFsdWVzKSA9PiB7CiAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCB2YWx1ZXMgb2YgZm9ybTogJywgdmFsdWVzKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBvcGVuU2VsZWN0KCkgewogICAgICB0aGlzLiRyZWZzLnN5c0RpcmVjdGl2ZU1vZGFsLnNob3coKQogICAgfSwKICAgIGhhbmRsZUFkZChudW0pIHsKICAgICAgaWYgKG51bSA9PSAxKSB7CiAgICAgICAgdGhpcy4kcmVmcy5kZXBhcnRNb2RhbC5hZGQoKQogICAgICAgIHRoaXMuJHJlZnMuZGVwYXJ0TW9kYWwudGl0bGUgPSAn5paw5aKeJwogICAgICB9IGVsc2UgaWYgKG51bSA9PSAyKSB7CiAgICAgICAgbGV0IGtleSA9IHRoaXMuY3VyclNlbGVjdGVkLmtleQogICAgICAgIGlmICgha2V5KSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+WFiOeCueWHu+mAieS4reS4iue6p+mDqOmXqO+8gScpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgICAgdGhpcy4kcmVmcy5kZXBhcnRNb2RhbC5hZGQodGhpcy5zZWxlY3RlZEtleXMpCiAgICAgICAgdGhpcy4kcmVmcy5kZXBhcnRNb2RhbC50aXRsZSA9ICfmlrDlop4nCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5kZXBhcnRNb2RhbC5hZGQodGhpcy5yaWdodENsaWNrU2VsZWN0ZWRLZXkpCiAgICAgICAgdGhpcy4kcmVmcy5kZXBhcnRNb2RhbC50aXRsZSA9ICfmlrDlop4nCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVEZWxldGUoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcwogICAgICB0aGlzLiRjb25maXJtKHsKICAgICAgICB0aXRsZTogJ+ehruiupOWIoOmZpCcsCiAgICAgICAgY29udGVudDogJ+ehruWumuimgeWIoOmZpOatpOmDqOmXqOS7peWPiuWtkOiKgueCueaVsOaNruWQlz8nLAogICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZUJ5RGVwYXJ0SWQoe2lkOiB0aGF0LnJpZ2h0Q2xpY2tTZWxlY3RlZEtleX0pLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAgICAgaWYgKHJlc3Auc3VjY2VzcykgewogICAgICAgICAgICAgIC8v5Yig6Zmk5oiQ5Yqf5ZCO77yM5Y676Zmk5bey6YCJ5Lit5Lit55qE5pWw5o2uCiAgICAgICAgICAgICAgdGhhdC5jaGVja2VkS2V5cy5zcGxpY2UodGhhdC5jaGVja2VkS2V5cy5maW5kSW5kZXgoa2V5ID0+IGtleSA9PT0gdGhhdC5yaWdodENsaWNrU2VsZWN0ZWRLZXkpLCAxKTsKICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnyEnKQogICAgICAgICAgICAgIHRoYXQubG9hZFRyZWUoKQogICAgICAgICAgICAgIC8v5Yig6Zmk5ZCO5ZCM5q2l5riF56m65Y+z5L6n5Z+65pys5L+h5oGv5YaF5a65CiAgICAgICAgICAgICAgbGV0IG9yZ0NvZGU9dGhhdC5mb3JtLmdldEZpZWxkVmFsdWUoIm9yZ0NvZGUiKTsKICAgICAgICAgICAgICBpZihvcmdDb2RlICYmIG9yZ0NvZGUgPT09IHRoYXQucmlnaHRDbGlja1NlbGVjdGVkT3JnQ29kZSl7CiAgICAgICAgICAgICAgICB0aGF0Lm9uQ2xlYXJTZWxlY3RlZCgpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uud2FybmluZygn5Yig6Zmk5aSx6LSlIScpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIHNlbGVjdERpcmVjdGl2ZU9rKHJlY29yZCkgewogICAgICBjb25zb2xlLmxvZygn6YCJ5Lit5oyH5Luk5pWw5o2uJywgcmVjb3JkKQogICAgICB0aGlzLm5vZGVTZXR0aW5nRm9ybS5zZXRGaWVsZHNWYWx1ZSh7ZGlyZWN0aXZlQ29kZTogcmVjb3JkLmRpcmVjdGl2ZUNvZGV9KQogICAgICB0aGlzLmN1cnJTZWxlY3RlZC5zeXNDb2RlID0gcmVjb3JkLnN5c0NvZGUKICAgIH0sCiAgICBnZXRGbG93R3JhcGhEYXRhKG5vZGUpIHsKICAgICAgdGhpcy5ncmFwaERhdGFzb3VyY2Uubm9kZXMucHVzaCh7CiAgICAgICAgaWQ6IG5vZGUuaWQsCiAgICAgICAgdGV4dDogbm9kZS5mbG93Tm9kZU5hbWUKICAgICAgfSkKICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGErKykgewogICAgICAgICAgbGV0IHRlbXAgPSBub2RlLmNoaWxkcmVuW2FdCiAgICAgICAgICB0aGlzLmdyYXBoRGF0YXNvdXJjZS5lZGdlcy5wdXNoKHsKICAgICAgICAgICAgc291cmNlOiBub2RlLmlkLAogICAgICAgICAgICB0YXJnZXQ6IHRlbXAuaWQKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmdldEZsb3dHcmFwaERhdGEodGVtcCkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgIC8vIDwhLS0tLSBhdXRob3I6b3NfY2hlbmd0Z2VuIC0tIGRhdGU6MjAxOTA4MjcgLS0gIGZvcjrliIfmjaLniLblrZDli77pgInmqKHlvI8gPT09PT09PS0tLS0tLT4KICAgIGV4cGFuZEFsbCAoKSB7CiAgICAgIHRoaXMuaUV4cGFuZGVkS2V5cyA9IHRoaXMuYWxsVHJlZUtleXMKICAgIH0sCiAgICBjbG9zZUFsbCAoKSB7CiAgICAgIHRoaXMuaUV4cGFuZGVkS2V5cyA9IFtdCiAgICB9LAogICAgY2hlY2tBTEwgKCkgewogICAgICB0aGlzLmNoZWNrU3RyaWNjaGVja1N0cmljdGx5dGx5ID0gZmFsc2UKICAgICAgdGhpcy5jaGVja2VkS2V5cyA9IHRoaXMuYWxsVHJlZUtleXMKICAgIH0sCiAgICBjYW5jZWxDaGVja0FMTCAoKSB7CiAgICAgIC8vdGhpcy5jaGVja2VkS2V5cyA9IHRoaXMuZGVmYXVsdENoZWNrZWRLZXlzCiAgICAgIHRoaXMuY2hlY2tlZEtleXMgPSBbXQogICAgfSwKICAgIHN3aXRjaENoZWNrU3RyaWN0bHkgKHYpIHsKICAgICAgaWYodj09MSl7CiAgICAgICAgdGhpcy5jaGVja1N0cmljdGx5ID0gZmFsc2UKICAgICAgfWVsc2UgaWYodj09Mil7CiAgICAgICAgdGhpcy5jaGVja1N0cmljdGx5ID0gdHJ1ZQogICAgICB9CiAgICB9LAogICAgZ2V0QWxsS2V5cyhub2RlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdub2RlJyxub2RlKTsKICAgICAgdGhpcy5hbGxUcmVlS2V5cy5wdXNoKG5vZGUua2V5KQogICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICBmb3IgKGxldCBhID0gMDsgYSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBhKyspIHsKICAgICAgICAgIHRoaXMuZ2V0QWxsS2V5cyhub2RlLmNoaWxkcmVuW2FdKQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLy8gPCEtLS0tIGF1dGhvcjpvc19jaGVuZ3RnZW4gLS0gZGF0ZToyMDE5MDgyNyAtLSAgZm9yOuWIh+aNoueItuWtkOWLvumAieaooeW8jyA9PT09PT09LS0tLS0tPgogICAgCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5jdXJyRmxvd0lkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICB0aGlzLmN1cnJGbG93TmFtZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5uYW1lCiAgICAvLyB0aGlzLmxvYWRUcmVlKCkKICB9LAoKfQo="},{"version":3,"sources":["DepartList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"DepartList.vue","sourceRoot":"src/views/system","sourcesContent":["<template xmlns:background-color=\"http://www.w3.org/1999/xhtml\">\r\n  <a-row :gutter=\"10\">\r\n    <a-col :md=\"12\" :sm=\"24\">\r\n      <a-card :bordered=\"false\">\r\n\r\n        <!-- 按钮操作区域 -->\r\n        <a-row style=\"margin-left: 14px\">\r\n          <a-button @click=\"handleAdd(1)\" type=\"primary\">添加部门</a-button>\r\n          <a-button @click=\"handleAdd(2)\" type=\"primary\">添加下级</a-button>\r\n          <a-button type=\"primary\" icon=\"download\" @click=\"handleExportXls('部门信息')\">导出</a-button>\r\n          <a-upload name=\"file\" :showUploadList=\"false\" :multiple=\"false\" :headers=\"tokenHeader\" :action=\"importExcelUrl\" @change=\"handleImportExcel\">\r\n            <a-button type=\"primary\" icon=\"import\">导入</a-button>\r\n          </a-upload>\r\n          <a-button title=\"删除多条数据\" @click=\"batchDel\" type=\"default\">批量删除</a-button>\r\n          <!--<a-button @click=\"refresh\" type=\"default\" icon=\"reload\" :loading=\"loading\">刷新</a-button>-->\r\n        </a-row>\r\n        <div style=\"background: #fff;padding-left:16px;height: 100%; margin-top: 5px\">\r\n          <a-alert type=\"info\" :showIcon=\"true\">\r\n            <div slot=\"message\">\r\n              当前选择：<span v-if=\"this.currSelected.title\">{{ getCurrSelectedTitle() }}</span>\r\n              <a v-if=\"this.currSelected.title\" style=\"margin-left: 10px\" @click=\"onClearSelected\">取消选择</a>\r\n            </div>\r\n          </a-alert>\r\n          <a-input-search @search=\"onSearch\" style=\"width:100%;margin-top: 10px\" placeholder=\"请输入部门名称\"/>\r\n          <!-- 树-->\r\n          <a-col :md=\"10\" :sm=\"24\">\r\n            <template>\r\n              <a-dropdown :trigger=\"[this.dropTrigger]\" @visibleChange=\"dropStatus\">\r\n               <span style=\"user-select: none\">\r\n            <a-tree\r\n              checkable\r\n              multiple\r\n              @select=\"onSelect\"\r\n              @check=\"onCheck\"\r\n              @rightClick=\"rightHandle\"\r\n              :selectedKeys=\"selectedKeys\"\r\n              :checkedKeys=\"checkedKeys\"\r\n              :treeData=\"departTree\"\r\n              :checkStrictly=\"checkStrictly\"\r\n              :expandedKeys=\"iExpandedKeys\"\r\n              :autoExpandParent=\"autoExpandParent\"\r\n              @expand=\"onExpand\"/>\r\n                </span>\r\n                <!--新增右键点击事件,和增加添加和删除功能-->\r\n                <a-menu slot=\"overlay\">\r\n                  <a-menu-item @click=\"handleAdd(3)\" key=\"1\">添加</a-menu-item>\r\n                  <a-menu-item @click=\"handleDelete\" key=\"2\">删除</a-menu-item>\r\n                  <a-menu-item @click=\"closeDrop\" key=\"3\">取消</a-menu-item>\r\n                </a-menu>\r\n              </a-dropdown>\r\n            </template>\r\n          </a-col>\r\n        </div>\r\n      </a-card>\r\n      <!---- author:os_chengtgen -- date:20190827 --  for:切换父子勾选模式 =======------>\r\n      <div class=\"drawer-bootom-button\">\r\n        <a-dropdown :trigger=\"['click']\" placement=\"topCenter\">\r\n          <a-menu slot=\"overlay\">\r\n            <a-menu-item key=\"1\" @click=\"switchCheckStrictly(1)\">父子关联</a-menu-item>\r\n            <a-menu-item key=\"2\" @click=\"switchCheckStrictly(2)\">取消关联</a-menu-item>\r\n            <a-menu-item key=\"3\" @click=\"checkALL\">全部勾选</a-menu-item>\r\n            <a-menu-item key=\"4\" @click=\"cancelCheckALL\">取消全选</a-menu-item>\r\n            <a-menu-item key=\"5\" @click=\"expandAll\">展开所有</a-menu-item>\r\n            <a-menu-item key=\"6\" @click=\"closeAll\">合并所有</a-menu-item>\r\n          </a-menu>\r\n          <a-button>\r\n            树操作 <a-icon type=\"up\" />\r\n          </a-button>\r\n        </a-dropdown>\r\n      </div>\r\n      <!---- author:os_chengtgen -- date:20190827 --  for:切换父子勾选模式 =======------>\r\n    </a-col>\r\n    <a-col :md=\"12\" :sm=\"24\">\r\n      <a-tabs defaultActiveKey=\"1\">\r\n        <a-tab-pane tab=\"基本信息\" key=\"1\" >\r\n          <a-card :bordered=\"false\" v-if=\"selectedKeys.length>0\">\r\n            <a-form :form=\"form\">\r\n              <a-form-item\r\n                :labelCol=\"labelCol\"\r\n                :wrapperCol=\"wrapperCol\"\r\n                label=\"机构名称\">\r\n                <a-input placeholder=\"请输入机构/部门名称\" v-decorator=\"['departName', validatorRules.departName ]\"/>\r\n              </a-form-item>\r\n              <a-form-item :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" label=\"上级部门\">\r\n                <a-tree-select\r\n                  style=\"width:100%\"\r\n                  :dropdownStyle=\"{maxHeight:'200px',overflow:'auto'}\"\r\n                  :treeData=\"treeData\"\r\n                  :disabled=\"disable\"\r\n                  v-model=\"model.parentId\"\r\n                  placeholder=\"无\">\r\n                </a-tree-select>\r\n              </a-form-item>\r\n              <a-form-item\r\n                :labelCol=\"labelCol\"\r\n                :wrapperCol=\"wrapperCol\"\r\n                label=\"机构编码\">\r\n                <a-input disabled placeholder=\"请输入机构编码\" v-decorator=\"['orgCode', validatorRules.orgCode ]\"/>\r\n              </a-form-item>\r\n              <a-form-item\r\n                :labelCol=\"labelCol\"\r\n                :wrapperCol=\"wrapperCol\"\r\n                label=\"机构类型\">\r\n                <template v-if=\"orgCategoryDisabled\">\r\n                  <a-radio-group v-decorator=\"['orgCategory',validatorRules.orgCategory]\" placeholder=\"请选择机构类型\">\r\n                    <a-radio value=\"1\">\r\n                      公司\r\n                    </a-radio>\r\n                  </a-radio-group>\r\n                </template>\r\n                <template v-else>\r\n                  <a-radio-group v-decorator=\"['orgCategory',validatorRules.orgCategory]\" placeholder=\"请选择机构类型\">\r\n                    <a-radio value=\"2\">\r\n                      部门\r\n                    </a-radio>\r\n                    <a-radio value=\"3\">\r\n                      岗位\r\n                    </a-radio>\r\n                  </a-radio-group>\r\n                </template>\r\n              </a-form-item>\r\n              <a-form-item\r\n                :labelCol=\"labelCol\"\r\n                :wrapperCol=\"wrapperCol\"\r\n                label=\"排序\">\r\n                <a-input-number v-decorator=\"[ 'departOrder',{'initialValue':0}]\"/>\r\n              </a-form-item>\r\n              <a-form-item\r\n                :labelCol=\"labelCol\"\r\n                :wrapperCol=\"wrapperCol\"\r\n                label=\"手机号\">\r\n                <a-input placeholder=\"请输入手机号\" v-decorator=\"['mobile', {'initialValue':''}]\"/>\r\n              </a-form-item>\r\n              <a-form-item\r\n                :labelCol=\"labelCol\"\r\n                :wrapperCol=\"wrapperCol\"\r\n                label=\"地址\">\r\n                <a-input placeholder=\"请输入地址\" v-decorator=\"['address', {'initialValue':''}]\"/>\r\n              </a-form-item>\r\n              <a-form-item\r\n                :labelCol=\"labelCol\"\r\n                :wrapperCol=\"wrapperCol\"\r\n                label=\"备注\">\r\n                <a-textarea placeholder=\"请输入备注\" v-decorator=\"['memo', {'initialValue':''}]\"/>\r\n              </a-form-item>\r\n            </a-form>\r\n            <div class=\"anty-form-btn\">\r\n              <a-button @click=\"emptyCurrForm\" type=\"default\" htmlType=\"button\" icon=\"sync\">重置</a-button>\r\n              <a-button @click=\"submitCurrForm\" type=\"primary\" htmlType=\"button\" icon=\"form\">保存</a-button>\r\n            </div>\r\n          </a-card>\r\n          <a-card v-else >\r\n            <a-empty>\r\n              <span slot=\"description\"> 请先选择一个部门! </span>\r\n            </a-empty>\r\n          </a-card>\r\n        </a-tab-pane>\r\n        <a-tab-pane tab=\"部门权限\" key=\"2\" forceRender>\r\n          <depart-auth-modal ref=\"departAuth\"/>\r\n        </a-tab-pane>\r\n      </a-tabs>\r\n\r\n    </a-col>\r\n    <depart-modal ref=\"departModal\" @ok=\"loadTree\"></depart-modal>\r\n  </a-row>\r\n</template>\r\n<script>\r\n  import DepartModal from './modules/DepartModal'\r\n  import pick from 'lodash.pick'\r\n  import {queryDepartTreeList, searchByKeywords, deleteByDepartId} from '@/api/api'\r\n  import {httpAction, deleteAction} from '@/api/manage'\r\n  import {JeecgListMixin} from '@/mixins/JeecgListMixin'\r\n  import DepartAuthModal from './modules/DepartAuthModal'\r\n  // 表头\r\n  const columns = [\r\n    {\r\n      title: '机构名称',\r\n      dataIndex: 'departName'\r\n    },\r\n    {\r\n      title: '机构类型',\r\n      align: 'center',\r\n      dataIndex: 'orgType'\r\n    },\r\n    {\r\n      title: '机构编码',\r\n      dataIndex: 'orgCode',\r\n    },\r\n    {\r\n      title: '手机号',\r\n      dataIndex: 'mobile'\r\n    },\r\n    {\r\n      title: '传真',\r\n      dataIndex: 'fax'\r\n    },\r\n    {\r\n      title: '地址',\r\n      dataIndex: 'address'\r\n    },\r\n    {\r\n      title: '排序',\r\n      align: 'center',\r\n      dataIndex: 'departOrder'\r\n    },\r\n    {\r\n      title: '操作',\r\n      align: 'center',\r\n      dataIndex: 'action',\r\n      scopedSlots: {customRender: 'action'}\r\n    }\r\n  ]\r\n  export default {\r\n    name: 'DepartList',\r\n    mixins: [JeecgListMixin],\r\n    components: {\r\n      DepartAuthModal,\r\n      DepartModal\r\n    },\r\n    data() {\r\n      return {\r\n        iExpandedKeys: [],\r\n        loading: false,\r\n        autoExpandParent: true,\r\n        currFlowId: '',\r\n        currFlowName: '',\r\n        disable: true,\r\n        treeData: [],\r\n        visible: false,\r\n        departTree: [],\r\n        rightClickSelectedKey: '',\r\n        rightClickSelectedOrgCode: '',\r\n        hiding: true,\r\n        model: {},\r\n        dropTrigger: '',\r\n        depart: {},\r\n        columns: columns,\r\n        disableSubmit: false,\r\n        checkedKeys: [],\r\n        selectedKeys: [],\r\n        autoIncr: 1,\r\n        currSelected: {},\r\n\r\n        allTreeKeys:[],\r\n        checkStrictly: true,\r\n\r\n        form: this.$form.createForm(this),\r\n        labelCol: {\r\n          xs: {span: 24},\r\n          sm: {span: 5}\r\n        },\r\n        wrapperCol: {\r\n          xs: {span: 24},\r\n          sm: {span: 16}\r\n        },\r\n        graphDatasource: {\r\n          nodes: [],\r\n          edges: []\r\n        },\r\n        validatorRules: {\r\n          departName: {rules: [{required: true, message: '请输入机构/部门名称!'}]},\r\n          orgCode: {rules: [{required: true, message: '请输入机构编码!'}]},\r\n          orgCategory: {rules: [{required: true, message: '请输入机构类型!'}]},\r\n          mobile: {rules: [{validator: this.validateMobile}]}\r\n        },\r\n        url: {\r\n          delete: '/sys/sysDepart/delete',\r\n          edit: '/sys/sysDepart/edit',\r\n          deleteBatch: '/sys/sysDepart/deleteBatch',\r\n          exportXlsUrl: \"sys/sysDepart/exportXls\",\r\n          importExcelUrl: \"sys/sysDepart/importExcel\",\r\n        },\r\n        orgCategoryDisabled:false,\r\n      }\r\n    },\r\n    computed: {\r\n      importExcelUrl: function () {\r\n        return `${window._CONFIG['domianURL']}/${this.url.importExcelUrl}`;\r\n      }\r\n    },\r\n    methods: {\r\n      loadData() {\r\n        this.refresh();\r\n      },\r\n      loadTree() {\r\n        var that = this\r\n        that.treeData = []\r\n        that.departTree = []\r\n        queryDepartTreeList().then((res) => {\r\n          if (res.success) {\r\n            //部门全选后，再添加部门，选中数量增多\r\n            this.allTreeKeys = [];\r\n            for (let i = 0; i < res.result.length; i++) {\r\n              let temp = res.result[i]\r\n              that.treeData.push(temp)\r\n              that.departTree.push(temp)\r\n              that.setThisExpandedKeys(temp)\r\n              that.getAllKeys(temp);\r\n              // console.log(temp.id)\r\n            }\r\n            this.loading = false\r\n          }\r\n        })\r\n      },\r\n      setThisExpandedKeys(node) {\r\n        if (node.children && node.children.length > 0) {\r\n          this.iExpandedKeys.push(node.key)\r\n          for (let a = 0; a < node.children.length; a++) {\r\n            this.setThisExpandedKeys(node.children[a])\r\n          }\r\n        }\r\n      },\r\n      refresh() {\r\n        this.loading = true\r\n        this.loadTree()\r\n      },\r\n      // 右键操作方法\r\n      rightHandle(node) {\r\n        this.dropTrigger = 'contextmenu'\r\n        console.log(node.node.eventKey)\r\n        this.rightClickSelectedKey = node.node.eventKey\r\n        this.rightClickSelectedOrgCode = node.node.dataRef.orgCode\r\n      },\r\n      onExpand(expandedKeys) {\r\n        console.log('onExpand', expandedKeys)\r\n        // if not set autoExpandParent to false, if children expanded, parent can not collapse.\r\n        // or, you can remove all expanded children keys.\r\n        this.iExpandedKeys = expandedKeys\r\n        this.autoExpandParent = false\r\n      },\r\n      backFlowList() {\r\n        this.$router.back(-1)\r\n      },\r\n      // 右键点击下拉框改变事件\r\n      dropStatus(visible) {\r\n        if (visible == false) {\r\n          this.dropTrigger = ''\r\n        }\r\n      },\r\n      // 右键店家下拉关闭下拉框\r\n      closeDrop() {\r\n        this.dropTrigger = ''\r\n      },\r\n      addRootNode() {\r\n        this.$refs.nodeModal.add(this.currFlowId, '')\r\n      },\r\n      batchDel: function () {\r\n        console.log(this.checkedKeys)\r\n        if (this.checkedKeys.length <= 0) {\r\n          this.$message.warning('请选择一条记录！')\r\n        } else {\r\n          var ids = ''\r\n          for (var a = 0; a < this.checkedKeys.length; a++) {\r\n            ids += this.checkedKeys[a] + ','\r\n          }\r\n          var that = this\r\n          this.$confirm({\r\n            title: '确认删除',\r\n            content: '确定要删除所选中的 ' + this.checkedKeys.length + ' 条数据，以及子节点数据吗?',\r\n            onOk: function () {\r\n              deleteAction(that.url.deleteBatch, {ids: ids}).then((res) => {\r\n                if (res.success) {\r\n                  that.$message.success(res.message)\r\n                  that.loadTree()\r\n                  that.onClearSelected()\r\n                } else {\r\n                  that.$message.warning(res.message)\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      },\r\n      onSearch(value) {\r\n        let that = this\r\n        if (value) {\r\n          searchByKeywords({keyWord: value}).then((res) => {\r\n            if (res.success) {\r\n              that.departTree = []\r\n              for (let i = 0; i < res.result.length; i++) {\r\n                let temp = res.result[i]\r\n                that.departTree.push(temp)\r\n              }\r\n            } else {\r\n              that.$message.warning(res.message)\r\n            }\r\n          })\r\n        } else {\r\n          that.loadTree()\r\n        }\r\n\r\n      },\r\n      nodeModalOk() {\r\n        this.loadTree()\r\n      },\r\n      nodeModalClose() {\r\n      },\r\n      hide() {\r\n        console.log(111)\r\n        this.visible = false\r\n      },\r\n      onCheck(checkedKeys, info) {\r\n        console.log('onCheck', checkedKeys, info)\r\n        this.hiding = false\r\n        //this.checkedKeys = checkedKeys.checked\r\n        // <!---- author:os_chengtgen -- date:20190827 --  for:切换父子勾选模式 =======------>\r\n        if(this.checkStrictly){\r\n          this.checkedKeys = checkedKeys.checked;\r\n        }else{\r\n          this.checkedKeys = checkedKeys\r\n        }\r\n        // <!---- author:os_chengtgen -- date:20190827 --  for:切换父子勾选模式 =======------>\r\n      },\r\n      onSelect(selectedKeys, e) {\r\n        console.log('selected', selectedKeys, e)\r\n        this.hiding = false\r\n        let record = e.node.dataRef\r\n        console.log('onSelect-record', record)\r\n        this.currSelected = Object.assign({}, record)\r\n        this.model = this.currSelected\r\n        this.selectedKeys = [record.key]\r\n        this.model.parentId = record.parentId\r\n        this.setValuesToForm(record)\r\n        this.$refs.departAuth.show(record.id);\r\n\r\n      },\r\n      // 触发onSelect事件时,为部门树右侧的form表单赋值\r\n      setValuesToForm(record) {\r\n        if(record.orgCategory == '1'){\r\n          this.orgCategoryDisabled = true;\r\n        }else{\r\n          this.orgCategoryDisabled = false;\r\n        }\r\n        this.$nextTick(() => {\r\n          this.form.getFieldDecorator('fax', {initialValue: ''})\r\n          this.form.setFieldsValue(pick(record, 'departName','orgCategory', 'orgCode', 'departOrder', 'mobile', 'fax', 'address', 'memo'))\r\n        })\r\n      },\r\n      getCurrSelectedTitle() {\r\n        return !this.currSelected.title ? '' : this.currSelected.title\r\n      },\r\n      onClearSelected() {\r\n        this.hiding = true\r\n        this.checkedKeys = []\r\n        this.currSelected = {}\r\n        this.form.resetFields()\r\n        this.selectedKeys = []\r\n        this.$refs.departAuth.departId = ''\r\n      },\r\n      handleNodeTypeChange(val) {\r\n        this.currSelected.nodeType = val\r\n      },\r\n      notifyTriggerTypeChange(value) {\r\n        this.currSelected.notifyTriggerType = value\r\n      },\r\n      receiptTriggerTypeChange(value) {\r\n        this.currSelected.receiptTriggerType = value\r\n      },\r\n      submitCurrForm() {\r\n        this.form.validateFields((err, values) => {\r\n          if (!err) {\r\n            if (!this.currSelected.id) {\r\n              this.$message.warning('请点击选择要修改部门!')\r\n              return\r\n            }\r\n\r\n            let formData = Object.assign(this.currSelected, values)\r\n            console.log('Received values of form: ', formData)\r\n            httpAction(this.url.edit, formData, 'put').then((res) => {\r\n              if (res.success) {\r\n                this.$message.success('保存成功!')\r\n                this.loadTree()\r\n              } else {\r\n                this.$message.error(res.message)\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      emptyCurrForm() {\r\n        this.form.resetFields()\r\n      },\r\n      nodeSettingFormSubmit() {\r\n        this.form.validateFields((err, values) => {\r\n          if (!err) {\r\n            console.log('Received values of form: ', values)\r\n          }\r\n        })\r\n      },\r\n      openSelect() {\r\n        this.$refs.sysDirectiveModal.show()\r\n      },\r\n      handleAdd(num) {\r\n        if (num == 1) {\r\n          this.$refs.departModal.add()\r\n          this.$refs.departModal.title = '新增'\r\n        } else if (num == 2) {\r\n          let key = this.currSelected.key\r\n          if (!key) {\r\n            this.$message.warning('请先点击选中上级部门！')\r\n            return false\r\n          }\r\n          this.$refs.departModal.add(this.selectedKeys)\r\n          this.$refs.departModal.title = '新增'\r\n        } else {\r\n          this.$refs.departModal.add(this.rightClickSelectedKey)\r\n          this.$refs.departModal.title = '新增'\r\n        }\r\n      },\r\n      handleDelete() {\r\n        var that = this\r\n        this.$confirm({\r\n          title: '确认删除',\r\n          content: '确定要删除此部门以及子节点数据吗?',\r\n          onOk: function () {\r\n            deleteByDepartId({id: that.rightClickSelectedKey}).then((resp) => {\r\n              if (resp.success) {\r\n                //删除成功后，去除已选中中的数据\r\n                that.checkedKeys.splice(that.checkedKeys.findIndex(key => key === that.rightClickSelectedKey), 1);\r\n                that.$message.success('删除成功!')\r\n                that.loadTree()\r\n                //删除后同步清空右侧基本信息内容\r\n                let orgCode=that.form.getFieldValue(\"orgCode\");\r\n                if(orgCode && orgCode === that.rightClickSelectedOrgCode){\r\n                  that.onClearSelected()\r\n                }\r\n              } else {\r\n                that.$message.warning('删除失败!')\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      selectDirectiveOk(record) {\r\n        console.log('选中指令数据', record)\r\n        this.nodeSettingForm.setFieldsValue({directiveCode: record.directiveCode})\r\n        this.currSelected.sysCode = record.sysCode\r\n      },\r\n      getFlowGraphData(node) {\r\n        this.graphDatasource.nodes.push({\r\n          id: node.id,\r\n          text: node.flowNodeName\r\n        })\r\n        if (node.children.length > 0) {\r\n          for (let a = 0; a < node.children.length; a++) {\r\n            let temp = node.children[a]\r\n            this.graphDatasource.edges.push({\r\n              source: node.id,\r\n              target: temp.id\r\n            })\r\n            this.getFlowGraphData(temp)\r\n          }\r\n        }\r\n      },\r\n     // <!---- author:os_chengtgen -- date:20190827 --  for:切换父子勾选模式 =======------>\r\n      expandAll () {\r\n        this.iExpandedKeys = this.allTreeKeys\r\n      },\r\n      closeAll () {\r\n        this.iExpandedKeys = []\r\n      },\r\n      checkALL () {\r\n        this.checkStriccheckStrictlytly = false\r\n        this.checkedKeys = this.allTreeKeys\r\n      },\r\n      cancelCheckALL () {\r\n        //this.checkedKeys = this.defaultCheckedKeys\r\n        this.checkedKeys = []\r\n      },\r\n      switchCheckStrictly (v) {\r\n        if(v==1){\r\n          this.checkStrictly = false\r\n        }else if(v==2){\r\n          this.checkStrictly = true\r\n        }\r\n      },\r\n      getAllKeys(node) {\r\n        // console.log('node',node);\r\n        this.allTreeKeys.push(node.key)\r\n        if (node.children && node.children.length > 0) {\r\n          for (let a = 0; a < node.children.length; a++) {\r\n            this.getAllKeys(node.children[a])\r\n          }\r\n        }\r\n      }\r\n      // <!---- author:os_chengtgen -- date:20190827 --  for:切换父子勾选模式 =======------>\r\n      \r\n    },\r\n    created() {\r\n      this.currFlowId = this.$route.params.id\r\n      this.currFlowName = this.$route.params.name\r\n      // this.loadTree()\r\n    },\r\n\r\n  }\r\n</script>\r\n<style scoped>\r\n  .ant-card-body .table-operator {\r\n    margin: 15px;\r\n  }\r\n\r\n  .anty-form-btn {\r\n    width: 100%;\r\n    text-align: center;\r\n  }\r\n\r\n  .anty-form-btn button {\r\n    margin: 0 5px;\r\n  }\r\n\r\n  .anty-node-layout .ant-layout-header {\r\n    padding-right: 0\r\n  }\r\n\r\n  .header {\r\n    padding: 0 8px;\r\n  }\r\n\r\n  .header button {\r\n    margin: 0 3px\r\n  }\r\n\r\n  .ant-modal-cust-warp {\r\n    height: 100%\r\n  }\r\n\r\n  .ant-modal-cust-warp .ant-modal-body {\r\n    height: calc(100% - 110px) !important;\r\n    overflow-y: auto\r\n  }\r\n\r\n  .ant-modal-cust-warp .ant-modal-content {\r\n    height: 90% !important;\r\n    overflow-y: hidden\r\n  }\r\n\r\n  #app .desktop {\r\n    height: auto !important;\r\n  }\r\n\r\n  /** Button按钮间距 */\r\n  .ant-btn {\r\n    margin-left: 3px\r\n  }\r\n\r\n  .drawer-bootom-button {\r\n    /*position: absolute;*/\r\n    bottom: 0;\r\n    width: 100%;\r\n    border-top: 1px solid #e8e8e8;\r\n    padding: 10px 16px;\r\n    text-align: left;\r\n    left: 0;\r\n    background: #fff;\r\n    border-radius: 0 0 2px 2px;\r\n  }\r\n</style>"]}]}