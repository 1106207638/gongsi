{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\jeecg\\modal\\JPopupOnlReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\jeecg\\modal\\JPopupOnlReport.vue","mtime":1615948814862},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFjdGlvbiB9IGZyb20gJ0AvYXBpL21hbmFnZScKaW1wb3J0IHtmaWx0ZXJPYmp9IGZyb20gJ0AvdXRpbHMvdXRpbCcKaW1wb3J0IHsgZmlsdGVyTXVsdGlEaWN0VGV4dCB9IGZyb20gJ0AvY29tcG9uZW50cy9kaWN0L0pEaWN0U2VsZWN0VXRpbCcKaW1wb3J0IHsgaHR0cEdyb3VwUmVxdWVzdCB9IGZyb20gJ0AvYXBpL0dyb3VwUmVxdWVzdC5qcycKCmNvbnN0IE1PREFMX1dJRFRIID0gMTIwMDsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdKUG9wdXBPbmxSZXBvcnQnLAogIHByb3BzOiBbJ211bHRpJywgJ2NvZGUnLCAnZ3JvdXBJZCcsICdwYXJhbSddLAogIGNvbXBvbmVudHM6ewogIH0sCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZTpmYWxzZSwKICAgICAgdGl0bGU6IiIsCiAgICAgIGNvbmZpcm1Mb2FkaW5nOmZhbHNlLAogICAgICBxdWVyeUluZm86W10sCiAgICAgIHRvZ2dsZVNlYXJjaFN0YXR1czpmYWxzZSwKICAgICAgcXVlcnlQYXJhbTp7CgogICAgICB9LAogICAgICBkaWN0T3B0aW9uczoge30sCiAgICAgIHVybDogewogICAgICAgIGdldENvbHVtbnM6ICcvb25saW5lL2NncmVwb3J0L2FwaS9nZXRScENvbHVtbnMvJywKICAgICAgICBnZXREYXRhOiAnL29ubGluZS9jZ3JlcG9ydC9hcGkvZ2V0RGF0YS8nLAogICAgICAgIGdldFF1ZXJ5SW5mbzogJy9vbmxpbmUvY2dyZXBvcnQvYXBpL2dldFF1ZXJ5SW5mby8nCiAgICAgIH0sCiAgICAgIHRhYmxlOiB7CiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICAvLyDooajlpLQKICAgICAgICBjb2x1bW5zOiBbXSwKICAgICAgICAvL+aVsOaNrumbhgogICAgICAgIGRhdGFTb3VyY2U6IFtdLAogICAgICAgIC8vIOmAieaLqeWZqAogICAgICAgIHNlbGVjdGVkUm93S2V5czogW10sCiAgICAgICAgc2VsZWN0aW9uUm93czogW10sCiAgICAgICAgLy8g5YiG6aG15Y+C5pWwCiAgICAgICAgcGFnaW5hdGlvbjogewogICAgICAgICAgY3VycmVudDogMSwKICAgICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICAgIHBhZ2VTaXplT3B0aW9uczogWycxMCcsICcyMCcsICczMCddLAogICAgICAgICAgc2hvd1RvdGFsOiAodG90YWwsIHJhbmdlKSA9PiB7CiAgICAgICAgICAgIHJldHVybiByYW5nZVswXSArICctJyArIHJhbmdlWzFdICsgJyDlhbEnICsgdG90YWwgKyAn5p2hJwogICAgICAgICAgfSwKICAgICAgICAgIHNob3dRdWlja0p1bXBlcjogdHJ1ZSwKICAgICAgICAgIHNob3dTaXplQ2hhbmdlcjogdHJ1ZSwKICAgICAgICAgIHRvdGFsOiAwCiAgICAgICAgfQogICAgICB9LAogICAgICBjZ1JwQ29uZmlnSWQ6IiIsCiAgICAgIG1vZGFsV2lkdGg6TU9EQUxfV0lEVEgsCiAgICAgIHRhYmxlU2Nyb2xsOnt4Ok1PREFMX1dJRFRILTEwMH0sCiAgICAgIGR5bmFtaWNQYXJhbTp7fQoKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvL3RoaXMubG9hZENvbHVtbnNJbmZvKCkKICB9LAogIHdhdGNoOiB7CiAgICBjb2RlKCkgewogICAgICB0aGlzLmxvYWRDb2x1bW5zSW5mbygpCiAgICB9LAogICAgcGFyYW06ewogICAgICBkZWVwOnRydWUsCiAgICAgIGhhbmRsZXIoKXsKICAgICAgICB0aGlzLmR5bmFtaWNQYXJhbUhhbmRsZXIoKQogICAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgICAgfSwKICAgIH0KICB9LAogIGNvbXB1dGVkOnsKICAgIHNob3dTZWFyY2hGbGFnKCl7CiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5SW5mbyAmJiB0aGlzLnF1ZXJ5SW5mby5sZW5ndGg+MAogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBsb2FkQ29sdW1uc0luZm8oKXsKICAgICAgbGV0IHVybCA9IGAke3RoaXMudXJsLmdldENvbHVtbnN9JHt0aGlzLmNvZGV9YAogICAgICAvL+e8k+WtmGtleQogICAgICBsZXQgZ3JvdXBJZEtleQogICAgICBpZiAodGhpcy5ncm91cElkKSB7CiAgICAgICAgZ3JvdXBJZEtleSA9IHRoaXMuZ3JvdXBJZCArIHVybAogICAgICB9CiAgICAgIGh0dHBHcm91cFJlcXVlc3QoKCkgPT4gZ2V0QWN0aW9uKHVybCksIGdyb3VwSWRLZXkpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZihyZXMuc3VjY2Vzcyl7CiAgICAgICAgICB0aGlzLmluaXREaWN0T3B0aW9uRGF0YShyZXMucmVzdWx0LmRpY3RPcHRpb25zKTsKICAgICAgICAgIHRoaXMuY2dScENvbmZpZ0lkID0gcmVzLnJlc3VsdC5jZ1JwQ29uZmlnSWQKICAgICAgICAgIHRoaXMudGl0bGUgPSByZXMucmVzdWx0LmNnUnBDb25maWdOYW1lCiAgICAgICAgICBsZXQgY3VyckNvbHVtbnMgPSByZXMucmVzdWx0LmNvbHVtbnMKICAgICAgICAgIGZvcihsZXQgYT0wO2E8Y3VyckNvbHVtbnMubGVuZ3RoO2ErKyl7CiAgICAgICAgICAgIGlmKGN1cnJDb2x1bW5zW2FdLmN1c3RvbVJlbmRlcil7CiAgICAgICAgICAgICAgbGV0IGRpY3RDb2RlID0gY3VyckNvbHVtbnNbYV0uY3VzdG9tUmVuZGVyOwogICAgICAgICAgICAgIGN1cnJDb2x1bW5zW2FdLmN1c3RvbVJlbmRlcj0odGV4dCk9PnsKICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJNdWx0aURpY3RUZXh0KHRoaXMuZGljdE9wdGlvbnNbZGljdENvZGVdLCB0ZXh0KyIiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHRoaXMudGFibGUuY29sdW1ucyA9IFsuLi5jdXJyQ29sdW1uc10KICAgICAgICAgIHRoaXMuaW5pdFF1ZXJ5SW5mbygpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGluaXRRdWVyeUluZm8oKSB7CiAgICAgIGxldCB1cmwgPSBgJHt0aGlzLnVybC5nZXRRdWVyeUluZm99JHt0aGlzLmNnUnBDb25maWdJZH1gCiAgICAgIC8v57yT5a2Ya2V5CiAgICAgIGxldCBncm91cElkS2V5CiAgICAgIGlmICh0aGlzLmdyb3VwSWQpIHsKICAgICAgICBncm91cElkS2V5ID0gdGhpcy5ncm91cElkICsgdXJsCiAgICAgIH0KICAgICAgaHR0cEdyb3VwUmVxdWVzdCgoKSA9PiBnZXRBY3Rpb24odXJsKSwgZ3JvdXBJZEtleSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coIuiOt+WPluafpeivouadoeS7tiIsIHJlcyk7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLmR5bmFtaWNQYXJhbUhhbmRsZXIocmVzLnJlc3VsdCkKICAgICAgICAgIHRoaXMucXVlcnlJbmZvID0gcmVzLnJlc3VsdAogICAgICAgICAgLy/mn6Xor6LmnaHku7bliqDovb3lkI7lho3or7fmsYLmlbDmja4KICAgICAgICAgIHRoaXMubG9hZERhdGEoMSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKHJlcy5tZXNzYWdlKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvL+WkhOeQhuWKqOaAgeWPguaVsAogICAgZHluYW1pY1BhcmFtSGFuZGxlcihhcnIpewogICAgICBpZihhcnIgJiYgYXJyLmxlbmd0aD4wKXsKICAgICAgICAvL+esrOS4gOasoeWKoOi9veafpeivouadoeS7tuWJjSDliJ3lp4vljJZxdWVyeVBhcmFt5Li656m65a+56LGhCiAgICAgICAgbGV0IHF1ZXJ5VGVtcCA9IHt9CiAgICAgICAgZm9yKGxldCBpdGVtIG9mIGFycil7CiAgICAgICAgICBpZihpdGVtLm1vZGU9PT0nc2luZ2xlJyl7CiAgICAgICAgICAgIHF1ZXJ5VGVtcFtpdGVtLmZpZWxkXSA9ICcnCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMucXVlcnlQYXJhbSA9IHsuLi5xdWVyeVRlbXB9CiAgICAgIH0KICAgICAgbGV0IGR5bmFtaWNUZW1wID0ge30KICAgICAgaWYodGhpcy5wYXJhbSl7CiAgICAgICAgT2JqZWN0LmtleXModGhpcy5wYXJhbSkubWFwKGtleT0+ewogICAgICAgICAgbGV0IHN0ciA9IHRoaXMucGFyYW1ba2V5XQogICAgICAgICAgaWYoa2V5IGluIHRoaXMucXVlcnlQYXJhbSl7CiAgICAgICAgICAgIGlmKHN0ciAmJiBzdHIuc3RhcnRzV2l0aCgiJyIpICYmIHN0ci5lbmRzV2l0aCgiJyIpKXsKICAgICAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDEsc3RyLmxlbmd0aC0xKQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v5aaC5p6c5p+l6K+i5p2h5Lu25YyF5ZCr5Y+C5pWwIOiuvue9ruWAvAogICAgICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1ba2V5XT1zdHIKICAgICAgICAgIH0KICAgICAgICAgIGR5bmFtaWNUZW1wW2tleV0gPSB0aGlzLnBhcmFtW2tleV0KICAgICAgICB9KQogICAgICB9CiAgICAgIHRoaXMuZHluYW1pY1BhcmFtID0gey4uLmR5bmFtaWNUZW1wfQogICAgfSwKICAgIGxvYWREYXRhKGFyZykgewogICAgICBpZiAoYXJnID09IDEpIHsKICAgICAgICB0aGlzLnRhYmxlLnBhZ2luYXRpb24uY3VycmVudCA9IDEKICAgICAgfQogICAgICBsZXQgcGFyYW1zID0gdGhpcy5nZXRRdWVyeVBhcmFtcygpOy8v5p+l6K+i5p2h5Lu2CiAgICAgIHRoaXMudGFibGUubG9hZGluZyA9IHRydWUKICAgICAgbGV0IHVybCA9IGAke3RoaXMudXJsLmdldERhdGF9JHt0aGlzLmNnUnBDb25maWdJZH1gCiAgICAgIC8v57yT5a2Ya2V5CiAgICAgIGxldCBncm91cElkS2V5CiAgICAgIGlmICh0aGlzLmdyb3VwSWQpIHsKICAgICAgICBncm91cElkS2V5ID0gdGhpcy5ncm91cElkICsgdXJsICsgSlNPTi5zdHJpbmdpZnkocGFyYW1zKQogICAgICB9CiAgICAgIGh0dHBHcm91cFJlcXVlc3QoKCkgPT4gZ2V0QWN0aW9uKHVybCwgcGFyYW1zKSwgZ3JvdXBJZEtleSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudGFibGUubG9hZGluZyA9IGZhbHNlCiAgICAgICAgLy8gY29uc29sZS5sb2coImRhYSIscmVzKQogICAgICAgIGxldCBkYXRhID0gcmVzLnJlc3VsdAogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICB0aGlzLnRhYmxlLnBhZ2luYXRpb24udG90YWwgPSBOdW1iZXIoZGF0YS50b3RhbCkKICAgICAgICAgIHRoaXMudGFibGUuZGF0YVNvdXJjZSA9IGRhdGEucmVjb3JkcwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRhYmxlLnBhZ2luYXRpb24udG90YWwgPSAwCiAgICAgICAgICB0aGlzLnRhYmxlLmRhdGFTb3VyY2UgPSBbXQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBnZXRRdWVyeVBhcmFtcygpIHsKICAgICAgbGV0IHBhcmFtVGFyZ2V0ID0ge30KICAgICAgaWYodGhpcy5keW5hbWljUGFyYW0pewogICAgICAgIC8v5aSE55CG6Ieq5a6a5LmJ5Y+C5pWwCiAgICAgICBPYmplY3Qua2V5cyh0aGlzLmR5bmFtaWNQYXJhbSkubWFwKGtleT0+ewogICAgICAgICBwYXJhbVRhcmdldFsnc2VsZl8nK2tleV0gPSB0aGlzLmR5bmFtaWNQYXJhbVtrZXldCiAgICAgICB9KQogICAgICB9CiAgICAgIGxldCBwYXJhbSA9IE9iamVjdC5hc3NpZ24ocGFyYW1UYXJnZXQsIHRoaXMucXVlcnlQYXJhbSwgdGhpcy5zb3J0ZXIpOwogICAgICBwYXJhbS5wYWdlTm8gPSB0aGlzLnRhYmxlLnBhZ2luYXRpb24uY3VycmVudDsKICAgICAgcGFyYW0ucGFnZVNpemUgPSB0aGlzLnRhYmxlLnBhZ2luYXRpb24ucGFnZVNpemU7CiAgICAgIHJldHVybiBmaWx0ZXJPYmoocGFyYW0pOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZUluVGFibGVTZWxlY3Qoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3Rpb25Sb3dzKSB7CiAgICAgIC8vdXBkYXRlLWJlZ2luLWF1dGhvcjp0YW95YW4gZGF0ZToyMDIwOTAyIGZvcjrjgJBpc3N1ZeOAkeW8gOa6kG9ubGluZeeahOWHoOS4qumXrumimCBMT1dDT0QtODQ0CiAgICAgIGlmKCFzZWxlY3RlZFJvd0tleXMgfHwgc2VsZWN0ZWRSb3dLZXlzLmxlbmd0aD09MCl7CiAgICAgICAgdGhpcy50YWJsZS5zZWxlY3Rpb25Sb3dzID0gW10KICAgICAgfWVsc2UgaWYoc2VsZWN0ZWRSb3dLZXlzLmxlbmd0aCA9PSBzZWxlY3Rpb25Sb3dzLmxlbmd0aCl7CiAgICAgICAgdGhpcy50YWJsZS5zZWxlY3Rpb25Sb3dzID0gc2VsZWN0aW9uUm93cwogICAgICB9ZWxzZXsKICAgICAgICAvL+W9k+S4pOiAhemVv+W6puS4jeS4gOeahOaXtuWAmSDpnIDopoHliKTmlq0KICAgICAgICBsZXQga2V5cyA9IHRoaXMudGFibGUuc2VsZWN0ZWRSb3dLZXlzCiAgICAgICAgbGV0IHJvd3MgPSB0aGlzLnRhYmxlLnNlbGVjdGlvblJvd3M7CiAgICAgICAgLy/ov5nkuKrlvqrnjq8g5re75Yqg5paw55qE6K6w5b2VCiAgICAgICAgZm9yKGxldCBpPTA7aTxzZWxlY3Rpb25Sb3dzLmxlbmd0aDtpKyspewogICAgICAgICAgbGV0IGNvbWJpbmVLZXkgPSB0aGlzLmNvbWJpbmVSb3dLZXkoc2VsZWN0aW9uUm93c1tpXSkKICAgICAgICAgIGlmKGtleXMuaW5kZXhPZihjb21iaW5lS2V5KTwwKXsKICAgICAgICAgICAgLy/lpoLmnpwg5Y6f5p2l55qEa2V5IOS4jeWMheWQq+W9k+WJjeiusOW9lSBwdXNoCiAgICAgICAgICAgIHJvd3MucHVzaChzZWxlY3Rpb25Sb3dzW2ldKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvL+i/meS4quW+queOryDnp7vpmaTlj5bmtojpgInkuK3nmoTmlbDmja4KICAgICAgICB0aGlzLnRhYmxlLnNlbGVjdGlvblJvd3MgPSByb3dzLmZpbHRlcihpdGVtPT57CiAgICAgICAgICBsZXQgY29tYmluZUtleSA9IHRoaXMuY29tYmluZVJvd0tleShpdGVtKQogICAgICAgICAgcmV0dXJuIHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGNvbWJpbmVLZXkpPj0wCiAgICAgICAgfSkKICAgICAgfQogICAgICAvL3VwZGF0ZS1lbmQtYXV0aG9yOnRhb3lhbiBkYXRlOjIwMjA5MDIgZm9yOuOAkGlzc3Vl44CR5byA5rqQb25saW5l55qE5Yeg5Liq6Zeu6aKYIExPV0NPRC04NDQKICAgICAgdGhpcy50YWJsZS5zZWxlY3RlZFJvd0tleXMgPSBzZWxlY3RlZFJvd0tleXMKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2VJblRhYmxlKHBhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlcikgewogICAgICAvL+WIhumhteOAgeaOkuW6j+OAgeetm+mAieWPmOWMluaXtuinpuWPkQogICAgICBpZiAoT2JqZWN0LmtleXMoc29ydGVyKS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5zb3J0ZXIuY29sdW1uID0gc29ydGVyLmZpZWxkCiAgICAgICAgdGhpcy5zb3J0ZXIub3JkZXIgPSAnYXNjZW5kJyA9PSBzb3J0ZXIub3JkZXIgPyAnYXNjJyA6ICdkZXNjJwogICAgICB9CiAgICAgIHRoaXMudGFibGUucGFnaW5hdGlvbiA9IHBhZ2luYXRpb24KICAgICAgdGhpcy5sb2FkRGF0YSgpCiAgICB9LAogICAgaGFuZGxlQ2FuY2VsKCkgewogICAgICB0aGlzLmNsb3NlKCkKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIGlmKCF0aGlzLm11bHRpKXsKICAgICAgICBpZih0aGlzLnRhYmxlLnNlbGVjdGlvblJvd3MgJiYgdGhpcy50YWJsZS5zZWxlY3Rpb25Sb3dzLmxlbmd0aD4xKXsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup5LiA5p2h6K6w5b2VIikKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfQogICAgICBpZighdGhpcy50YWJsZS5zZWxlY3Rpb25Sb3dzIHx8IHRoaXMudGFibGUuc2VsZWN0aW9uUm93cy5sZW5ndGg9PTApewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup5LiA5p2h6K6w5b2VIikKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdvaycsIHRoaXMudGFibGUuc2VsZWN0aW9uUm93cyk7CiAgICAgIHRoaXMuY2xvc2UoKQogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5vbkNsZWFyU2VsZWN0ZWQoKQogICAgfSwKICAgIHNob3coKXsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLmxvYWRDb2x1bW5zSW5mbygpCiAgICB9LAogICAgaGFuZGxlVG9nZ2xlU2VhcmNoKCl7CiAgICAgIHRoaXMudG9nZ2xlU2VhcmNoU3RhdHVzID0gIXRoaXMudG9nZ2xlU2VhcmNoU3RhdHVzOwogICAgfSwKICAgIHNlYXJjaEJ5cXVlcnkoKXsKICAgICAgdGhpcy5sb2FkRGF0YSgxKTsKICAgIH0sCiAgICBvbmx5UmVsb2FkKCl7CiAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgIH0sCiAgICBzZWFyY2hSZXNldCgpewogICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5UGFyYW0pLmZvckVhY2goa2V5PT57CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtW2tleV09IiIKICAgICAgfSkKICAgICAgdGhpcy5sb2FkRGF0YSgxKTsKICAgIH0sCiAgICBvbkNsZWFyU2VsZWN0ZWQoKXsKICAgICAgdGhpcy50YWJsZS5zZWxlY3RlZFJvd0tleXMgPSBbXQogICAgICB0aGlzLnRhYmxlLnNlbGVjdGlvblJvd3MgPSBbXQogICAgfSwKICAgIGNvbWJpbmVSb3dLZXkocmVjb3JkKXsKICAgICAgbGV0IHJlcyA9ICcnCiAgICAgICBPYmplY3Qua2V5cyhyZWNvcmQpLmZvckVhY2goa2V5PT57CiAgICAgICAgIHJlcys9cmVjb3JkW2tleV0KICAgICAgIH0pCiAgICAgIGlmKHJlcy5sZW5ndGg+NTApewogICAgICAgIHJlcyA9IHJlcy5zdWJzdHJpbmcoMCw1MCkKICAgICAgfQogICAgICByZXR1cm4gcmVzCiAgICB9LAoKICAgIGNsaWNrVGhlbkNoZWNrKHJlY29yZCl7CiAgICAgIHJldHVybiB7CiAgICAgICAgb246IHsKICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgIGxldCByb3dLZXkgPSB0aGlzLmNvbWJpbmVSb3dLZXkocmVjb3JkKQogICAgICAgICAgICBpZighdGhpcy50YWJsZS5zZWxlY3RlZFJvd0tleXMgfHwgdGhpcy50YWJsZS5zZWxlY3RlZFJvd0tleXMubGVuZ3RoPT0wKXsKICAgICAgICAgICAgICBsZXQgYXJyMT1bXSxhcnIyPVtdCiAgICAgICAgICAgICAgYXJyMS5wdXNoKHJlY29yZCkKICAgICAgICAgICAgICBhcnIyLnB1c2gocm93S2V5KQogICAgICAgICAgICAgIHRoaXMudGFibGUuc2VsZWN0ZWRSb3dLZXlzPWFycjIKICAgICAgICAgICAgICB0aGlzLnRhYmxlLnNlbGVjdGlvblJvd3M9YXJyMQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICBpZih0aGlzLnRhYmxlLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKHJvd0tleSk8MCl7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnNlbGVjdGVkUm93S2V5cy5wdXNoKHJvd0tleSkKICAgICAgICAgICAgICAgIHRoaXMudGFibGUuc2VsZWN0aW9uUm93cy5wdXNoKHJlY29yZCkKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGxldCByb3dLZXlfaW5kZXggPSB0aGlzLnRhYmxlLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKHJvd0tleSkKICAgICAgICAgICAgICAgIHRoaXMudGFibGUuc2VsZWN0ZWRSb3dLZXlzLnNwbGljZShyb3dLZXlfaW5kZXgsMSk7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnNlbGVjdGlvblJvd3Muc3BsaWNlKHJvd0tleV9pbmRleCwxKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL+mYsuatouWtl+WFuOS4reacieWeg+WcvuaVsOaNrgogICAgaW5pdERpY3RPcHRpb25EYXRhKGRpY3RPcHRpb25zKXsKICAgICAgbGV0IG9iaiA9IHsgfQogICAgICBPYmplY3Qua2V5cyhkaWN0T3B0aW9ucykubWFwKGs9PnsKICAgICAgICBvYmpba10gPSBkaWN0T3B0aW9uc1trXS5maWx0ZXIoaXRlbT0+ewogICAgICAgICAgcmV0dXJuIGl0ZW0hPW51bGwKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuZGljdE9wdGlvbnMgID0gb2JqCiAgICB9CgogIH0KfQo="},{"version":3,"sources":["JPopupOnlReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"JPopupOnlReport.vue","sourceRoot":"src/components/jeecg/modal","sourcesContent":["<template>\r\n  <j-modal\r\n    :title=\"title\"\r\n    :width=\"modalWidth\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    switchFullscreen\r\n    wrapClassName=\"j-popup-modal\"\r\n    @ok=\"handleSubmit\"\r\n    @cancel=\"handleCancel\"\r\n    cancelText=\"关闭\">\r\n\r\n    <div class=\"table-page-search-wrapper\">\r\n      <a-form layout=\"inline\" @keyup.enter.native=\"searchByquery\">\r\n        <a-row :gutter=\"24\" v-if=\"showSearchFlag\">\r\n          <template v-for=\"(item,index) in queryInfo\">\r\n            <template v-if=\" item.hidden==='1' \">\r\n              <a-col :md=\"8\" :sm=\"24\" :key=\" 'query'+index \" v-show=\"toggleSearchStatus\">\r\n                <online-query-form-item :queryParam=\"queryParam\" :item=\"item\" :dictOptions=\"dictOptions\"></online-query-form-item>\r\n              </a-col>\r\n            </template>\r\n            <template v-else>\r\n              <a-col :md=\"8\" :sm=\"24\" :key=\" 'query'+index \">\r\n                <online-query-form-item :queryParam=\"queryParam\" :item=\"item\" :dictOptions=\"dictOptions\"></online-query-form-item>\r\n              </a-col>\r\n            </template>\r\n          </template>\r\n\r\n          <a-col :md=\"8\" :sm=\"8\">\r\n            <span style=\"float: left;overflow: hidden;\" class=\"table-page-search-submitButtons\">\r\n              <a-button type=\"primary\" @click=\"searchByquery\" icon=\"search\">查询</a-button>\r\n              <a-button type=\"primary\" @click=\"searchReset\" icon=\"reload\" style=\"margin-left: 8px\">重置</a-button>\r\n              <a @click=\"handleToggleSearch\" style=\"margin-left: 8px\">\r\n                {{ toggleSearchStatus ? '收起' : '展开' }}\r\n                <a-icon :type=\"toggleSearchStatus ? 'up' : 'down'\"/>\r\n              </a>\r\n            </span>\r\n          </a-col>\r\n\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n\r\n    <div class=\"ant-alert ant-alert-info\" style=\"margin-bottom: 16px;\">\r\n      <i class=\"anticon anticon-info-circle ant-alert-icon\"></i>\r\n      已选择&nbsp;<a style=\"font-weight: 600\">{{ table.selectedRowKeys.length }}</a>项&nbsp;&nbsp;\r\n      <a style=\"margin-left: 24px\" @click=\"onClearSelected\">清空</a>\r\n\r\n      <a v-if=\"!showSearchFlag\" style=\"margin-left: 24px\" @click=\"onlyReload\">刷新</a>\r\n    </div>\r\n\r\n    <a-table\r\n      ref=\"table\"\r\n      size=\"middle\"\r\n      bordered\r\n      :rowKey=\"combineRowKey\"\r\n      :columns=\"table.columns\"\r\n      :dataSource=\"table.dataSource\"\r\n      :pagination=\"table.pagination\"\r\n      :loading=\"table.loading\"\r\n      :rowSelection=\"{fixed:true,selectedRowKeys: table.selectedRowKeys, onChange: handleChangeInTableSelect}\"\r\n      @change=\"handleChangeInTable\"\r\n      style=\"min-height: 300px\"\r\n      :scroll=\"tableScroll\"\r\n      :customRow=\"clickThenCheck\">\r\n    </a-table>\r\n\r\n\r\n  </j-modal>\r\n</template>\r\n\r\n<script>\r\n  import { getAction } from '@/api/manage'\r\n  import {filterObj} from '@/utils/util'\r\n  import { filterMultiDictText } from '@/components/dict/JDictSelectUtil'\r\n  import { httpGroupRequest } from '@/api/GroupRequest.js'\r\n\r\n  const MODAL_WIDTH = 1200;\r\n  export default {\r\n    name: 'JPopupOnlReport',\r\n    props: ['multi', 'code', 'groupId', 'param'],\r\n    components:{\r\n    },\r\n    data(){\r\n      return {\r\n        visible:false,\r\n        title:\"\",\r\n        confirmLoading:false,\r\n        queryInfo:[],\r\n        toggleSearchStatus:false,\r\n        queryParam:{\r\n\r\n        },\r\n        dictOptions: {},\r\n        url: {\r\n          getColumns: '/online/cgreport/api/getRpColumns/',\r\n          getData: '/online/cgreport/api/getData/',\r\n          getQueryInfo: '/online/cgreport/api/getQueryInfo/'\r\n        },\r\n        table: {\r\n          loading: true,\r\n          // 表头\r\n          columns: [],\r\n          //数据集\r\n          dataSource: [],\r\n          // 选择器\r\n          selectedRowKeys: [],\r\n          selectionRows: [],\r\n          // 分页参数\r\n          pagination: {\r\n            current: 1,\r\n            pageSize: 10,\r\n            pageSizeOptions: ['10', '20', '30'],\r\n            showTotal: (total, range) => {\r\n              return range[0] + '-' + range[1] + ' 共' + total + '条'\r\n            },\r\n            showQuickJumper: true,\r\n            showSizeChanger: true,\r\n            total: 0\r\n          }\r\n        },\r\n        cgRpConfigId:\"\",\r\n        modalWidth:MODAL_WIDTH,\r\n        tableScroll:{x:MODAL_WIDTH-100},\r\n        dynamicParam:{}\r\n\r\n      }\r\n    },\r\n    mounted() {\r\n      //this.loadColumnsInfo()\r\n    },\r\n    watch: {\r\n      code() {\r\n        this.loadColumnsInfo()\r\n      },\r\n      param:{\r\n        deep:true,\r\n        handler(){\r\n          this.dynamicParamHandler()\r\n          this.loadData();\r\n        },\r\n      }\r\n    },\r\n    computed:{\r\n      showSearchFlag(){\r\n        return this.queryInfo && this.queryInfo.length>0\r\n      }\r\n    },\r\n    methods:{\r\n      loadColumnsInfo(){\r\n        let url = `${this.url.getColumns}${this.code}`\r\n        //缓存key\r\n        let groupIdKey\r\n        if (this.groupId) {\r\n          groupIdKey = this.groupId + url\r\n        }\r\n        httpGroupRequest(() => getAction(url), groupIdKey).then(res => {\r\n          if(res.success){\r\n            this.initDictOptionData(res.result.dictOptions);\r\n            this.cgRpConfigId = res.result.cgRpConfigId\r\n            this.title = res.result.cgRpConfigName\r\n            let currColumns = res.result.columns\r\n            for(let a=0;a<currColumns.length;a++){\r\n              if(currColumns[a].customRender){\r\n                let dictCode = currColumns[a].customRender;\r\n                currColumns[a].customRender=(text)=>{\r\n                  return filterMultiDictText(this.dictOptions[dictCode], text+\"\");\r\n                }\r\n              }\r\n            }\r\n            this.table.columns = [...currColumns]\r\n            this.initQueryInfo()\r\n          }\r\n        })\r\n      },\r\n      initQueryInfo() {\r\n        let url = `${this.url.getQueryInfo}${this.cgRpConfigId}`\r\n        //缓存key\r\n        let groupIdKey\r\n        if (this.groupId) {\r\n          groupIdKey = this.groupId + url\r\n        }\r\n        httpGroupRequest(() => getAction(url), groupIdKey).then((res) => {\r\n          // console.log(\"获取查询条件\", res);\r\n          if (res.success) {\r\n            this.dynamicParamHandler(res.result)\r\n            this.queryInfo = res.result\r\n            //查询条件加载后再请求数据\r\n            this.loadData(1)\r\n          } else {\r\n            this.$message.warning(res.message)\r\n          }\r\n        })\r\n      },\r\n      //处理动态参数\r\n      dynamicParamHandler(arr){\r\n        if(arr && arr.length>0){\r\n          //第一次加载查询条件前 初始化queryParam为空对象\r\n          let queryTemp = {}\r\n          for(let item of arr){\r\n            if(item.mode==='single'){\r\n              queryTemp[item.field] = ''\r\n            }\r\n          }\r\n          this.queryParam = {...queryTemp}\r\n        }\r\n        let dynamicTemp = {}\r\n        if(this.param){\r\n          Object.keys(this.param).map(key=>{\r\n            let str = this.param[key]\r\n            if(key in this.queryParam){\r\n              if(str && str.startsWith(\"'\") && str.endsWith(\"'\")){\r\n                str = str.substring(1,str.length-1)\r\n              }\r\n              //如果查询条件包含参数 设置值\r\n              this.queryParam[key]=str\r\n            }\r\n            dynamicTemp[key] = this.param[key]\r\n          })\r\n        }\r\n        this.dynamicParam = {...dynamicTemp}\r\n      },\r\n      loadData(arg) {\r\n        if (arg == 1) {\r\n          this.table.pagination.current = 1\r\n        }\r\n        let params = this.getQueryParams();//查询条件\r\n        this.table.loading = true\r\n        let url = `${this.url.getData}${this.cgRpConfigId}`\r\n        //缓存key\r\n        let groupIdKey\r\n        if (this.groupId) {\r\n          groupIdKey = this.groupId + url + JSON.stringify(params)\r\n        }\r\n        httpGroupRequest(() => getAction(url, params), groupIdKey).then(res => {\r\n          this.table.loading = false\r\n          // console.log(\"daa\",res)\r\n          let data = res.result\r\n          if (data) {\r\n            this.table.pagination.total = Number(data.total)\r\n            this.table.dataSource = data.records\r\n          } else {\r\n            this.table.pagination.total = 0\r\n            this.table.dataSource = []\r\n          }\r\n        })\r\n      },\r\n      getQueryParams() {\r\n        let paramTarget = {}\r\n        if(this.dynamicParam){\r\n          //处理自定义参数\r\n         Object.keys(this.dynamicParam).map(key=>{\r\n           paramTarget['self_'+key] = this.dynamicParam[key]\r\n         })\r\n        }\r\n        let param = Object.assign(paramTarget, this.queryParam, this.sorter);\r\n        param.pageNo = this.table.pagination.current;\r\n        param.pageSize = this.table.pagination.pageSize;\r\n        return filterObj(param);\r\n      },\r\n      handleChangeInTableSelect(selectedRowKeys, selectionRows) {\r\n        //update-begin-author:taoyan date:2020902 for:【issue】开源online的几个问题 LOWCOD-844\r\n        if(!selectedRowKeys || selectedRowKeys.length==0){\r\n          this.table.selectionRows = []\r\n        }else if(selectedRowKeys.length == selectionRows.length){\r\n          this.table.selectionRows = selectionRows\r\n        }else{\r\n          //当两者长度不一的时候 需要判断\r\n          let keys = this.table.selectedRowKeys\r\n          let rows = this.table.selectionRows;\r\n          //这个循环 添加新的记录\r\n          for(let i=0;i<selectionRows.length;i++){\r\n            let combineKey = this.combineRowKey(selectionRows[i])\r\n            if(keys.indexOf(combineKey)<0){\r\n              //如果 原来的key 不包含当前记录 push\r\n              rows.push(selectionRows[i])\r\n            }\r\n          }\r\n          //这个循环 移除取消选中的数据\r\n          this.table.selectionRows = rows.filter(item=>{\r\n            let combineKey = this.combineRowKey(item)\r\n            return selectedRowKeys.indexOf(combineKey)>=0\r\n          })\r\n        }\r\n        //update-end-author:taoyan date:2020902 for:【issue】开源online的几个问题 LOWCOD-844\r\n        this.table.selectedRowKeys = selectedRowKeys\r\n      },\r\n      handleChangeInTable(pagination, filters, sorter) {\r\n        //分页、排序、筛选变化时触发\r\n        if (Object.keys(sorter).length > 0) {\r\n          this.sorter.column = sorter.field\r\n          this.sorter.order = 'ascend' == sorter.order ? 'asc' : 'desc'\r\n        }\r\n        this.table.pagination = pagination\r\n        this.loadData()\r\n      },\r\n      handleCancel() {\r\n        this.close()\r\n      },\r\n      handleSubmit() {\r\n        if(!this.multi){\r\n          if(this.table.selectionRows && this.table.selectionRows.length>1){\r\n            this.$message.warning(\"请选择一条记录\")\r\n            return false\r\n          }\r\n        }\r\n        if(!this.table.selectionRows || this.table.selectionRows.length==0){\r\n          this.$message.warning(\"请选择一条记录\")\r\n          return false\r\n        }\r\n        this.$emit('ok', this.table.selectionRows);\r\n        this.close()\r\n      },\r\n      close() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.onClearSelected()\r\n      },\r\n      show(){\r\n        this.visible = true\r\n        this.loadColumnsInfo()\r\n      },\r\n      handleToggleSearch(){\r\n        this.toggleSearchStatus = !this.toggleSearchStatus;\r\n      },\r\n      searchByquery(){\r\n        this.loadData(1);\r\n      },\r\n      onlyReload(){\r\n        this.loadData();\r\n      },\r\n      searchReset(){\r\n        Object.keys(this.queryParam).forEach(key=>{\r\n          this.queryParam[key]=\"\"\r\n        })\r\n        this.loadData(1);\r\n      },\r\n      onClearSelected(){\r\n        this.table.selectedRowKeys = []\r\n        this.table.selectionRows = []\r\n      },\r\n      combineRowKey(record){\r\n        let res = ''\r\n         Object.keys(record).forEach(key=>{\r\n           res+=record[key]\r\n         })\r\n        if(res.length>50){\r\n          res = res.substring(0,50)\r\n        }\r\n        return res\r\n      },\r\n\r\n      clickThenCheck(record){\r\n        return {\r\n          on: {\r\n            click: () => {\r\n              let rowKey = this.combineRowKey(record)\r\n              if(!this.table.selectedRowKeys || this.table.selectedRowKeys.length==0){\r\n                let arr1=[],arr2=[]\r\n                arr1.push(record)\r\n                arr2.push(rowKey)\r\n                this.table.selectedRowKeys=arr2\r\n                this.table.selectionRows=arr1\r\n              }else{\r\n                if(this.table.selectedRowKeys.indexOf(rowKey)<0){\r\n                  this.table.selectedRowKeys.push(rowKey)\r\n                  this.table.selectionRows.push(record)\r\n                }else{\r\n                  let rowKey_index = this.table.selectedRowKeys.indexOf(rowKey)\r\n                  this.table.selectedRowKeys.splice(rowKey_index,1);\r\n                  this.table.selectionRows.splice(rowKey_index,1);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      //防止字典中有垃圾数据\r\n      initDictOptionData(dictOptions){\r\n        let obj = { }\r\n        Object.keys(dictOptions).map(k=>{\r\n          obj[k] = dictOptions[k].filter(item=>{\r\n            return item!=null\r\n          });\r\n        });\r\n        this.dictOptions  = obj\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}