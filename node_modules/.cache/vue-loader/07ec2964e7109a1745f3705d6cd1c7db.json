{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\zbtest\\module\\zbjcaddModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\zbtest\\module\\zbjcaddModal.vue","mtime":1615948822595},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBodHRwQWN0aW9uIH0gZnJvbSAnQC9hcGkvbWFuYWdlJwppbXBvcnQgcGljayBmcm9tICdsb2Rhc2gucGljaycKaW1wb3J0IEpEaWN0U2VsZWN0VGFnIGZyb20gIkAvY29tcG9uZW50cy9kaWN0L0pEaWN0U2VsZWN0VGFnIgppbXBvcnQgSkRhdGUgZnJvbSAnQC9jb21wb25lbnRzL2plZWNnL0pEYXRlJyAgCgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEaWN0VnVlVGVzdE1vZGFsIiwKICBjb21wb25lbnRzOiB7IAogICAgSkRpY3RTZWxlY3RUYWcsCiAgICBKRGF0ZQogIH0sCgogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICB0aXRsZToi5pON5L2cIiwKICAgICAgd2lkdGg6ODAwLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgbW9kZWw6IHt9LAogICAgICBsYWJlbENvbDogewogICAgICAgIHhzOiB7IHNwYW46IDE4IH0sCiAgICAgICAgc206IHsgc3BhbjogNSB9LAogICAgICB9LAogICAgICB3cmFwcGVyQ29sOiB7CiAgICAgICAgeHM6IHsgc3BhbjogMjQgfSwKICAgICAgICBzbTogeyBzcGFuOiAxNiB9LAogICAgICB9LAogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsCiAgICAgIHVybDogewogICAgICAgIGV4ZWN1dGU6ICIvc291dGhDaGVja1Rhc2svZXhlY3V0ZUNoZWNrVGFzayIsCiAgICAgIH0sCiAgICAgIHRhc2tJZDogIiIsCiAgICAgIGNoZWNrV2F5OiIiLAogICAgICB0aW1lMToiIiwKICAgICAgdGltZTI6IiIsCiAgICAgIGZpbGVMaXN0OltdCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZCAoKSB7CiAgICAgIHRoaXMuZWRpdCh7fSk7CiAgICB9LAogICAgZWRpdCAocmVjb3JkKSB7CiAgICAgIGlmKHJlY29yZC5jaGVja1Jlc3VsdFN0YXR1cyA9PTApewogICAgICAgIHJlY29yZC5jaGVja1Jlc3VsdFN0YXR1cyA9IG51bGwKICAgICAgfQogICAgICB0aGlzLmZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5tb2RlbCA9IE9iamVjdC5hc3NpZ24oe30sIHJlY29yZCk7CiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZShwaWNrKHRoaXMubW9kZWwsJ3N1Ym9yZGluYXRlVW5pdHMnLCdzdGFydFRpbWUnLCdyZXNwb25zZVRpbWUnLCdlbmRUaW1lJywnY2hlY2tSZXN1bHQnLCdjaGVja1Jlc3VsdFN0YXR1cycpKQogICAgICB9KQogICAgfSwKICAgIGNsb3NlICgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlT2sgKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpczsKICAgICAgLy8g6Kem5Y+R6KGo5Y2V6aqM6K+BCiAgICAgIHRoaXMuZm9ybS52YWxpZGF0ZUZpZWxkcygoZXJyLCB2YWx1ZXMpID0+IHsKICAgICAgICB2YWx1ZXMudGFza0lkID0gdGhpcy50YXNrSWQ7CiAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgIHRoYXQuY29uZmlybUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgbGV0IGZvcm1EYXRhID0gT2JqZWN0LmFzc2lnbih0aGlzLm1vZGVsLCB2YWx1ZXMpOwogICAgICAgICAgLy/mlofku7bot6/lvoQKICAgICAgICAgIGZvcm1EYXRhLmNoZWNrUmVzdWx0RmlsZSA9IHRoaXMuZmlsZUxpc3RbMF0KICAgICAgICAgIGNvbnNvbGUubG9nKCLooajljZXmj5DkuqTmlbDmja4iLGZvcm1EYXRhKQogICAgICAgICAgaHR0cEFjdGlvbih0aGlzLnVybC5leGVjdXRlLGZvcm1EYXRhLCdwb3N0JykudGhlbigocmVzKT0+ewogICAgICAgICAgICBpZihyZXMuc3VjY2Vzcyl7CiAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICB0aGF0LiRlbWl0KCdvaycpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLndhcm5pbmcocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgdGhhdC5jb25maXJtTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGF0Lm1vZGVsPXt9CiAgICAgICAgICAgIHRoYXQuZmlsZUxpc3QgPSBbXQogICAgICAgICAgICB0aGF0LmNsb3NlKCk7CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgIAogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUNhbmNlbCAoKSB7CiAgICAgIHRoaXMuY2xvc2UoKQogICAgfSwKICAgIHBvcHVwQ2FsbGJhY2socm93KXsKICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHBpY2socm93LCduYW1lJykpCiAgICB9LAoKICB9Cn0K"},{"version":3,"sources":["zbjcaddModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"zbjcaddModal.vue","sourceRoot":"src/views/zbtest/module","sourcesContent":["<template>\r\n  <j-modal\r\n    :title=\"title\"\r\n    :width=\"width\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    switchFullscreen\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n    cancelText=\"关闭\">\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-form :form=\"form\" >\r\n\r\n        <a-form-item label=\"隶属上级单位\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n            <a-input  v-decorator=\"['subordinateUnits']\" tyle=\"width:100%\"  :disabled=\"true\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item :label=\"time1\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n            <j-date :placeholder=\"'请选择'+time1\" v-decorator=\"['startTime', { rules: [{ required: true, message: this.time1+'为必填项!' }] }]\"  style=\"width:100%\"   :showTime=\"true\" dateFormat=\"YYYY-MM-DD HH:mm:ss\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"接通时间\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" v-if=\"checkWay =='View'\">\r\n            <j-date placeholder=\"请选择接通时间\" v-decorator=\"['responseTime', { rules: [{ required: true, message:'接通时间为必填项!' }] }]\"  style=\"width:100%\"  :showTime=\"true\" dateFormat=\"YYYY-MM-DD HH:mm:ss\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item :label=\"time2\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n            <j-date :placeholder=\"'请选择'+time2\" v-decorator=\"['endTime', { rules: [{ required: true, message:this.time2+'为必填项!' }] }]\"  style=\"width:100%\"   :showTime=\"true\" dateFormat=\"YYYY-MM-DD HH:mm:ss\"  />\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"检查模板\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" v-if=\"checkWay == 'OperationalData'\">\r\n            <a-select   placeholder=\"请选择作战数据模板\">\r\n               <a-select-option value=\"jack\">模板一</a-select-option>\r\n                <a-select-option value=\"lucy\"> 模板二</a-select-option>\r\n                <a-select-option value=\"Yiminghe\"> 模板三 </a-select-option>\r\n            </a-select>\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"上传文件\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" v-if=\"checkWay == 'OperationalData'\">\r\n           <div >\r\n              <j-upload v-model=\"fileList\" :number=\"1\">\r\n                <div>aaaaaaaaaaaaaaaa</div>\r\n              </j-upload>\r\n              <j-ellipsis :value=\"fileList\" :length=\"30\" v-if=\"fileList.length>0\"/>\r\n           </div>\r\n        </a-form-item>\r\n        <a-form-item label=\"数据对比选择\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" v-if=\"checkWay == 'OperationalData'\">\r\n           <div class=\"form-item\">\r\n              <a-row>\r\n                <a-col :span=\"12\">\r\n                  <a-checkbox @change=\"onChange\">211K数据 </a-checkbox> \r\n                </a-col>\r\n              </a-row>\r\n\r\n              <a-row>\r\n                <a-col :span=\"12\">\r\n                  <a-checkbox @change=\"onChange\">周实力数据 </a-checkbox>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-select placeholder=\"请选择周实力表\"  >\r\n                    <a-select-option value=\"jack\">XXX周实力表</a-select-option>\r\n                    <a-select-option value=\"lucy\"> XXX周实力表</a-select-option>\r\n                    <a-select-option value=\"Yiminghe\"> XXX周实力表 </a-select-option>\r\n                  </a-select>                \r\n                </a-col>\r\n              </a-row>\r\n\r\n              <a-row>\r\n                <a-col :span=\"6\">\r\n                  <a-button type=\"primary\"  @click=\"searchQuery\" >对比 </a-button>\r\n                </a-col>\r\n              </a-row>\r\n           </div>\r\n        </a-form-item>   \r\n\r\n        <a-form-item label=\"抽查过程记录\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-textarea\r\n              v-decorator=\"['checkResult']\"\r\n              :auto-size=\"{ minRows: 8, maxRows: 20 }\"\r\n              :maxLength=\"400\"\r\n          />\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"问题数量\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\r\n          <a-input  v-decorator=\"['checkResultStatus']\" placeholder=\"请输入问题数量\" tyle=\"width:100%\" />\r\n        </a-form-item>\r\n        \r\n      </a-form>\r\n    </a-spin>\r\n  </j-modal>\r\n</template>\r\n\r\n<script>\r\n\r\n  import { httpAction } from '@/api/manage'\r\n  import pick from 'lodash.pick'\r\n  import JDictSelectTag from \"@/components/dict/JDictSelectTag\"\r\n  import JDate from '@/components/jeecg/JDate'  \r\n\r\n\r\n  export default {\r\n    name: \"DictVueTestModal\",\r\n    components: { \r\n      JDictSelectTag,\r\n      JDate\r\n    },\r\n  \r\n    data () {\r\n      return {\r\n        form: this.$form.createForm(this),\r\n        title:\"操作\",\r\n        width:800,\r\n        visible: false,\r\n        model: {},\r\n        labelCol: {\r\n          xs: { span: 18 },\r\n          sm: { span: 5 },\r\n        },\r\n        wrapperCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 16 },\r\n        },\r\n        confirmLoading: false,\r\n        url: {\r\n          execute: \"/southCheckTask/executeCheckTask\",\r\n        },\r\n        taskId: \"\",\r\n        checkWay:\"\",\r\n        time1:\"\",\r\n        time2:\"\",\r\n        fileList:[]\r\n      }\r\n    },\r\n    created () {\r\n    },\r\n    methods: {\r\n      add () {\r\n        this.edit({});\r\n      },\r\n      edit (record) {\r\n        if(record.checkResultStatus ==0){\r\n          record.checkResultStatus = null\r\n        }\r\n        this.form.resetFields();\r\n        this.model = Object.assign({}, record);\r\n        this.visible = true;\r\n        this.$nextTick(() => {\r\n            this.form.setFieldsValue(pick(this.model,'subordinateUnits','startTime','responseTime','endTime','checkResult','checkResultStatus'))\r\n        })\r\n      },\r\n      close () {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n      },\r\n      handleOk () {\r\n        const that = this;\r\n        // 触发表单验证\r\n        this.form.validateFields((err, values) => {\r\n          values.taskId = this.taskId;\r\n          if (!err) {\r\n            that.confirmLoading = true;\r\n            let formData = Object.assign(this.model, values);\r\n            //文件路径\r\n            formData.checkResultFile = this.fileList[0]\r\n            console.log(\"表单提交数据\",formData)\r\n            httpAction(this.url.execute,formData,'post').then((res)=>{\r\n              if(res.success){\r\n                that.$message.success(res.message);\r\n                that.$emit('ok');\r\n              }else{\r\n                that.$message.warning(res.message);\r\n              }\r\n            }).finally(() => {\r\n              that.confirmLoading = false;\r\n              that.model={}\r\n              that.fileList = []\r\n              that.close();\r\n            })\r\n          }\r\n         \r\n        })\r\n      },\r\n      handleCancel () {\r\n        this.close()\r\n      },\r\n      popupCallback(row){\r\n        this.form.setFieldsValue(pick(row,'name'))\r\n      },\r\n\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n.form-item{\r\n  margin-left:15px\r\n}\r\n</style>"]}]}