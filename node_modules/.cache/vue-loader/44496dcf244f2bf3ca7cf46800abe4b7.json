{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\jeecg\\modules\\JeecgOrderModalForJEditableTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\jeecg\\modules\\JeecgOrderModalForJEditableTable.vue","mtime":1615948819254},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgSkVkaXRhYmxlVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2plZWNnL0pFZGl0YWJsZVRhYmxlJwppbXBvcnQgeyBGb3JtVHlwZXMsIFZBTElEQVRFX05PX1BBU1NFRCwgZ2V0UmVmUHJvbWlzZSwgdmFsaWRhdGVGb3JtQW5kVGFibGVzIH0gZnJvbSAnQC91dGlscy9KRWRpdGFibGVUYWJsZVV0aWwnCmltcG9ydCB7IGh0dHBBY3Rpb24sIGdldEFjdGlvbiB9IGZyb20gJ0AvYXBpL21hbmFnZScKaW1wb3J0IEpEYXRlIGZyb20gJ0AvY29tcG9uZW50cy9qZWVjZy9KRGF0ZScKaW1wb3J0IHBpY2sgZnJvbSAnbG9kYXNoLnBpY2snCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdKZWVjZ09yZGVyTW9kYWxGb3JKRWRpdGFibGVUYWJsZScsCiAgY29tcG9uZW50czogewogICAgSkRhdGUsIEpFZGl0YWJsZVRhYmxlCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICfmk43kvZwnLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsCiAgICAgIG1vZGVsOiB7fSwKICAgICAgbGFiZWxDb2w6IHsKICAgICAgICB4czogeyBzcGFuOiAyNCB9LAogICAgICAgIHNtOiB7IHNwYW46IDYgfQogICAgICB9LAogICAgICB3cmFwcGVyQ29sOiB7CiAgICAgICAgeHM6IHsgc3BhbjogMjQgfSwKICAgICAgICBzbTogeyBzcGFuOiAyNCAtIDYgfQogICAgICB9LAogICAgICBhY3RpdmVLZXk6ICcxJywKICAgICAgLy8g5a6i5oi35L+h5oGvCiAgICAgIHRhYmxlMTogewogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIGRhdGFTb3VyY2U6IFtdLAogICAgICAgIGNvbHVtbnM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdGl0bGU6ICflrqLmiLflkI0nLAogICAgICAgICAgICBrZXk6ICduYW1lJywKICAgICAgICAgICAgd2lkdGg6ICcyNCUnLAogICAgICAgICAgICB0eXBlOiBGb3JtVHlwZXMuaW5wdXQsCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJHt0aXRsZX0nLAogICAgICAgICAgICB2YWxpZGF0ZVJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJyR7dGl0bGV95LiN6IO95Li656m6JyB9XQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdGl0bGU6ICfmgKfliKsnLAogICAgICAgICAgICBrZXk6ICdzZXgnLAogICAgICAgICAgICB3aWR0aDogJzE4JScsCiAgICAgICAgICAgIHR5cGU6IEZvcm1UeXBlcy5zZWxlY3QsCiAgICAgICAgICAgIG9wdGlvbnM6IFsgLy8g5LiL5ouJ6YCJ6aG5CiAgICAgICAgICAgICAgeyB0aXRsZTogJ+eUtycsIHZhbHVlOiAnMScgfSwKICAgICAgICAgICAgICB7IHRpdGxlOiAn5aWzJywgdmFsdWU6ICcyJyB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJHt0aXRsZX0nCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0aXRsZTogJ+i6q+S7veivgeWPtycsCiAgICAgICAgICAgIGtleTogJ2lkY2FyZCcsCiAgICAgICAgICAgIHdpZHRoOiAnMjQlJywKICAgICAgICAgICAgdHlwZTogRm9ybVR5cGVzLmlucHV0LAogICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpSR7dGl0bGV9JywKICAgICAgICAgICAgdmFsaWRhdGVSdWxlczogW3sKICAgICAgICAgICAgICBwYXR0ZXJuOiAnXlxcZHs2fSgxOHwxOXwyMCk/XFxkezJ9KDBbMS05XXwxWzAxMl0pKDBbMS05XXxbMTJdXFxkfDNbMDFdKVxcZHszfShcXGR8W3hYXSkkJywKICAgICAgICAgICAgICBtZXNzYWdlOiAnJHt0aXRsZX3moLzlvI/kuI3mraPnoa4nCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0aXRsZTogJ+aJi+acuuWPtycsCiAgICAgICAgICAgIGtleTogJ3RlbHBob25lJywKICAgICAgICAgICAgd2lkdGg6ICcyNCUnLAogICAgICAgICAgICB0eXBlOiBGb3JtVHlwZXMuaW5wdXQsCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJHt0aXRsZX0nLAogICAgICAgICAgICB2YWxpZGF0ZVJ1bGVzOiBbewogICAgICAgICAgICAgIHBhdHRlcm46ICdeMSgzfDR8NXw3fDgpXFxkezl9JCcsCiAgICAgICAgICAgICAgbWVzc2FnZTogJyR7dGl0bGV95qC85byP5LiN5q2j56GuJwogICAgICAgICAgICB9XQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgLy8g5py656Wo5L+h5oGvCiAgICAgIHRhYmxlMjogewogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIGRhdGFTb3VyY2U6IFtdLAogICAgICAgIGNvbHVtbnM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdGl0bGU6ICfoiKrnj63lj7cnLAogICAgICAgICAgICBrZXk6ICd0aWNrZXRDb2RlJywKICAgICAgICAgICAgd2lkdGg6ICc0MCUnLAogICAgICAgICAgICB0eXBlOiBGb3JtVHlwZXMuaW5wdXQsCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJHt0aXRsZX0nLAogICAgICAgICAgICB2YWxpZGF0ZVJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJyR7dGl0bGV95LiN6IO95Li656m6JyB9XQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdGl0bGU6ICfoiKrnj63ml7bpl7QnLAogICAgICAgICAgICBrZXk6ICd0aWNrZWN0RGF0ZScsCiAgICAgICAgICAgIHdpZHRoOiAnMzAlJywKICAgICAgICAgICAgdHlwZTogRm9ybVR5cGVzLmRhdGUsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJHt0aXRsZX0nLAogICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB1cmw6IHsKICAgICAgICBhZGQ6ICcvdGVzdC9qZWVjZ09yZGVyTWFpbi9hZGQnLAogICAgICAgIGVkaXQ6ICcvdGVzdC9qZWVjZ09yZGVyTWFpbi9lZGl0JywKICAgICAgICBvcmRlckN1c3RvbWVyTGlzdDogJy90ZXN0L2plZWNnT3JkZXJNYWluL3F1ZXJ5T3JkZXJDdXN0b21lckxpc3RCeU1haW5JZCcsCiAgICAgICAgb3JkZXJUaWNrZXRMaXN0OiAnL3Rlc3QvamVlY2dPcmRlck1haW4vcXVlcnlPcmRlclRpY2tldExpc3RCeU1haW5JZCcKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICB9LAogIG1ldGhvZHM6IHsKCiAgICAvLyDojrflj5bmiYDmnInnmoRlZGl0YWJsZVRhYmxl5a6e5L6LCiAgICBnZXRBbGxUYWJsZSgpIHsKICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFsKICAgICAgICBnZXRSZWZQcm9taXNlKHRoaXMsICdlZGl0YWJsZVRhYmxlMScpLAogICAgICAgIGdldFJlZlByb21pc2UodGhpcywgJ2VkaXRhYmxlVGFibGUyJykKICAgICAgXSkKICAgIH0sCgogICAgYWRkKCkgewogICAgICAvLyDpu5jorqTmlrDlop7kuIDmnaHmlbDmja4KICAgICAgdGhpcy5nZXRBbGxUYWJsZSgpLnRoZW4oZWRpdGFibGVUYWJsZXMgPT4gewogICAgICAgIGVkaXRhYmxlVGFibGVzWzBdLmFkZCgpCiAgICAgICAgZWRpdGFibGVUYWJsZXNbMV0uYWRkKCkKICAgICAgfSkKCiAgICAgIHRoaXMuZWRpdCh7fSkKICAgIH0sCiAgICBlZGl0KHJlY29yZCkgewogICAgICB0aGlzLnZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuYWN0aXZlS2V5ID0gJzEnCiAgICAgIHRoaXMuZm9ybS5yZXNldEZpZWxkcygpCiAgICAgIHRoaXMubW9kZWwgPSBPYmplY3QuYXNzaWduKHt9LCByZWNvcmQpCgogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHBpY2sodGhpcy5tb2RlbCwgJ29yZGVyQ29kZScsICdjdHlwZScsICdvcmRlck1vbmV5JywgJ2NvbnRlbnQnKSkKICAgICAgICAvL+aXtumXtOagvOW8j+WMlgogICAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG9yZGVyRGF0ZTogdGhpcy5tb2RlbC5vcmRlckRhdGUgPyBtb21lbnQodGhpcy5tb2RlbC5vcmRlckRhdGUpIDogbnVsbCB9KQogICAgICB9KQoKICAgICAgLy8g5Yqg6L295a2Q6KGo5pWw5o2uCiAgICAgIGlmICh0aGlzLm1vZGVsLmlkKSB7CiAgICAgICAgbGV0IHBhcmFtcyA9IHsgaWQ6IHRoaXMubW9kZWwuaWQgfQogICAgICAgIHRoaXMucmVxdWVzdFRhYmxlRGF0YSh0aGlzLnVybC5vcmRlckN1c3RvbWVyTGlzdCwgcGFyYW1zLCB0aGlzLnRhYmxlMSkKICAgICAgICB0aGlzLnJlcXVlc3RUYWJsZURhdGEodGhpcy51cmwub3JkZXJUaWNrZXRMaXN0LCBwYXJhbXMsIHRoaXMudGFibGUyKQogICAgICB9CgogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLmdldEFsbFRhYmxlKCkudGhlbihlZGl0YWJsZVRhYmxlcyA9PiB7CiAgICAgICAgZWRpdGFibGVUYWJsZXNbMF0uaW5pdGlhbGl6ZSgpCiAgICAgICAgZWRpdGFibGVUYWJsZXNbMV0uaW5pdGlhbGl6ZSgpCiAgICAgIH0pCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykKICAgIH0sCiAgICAvKiog5p+l6K+i5p+Q5LiqdGFi55qE5pWw5o2uICovCiAgICByZXF1ZXN0VGFibGVEYXRhKHVybCwgcGFyYW1zLCB0YWIpIHsKICAgICAgdGFiLmxvYWRpbmcgPSB0cnVlCiAgICAgIGdldEFjdGlvbih1cmwsIHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIHRhYi5kYXRhU291cmNlID0gcmVzLnJlc3VsdCB8fCBbXQogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICB0YWIubG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlT2soKSB7CiAgICAgIHRoaXMudmFsaWRhdGVGaWVsZHMoKQogICAgfSwKICAgIGhhbmRsZUNhbmNlbCgpIHsKICAgICAgdGhpcy5jbG9zZSgpCiAgICB9LAogICAgLyoqIEFUYWIg6YCJ6aG55Y2h5YiH5o2i5LqL5Lu2ICovCiAgICBoYW5kbGVDaGFuZ2VUYWJzKGtleSkgewogICAgICBnZXRSZWZQcm9taXNlKHRoaXMsIGBlZGl0YWJsZVRhYmxlJHtrZXl9YCkudGhlbihlZGl0YWJsZVRhYmxlID0+IHsKICAgICAgICBlZGl0YWJsZVRhYmxlLnJlc2V0U2Nyb2xsVG9wKCkKICAgICAgfSkKICAgIH0sCgogICAgLyoqIOinpuWPkeihqOWNlemqjOivgSAqLwogICAgdmFsaWRhdGVGaWVsZHMoKSB7CiAgICAgIHRoaXMuZ2V0QWxsVGFibGUoKS50aGVuKHRhYmxlcyA9PiB7CiAgICAgICAgLyoqIOS4gOasoeaAp+mqjOivgeS4u+ihqOWSjOaJgOacieeahOasoeihqCAqLwogICAgICAgIHJldHVybiB2YWxpZGF0ZUZvcm1BbmRUYWJsZXModGhpcy5mb3JtLCB0YWJsZXMpCiAgICAgIH0pLnRoZW4oYWxsVmFsdWVzID0+IHsKICAgICAgICBsZXQgZm9ybURhdGEgPSB0aGlzLmNsYXNzaWZ5SW50b0Zvcm1EYXRhKGFsbFZhbHVlcykKICAgICAgICAvLyDlj5Hotbfor7fmsYIKICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QWRkT3JFZGl0KGZvcm1EYXRhKQogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICBpZiAoZS5lcnJvciA9PT0gVkFMSURBVEVfTk9fUEFTU0VEKSB7CiAgICAgICAgICAvLyDlpoLmnpzmnInmnKrpgJrov4fooajljZXpqozor4HnmoTlrZDooajvvIzlsLHoh6rliqjot7PovazliLDlroPmiYDlnKjnmoR0YWIKICAgICAgICAgIHRoaXMuYWN0aXZlS2V5ID0gZS5pbmRleCA9PSBudWxsID8gdGhpcy5hY3RpdmVLZXkgOiAoZS5pbmRleCArIDEpLnRvU3RyaW5nKCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcihlKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvKiog5pW055CG5oiQZm9ybURhdGEgKi8KICAgIGNsYXNzaWZ5SW50b0Zvcm1EYXRhKGFsbFZhbHVlcykgewogICAgICBsZXQgb3JkZXJNYWluID0gT2JqZWN0LmFzc2lnbih0aGlzLm1vZGVsLCBhbGxWYWx1ZXMuZm9ybVZhbHVlKQogICAgICAvL+aXtumXtOagvOW8j+WMlgogICAgICBvcmRlck1haW4ub3JkZXJEYXRlID0gb3JkZXJNYWluLm9yZGVyRGF0ZSA/IG9yZGVyTWFpbi5vcmRlckRhdGUuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykgOiBudWxsCiAgICAgIHJldHVybiB7CiAgICAgICAgLi4ub3JkZXJNYWluLCAvLyDlsZXlvIAKICAgICAgICBqZWVjZ09yZGVyQ3VzdG9tZXJMaXN0OiBhbGxWYWx1ZXMudGFibGVzVmFsdWVbMF0udmFsdWVzLAogICAgICAgIGplZWNnT3JkZXJUaWNrZXRMaXN0OiBhbGxWYWx1ZXMudGFibGVzVmFsdWVbMV0udmFsdWVzCiAgICAgIH0KICAgIH0sCiAgICAvKiog5Y+R6LW35paw5aKe5oiW5L+u5pS555qE6K+35rGCICovCiAgICByZXF1ZXN0QWRkT3JFZGl0KGZvcm1EYXRhKSB7CiAgICAgIGxldCB1cmwgPSB0aGlzLnVybC5hZGQsIG1ldGhvZCA9ICdwb3N0JwogICAgICBpZiAodGhpcy5tb2RlbC5pZCkgewogICAgICAgIHVybCA9IHRoaXMudXJsLmVkaXQKICAgICAgICBtZXRob2QgPSAncHV0JwogICAgICB9CiAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSB0cnVlCiAgICAgIGh0dHBBY3Rpb24odXJsLCBmb3JtRGF0YSwgbWV0aG9kKS50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSkKICAgICAgICAgIHRoaXMuJGVtaXQoJ29rJykKICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcocmVzLm1lc3NhZ2UpCiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICB0aGlzLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["JeecgOrderModalForJEditableTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"JeecgOrderModalForJEditableTable.vue","sourceRoot":"src/views/jeecg/modules","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"1200\"\r\n    :visible=\"visible\"\r\n    :maskClosable=\"false\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\">\r\n\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-form :form=\"form\">\r\n        <!-- 主表单区域 -->\r\n        <a-row class=\"form-row\" :gutter=\"0\">\r\n          <a-col :lg=\"8\">\r\n            <a-form-item\r\n              :labelCol=\"labelCol\"\r\n              :wrapperCol=\"wrapperCol\"\r\n              label=\"订单号\">\r\n              <a-input\r\n                placeholder=\"请输入订单号\"\r\n                v-decorator=\"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]\"/>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :lg=\"8\">\r\n            <a-form-item\r\n              :labelCol=\"labelCol\"\r\n              :wrapperCol=\"wrapperCol\"\r\n              label=\"订单类型\">\r\n              <a-select placeholder=\"请选择订单类型\" v-decorator=\"['ctype',{}]\">\r\n                <a-select-option value=\"1\">国内订单</a-select-option>\r\n                <a-select-option value=\"2\">国际订单</a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :lg=\"8\">\r\n            <a-form-item\r\n              :labelCol=\"labelCol\"\r\n              :wrapperCol=\"wrapperCol\"\r\n              label=\"订单日期\">\r\n              <a-date-picker showTime format=\"YYYY-MM-DD HH:mm:ss\" style=\"width: 100%\" v-decorator=\"[ 'orderDate',{}]\"/>\r\n            </a-form-item>\r\n          </a-col>\r\n        </a-row>\r\n        <a-row class=\"form-row\" :gutter=\"0\">\r\n          <a-col :lg=\"8\">\r\n            <a-form-item\r\n              :labelCol=\"labelCol\"\r\n              :wrapperCol=\"wrapperCol\"\r\n              label=\"订单金额\">\r\n              <a-input-number placeholder=\"请输入订单金额\" style=\"width: 100%\" v-decorator=\"[ 'orderMoney', {}]\"/>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :lg=\"8\">\r\n            <a-form-item\r\n              :labelCol=\"labelCol\"\r\n              :wrapperCol=\"wrapperCol\"\r\n              label=\"订单备注\">\r\n              <a-input placeholder=\"请输入订单备注\" v-decorator=\"['content', {}]\"/>\r\n            </a-form-item>\r\n          </a-col>\r\n        </a-row>\r\n      </a-form>\r\n\r\n      <!-- 子表单区域 -->\r\n      <a-tabs v-model=\"activeKey\" @change=\"handleChangeTabs\">\r\n        <a-tab-pane tab=\"客户信息\" key=\"1\" :forceRender=\"true\">\r\n\r\n          <j-editable-table\r\n            ref=\"editableTable1\"\r\n            :loading=\"table1.loading\"\r\n            :columns=\"table1.columns\"\r\n            :dataSource=\"table1.dataSource\"\r\n            :maxHeight=\"300\"\r\n            :rowNumber=\"true\"\r\n            :rowSelection=\"true\"\r\n            :actionButton=\"true\"/>\r\n\r\n        </a-tab-pane>\r\n\r\n        <a-tab-pane tab=\"机票信息\" key=\"2\" :forceRender=\"true\">\r\n\r\n          <j-editable-table\r\n            ref=\"editableTable2\"\r\n            :loading=\"table2.loading\"\r\n            :columns=\"table2.columns\"\r\n            :dataSource=\"table2.dataSource\"\r\n            :maxHeight=\"300\"\r\n            :rowNumber=\"true\"\r\n            :rowSelection=\"true\"\r\n            :actionButton=\"true\"/>\r\n\r\n        </a-tab-pane>\r\n      </a-tabs>\r\n\r\n    </a-spin>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n\r\n  import JEditableTable from '@/components/jeecg/JEditableTable'\r\n  import { FormTypes, VALIDATE_NO_PASSED, getRefPromise, validateFormAndTables } from '@/utils/JEditableTableUtil'\r\n  import { httpAction, getAction } from '@/api/manage'\r\n  import JDate from '@/components/jeecg/JDate'\r\n  import pick from 'lodash.pick'\r\n  import moment from 'moment'\r\n\r\n  export default {\r\n    name: 'JeecgOrderModalForJEditableTable',\r\n    components: {\r\n      JDate, JEditableTable\r\n    },\r\n    data() {\r\n      return {\r\n        title: '操作',\r\n        visible: false,\r\n        form: this.$form.createForm(this),\r\n        confirmLoading: false,\r\n        model: {},\r\n        labelCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 6 }\r\n        },\r\n        wrapperCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 24 - 6 }\r\n        },\r\n        activeKey: '1',\r\n        // 客户信息\r\n        table1: {\r\n          loading: false,\r\n          dataSource: [],\r\n          columns: [\r\n            {\r\n              title: '客户名',\r\n              key: 'name',\r\n              width: '24%',\r\n              type: FormTypes.input,\r\n              defaultValue: '',\r\n              placeholder: '请输入${title}',\r\n              validateRules: [{ required: true, message: '${title}不能为空' }]\r\n            },\r\n            {\r\n              title: '性别',\r\n              key: 'sex',\r\n              width: '18%',\r\n              type: FormTypes.select,\r\n              options: [ // 下拉选项\r\n                { title: '男', value: '1' },\r\n                { title: '女', value: '2' }\r\n              ],\r\n              defaultValue: '',\r\n              placeholder: '请选择${title}'\r\n            },\r\n            {\r\n              title: '身份证号',\r\n              key: 'idcard',\r\n              width: '24%',\r\n              type: FormTypes.input,\r\n              defaultValue: '',\r\n              placeholder: '请输入${title}',\r\n              validateRules: [{\r\n                pattern: '^\\\\d{6}(18|19|20)?\\\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\\\d|3[01])\\\\d{3}(\\\\d|[xX])$',\r\n                message: '${title}格式不正确'\r\n              }]\r\n            },\r\n            {\r\n              title: '手机号',\r\n              key: 'telphone',\r\n              width: '24%',\r\n              type: FormTypes.input,\r\n              defaultValue: '',\r\n              placeholder: '请输入${title}',\r\n              validateRules: [{\r\n                pattern: '^1(3|4|5|7|8)\\\\d{9}$',\r\n                message: '${title}格式不正确'\r\n              }]\r\n            }\r\n          ]\r\n        },\r\n        // 机票信息\r\n        table2: {\r\n          loading: false,\r\n          dataSource: [],\r\n          columns: [\r\n            {\r\n              title: '航班号',\r\n              key: 'ticketCode',\r\n              width: '40%',\r\n              type: FormTypes.input,\r\n              defaultValue: '',\r\n              placeholder: '请输入${title}',\r\n              validateRules: [{ required: true, message: '${title}不能为空' }]\r\n            },\r\n            {\r\n              title: '航班时间',\r\n              key: 'tickectDate',\r\n              width: '30%',\r\n              type: FormTypes.date,\r\n              placeholder: '请选择${title}',\r\n              defaultValue: ''\r\n            }\r\n          ]\r\n        },\r\n        url: {\r\n          add: '/test/jeecgOrderMain/add',\r\n          edit: '/test/jeecgOrderMain/edit',\r\n          orderCustomerList: '/test/jeecgOrderMain/queryOrderCustomerListByMainId',\r\n          orderTicketList: '/test/jeecgOrderMain/queryOrderTicketListByMainId'\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n\r\n      // 获取所有的editableTable实例\r\n      getAllTable() {\r\n        return Promise.all([\r\n          getRefPromise(this, 'editableTable1'),\r\n          getRefPromise(this, 'editableTable2')\r\n        ])\r\n      },\r\n\r\n      add() {\r\n        // 默认新增一条数据\r\n        this.getAllTable().then(editableTables => {\r\n          editableTables[0].add()\r\n          editableTables[1].add()\r\n        })\r\n\r\n        this.edit({})\r\n      },\r\n      edit(record) {\r\n        this.visible = true\r\n        this.activeKey = '1'\r\n        this.form.resetFields()\r\n        this.model = Object.assign({}, record)\r\n\r\n        this.$nextTick(() => {\r\n          this.form.setFieldsValue(pick(this.model, 'orderCode', 'ctype', 'orderMoney', 'content'))\r\n          //时间格式化\r\n          this.form.setFieldsValue({ orderDate: this.model.orderDate ? moment(this.model.orderDate) : null })\r\n        })\r\n\r\n        // 加载子表数据\r\n        if (this.model.id) {\r\n          let params = { id: this.model.id }\r\n          this.requestTableData(this.url.orderCustomerList, params, this.table1)\r\n          this.requestTableData(this.url.orderTicketList, params, this.table2)\r\n        }\r\n\r\n      },\r\n      close() {\r\n        this.visible = false\r\n        this.getAllTable().then(editableTables => {\r\n          editableTables[0].initialize()\r\n          editableTables[1].initialize()\r\n        })\r\n        this.$emit('close')\r\n      },\r\n      /** 查询某个tab的数据 */\r\n      requestTableData(url, params, tab) {\r\n        tab.loading = true\r\n        getAction(url, params).then(res => {\r\n          tab.dataSource = res.result || []\r\n        }).finally(() => {\r\n          tab.loading = false\r\n        })\r\n      },\r\n      handleOk() {\r\n        this.validateFields()\r\n      },\r\n      handleCancel() {\r\n        this.close()\r\n      },\r\n      /** ATab 选项卡切换事件 */\r\n      handleChangeTabs(key) {\r\n        getRefPromise(this, `editableTable${key}`).then(editableTable => {\r\n          editableTable.resetScrollTop()\r\n        })\r\n      },\r\n\r\n      /** 触发表单验证 */\r\n      validateFields() {\r\n        this.getAllTable().then(tables => {\r\n          /** 一次性验证主表和所有的次表 */\r\n          return validateFormAndTables(this.form, tables)\r\n        }).then(allValues => {\r\n          let formData = this.classifyIntoFormData(allValues)\r\n          // 发起请求\r\n          return this.requestAddOrEdit(formData)\r\n        }).catch(e => {\r\n          if (e.error === VALIDATE_NO_PASSED) {\r\n            // 如果有未通过表单验证的子表，就自动跳转到它所在的tab\r\n            this.activeKey = e.index == null ? this.activeKey : (e.index + 1).toString()\r\n          } else {\r\n            console.error(e)\r\n          }\r\n        })\r\n      },\r\n      /** 整理成formData */\r\n      classifyIntoFormData(allValues) {\r\n        let orderMain = Object.assign(this.model, allValues.formValue)\r\n        //时间格式化\r\n        orderMain.orderDate = orderMain.orderDate ? orderMain.orderDate.format('YYYY-MM-DD HH:mm:ss') : null\r\n        return {\r\n          ...orderMain, // 展开\r\n          jeecgOrderCustomerList: allValues.tablesValue[0].values,\r\n          jeecgOrderTicketList: allValues.tablesValue[1].values\r\n        }\r\n      },\r\n      /** 发起新增或修改的请求 */\r\n      requestAddOrEdit(formData) {\r\n        let url = this.url.add, method = 'post'\r\n        if (this.model.id) {\r\n          url = this.url.edit\r\n          method = 'put'\r\n        }\r\n        this.confirmLoading = true\r\n        httpAction(url, formData, method).then((res) => {\r\n          if (res.success) {\r\n            this.$message.success(res.message)\r\n            this.$emit('ok')\r\n            this.close()\r\n          } else {\r\n            this.$message.warning(res.message)\r\n          }\r\n        }).finally(() => {\r\n          this.confirmLoading = false\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}