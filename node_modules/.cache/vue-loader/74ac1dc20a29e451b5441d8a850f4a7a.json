{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\jeecgbiz\\modal\\SelectUserListModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\jeecgbiz\\modal\\SelectUserListModal.vue","mtime":1615948816023},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0VXNlckxpc3R9IGZyb20gJ0AvYXBpL2FwaScKaW1wb3J0IHtKZWVjZ0xpc3RNaXhpbn0gZnJvbSAnQC9taXhpbnMvSmVlY2dMaXN0TWl4aW4nCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlbGVjdFVzZXJMaXN0TW9kYWwiLAogIG1peGluczogW0plZWNnTGlzdE1peGluXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICLmk43kvZwiLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgbW9kZWw6IHt9LAogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsCiAgICAgIHVybDogewogICAgICAgIGFkZDogIi9hY3QvbW9kZWwvY3JlYXRlIiwKICAgICAgICBsaXN0OiAiL3N5cy91c2VyL2xpc3QiCiAgICAgIH0sCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+eUqOaIt+i0puWPtycsCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICBkYXRhSW5kZXg6ICd1c2VybmFtZScsCiAgICAgICAgICBmaXhlZDogJ2xlZnQnLAogICAgICAgICAgd2lkdGg6IDIwMAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfnlKjmiLflp5PlkI0nLAogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgZGF0YUluZGV4OiAncmVhbG5hbWUnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmgKfliKsnLAogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgZGF0YUluZGV4OiAnc2V4X2RpY3RUZXh0JwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmiYvmnLrlj7fnoIEnLAogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgZGF0YUluZGV4OiAncGhvbmUnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+mCrueusScsCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICBkYXRhSW5kZXg6ICdlbWFpbCcKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn54q25oCBJywKICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgIGRhdGFJbmRleDogJ3N0YXR1c19kaWN0VGV4dCcKICAgICAgICB9CiAgICAgIF0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvL1N0ZXAuMiDliqDovb3nlKjmiLfmlbDmja4KICAgIGdldFVzZXJMaXN0KCkudGhlbigocmVzKSA9PiB7CiAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IHJlcy5yZXN1bHQucmVjb3JkczsKICAgICAgICB0aGlzLmlwYWdpbmF0aW9uLnRvdGFsID0gcmVzLnJlc3VsdC50b3RhbDsKICAgICAgfQogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIG9wZW4oKSB7CiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7CgogICAgICAvL1N0ZXAuMSDmuIXnqbrpgInkuK3nlKjmiLcKICAgICAgdGhpcy5zZWxlY3RlZFJvd0tleXMgPSBbXQogICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IFtdCiAgICB9LAogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZShpbmZvKSB7CiAgICAgIGxldCBmaWxlID0gaW5mby5maWxlOwogICAgICBpZiAoZmlsZS5yZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGZpbGUucmVzcG9uc2UubWVzc2FnZSk7CiAgICAgICAgdGhpcy4kZW1pdCgnb2snKTsKICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm4oZmlsZS5yZXNwb25zZS5tZXNzYWdlKTsKICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgfQoKICAgIH0sCiAgICBoYW5kbGVDYW5jZWwoKSB7CiAgICAgIHRoaXMuY2xvc2UoKQogICAgfSwKICAgIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdGhpcy4kZW1pdCgnb2snLCB0aGlzLnNlbGVjdGlvblJvd3MpOwogICAgICB0aGlzLmNsb3NlKCkKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["SelectUserListModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SelectUserListModal.vue","sourceRoot":"src/components/jeecgbiz/modal","sourcesContent":["<template>\r\n  <a-modal\r\n    title=\"用户列表\"\r\n    :width=\"1000\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"handleSubmit\"\r\n    @cancel=\"handleCancel\">\r\n\r\n    <a-table\r\n      ref=\"table\"\r\n      bordered\r\n      size=\"middle\"\r\n      rowKey=\"id\"\r\n      :columns=\"columns\"\r\n      :dataSource=\"dataSource\"\r\n      :pagination=\"ipagination\"\r\n      :loading=\"loading\"\r\n      :rowSelection=\"{selectedRowKeys: selectedRowKeys, onChange: onSelectChange}\"></a-table>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n  import {getUserList} from '@/api/api'\r\n  import {JeecgListMixin} from '@/mixins/JeecgListMixin'\r\n\r\n  export default {\r\n    name: \"SelectUserListModal\",\r\n    mixins: [JeecgListMixin],\r\n    data() {\r\n      return {\r\n        title: \"操作\",\r\n        visible: false,\r\n        model: {},\r\n        confirmLoading: false,\r\n        url: {\r\n          add: \"/act/model/create\",\r\n          list: \"/sys/user/list\"\r\n        },\r\n        columns: [\r\n          {\r\n            title: '用户账号',\r\n            align: \"center\",\r\n            dataIndex: 'username',\r\n            fixed: 'left',\r\n            width: 200\r\n          },\r\n          {\r\n            title: '用户姓名',\r\n            align: \"center\",\r\n            dataIndex: 'realname',\r\n          },\r\n          {\r\n            title: '性别',\r\n            align: \"center\",\r\n            dataIndex: 'sex_dictText'\r\n          },\r\n          {\r\n            title: '手机号码',\r\n            align: \"center\",\r\n            dataIndex: 'phone'\r\n          },\r\n          {\r\n            title: '邮箱',\r\n            align: \"center\",\r\n            dataIndex: 'email'\r\n          },\r\n          {\r\n            title: '状态',\r\n            align: \"center\",\r\n            dataIndex: 'status_dictText'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    created() {\r\n      //Step.2 加载用户数据\r\n      getUserList().then((res) => {\r\n        if (res.success) {\r\n          this.dataSource = res.result.records;\r\n          this.ipagination.total = res.result.total;\r\n        }\r\n      })\r\n    },\r\n    methods: {\r\n      open() {\r\n        this.visible = true;\r\n\r\n        //Step.1 清空选中用户\r\n        this.selectedRowKeys = []\r\n        this.selectedRows = []\r\n      },\r\n      close() {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n      },\r\n      handleChange(info) {\r\n        let file = info.file;\r\n        if (file.response.success) {\r\n          this.$message.success(file.response.message);\r\n          this.$emit('ok');\r\n          this.close()\r\n        } else {\r\n          this.$message.warn(file.response.message);\r\n          this.close()\r\n        }\r\n\r\n      },\r\n      handleCancel() {\r\n        this.close()\r\n      },\r\n      handleSubmit() {\r\n        this.$emit('ok', this.selectionRows);\r\n        this.close()\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}