{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\system\\modules\\SelectUserListModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\system\\modules\\SelectUserListModal.vue","mtime":1615948821505},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZpbHRlck9iaiB9IGZyb20gJ0AvdXRpbHMvdXRpbCc7CgppbXBvcnQgeyBnZXRVc2VyTGlzdCB9IGZyb20gJ0AvYXBpL2FwaScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2VsZWN0VXNlckxpc3RNb2RhbCIsCiAgY29tcG9uZW50czogewogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZToi6YCJ5oup55So5oi3IiwKICAgICAgcXVlcnlQYXJhbToge30sCiAgICAgIGNvbHVtbnM6IFt7CiAgICAgICAgdGl0bGU6ICfnlKjmiLfotKblj7cnLAogICAgICAgIGFsaWduOiJjZW50ZXIiLAogICAgICAgIGRhdGFJbmRleDogJ3VzZXJuYW1lJywKICAgICAgICBmaXhlZDonbGVmdCcsCiAgICAgICAgd2lkdGg6MjAwCiAgICAgIH0sewogICAgICAgIHRpdGxlOiAn55So5oi35ZCN56ewJywKICAgICAgICBhbGlnbjoiY2VudGVyIiwKICAgICAgICBkYXRhSW5kZXg6ICdyZWFsbmFtZScsCiAgICAgIH0sewogICAgICAgIHRpdGxlOiAn5oCn5YirJywKICAgICAgICBhbGlnbjoiY2VudGVyIiwKICAgICAgICBkYXRhSW5kZXg6ICdzZXgnLAogICAgICAgIGN1c3RvbVJlbmRlcjpmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgaWYodGV4dD09MSl7CiAgICAgICAgICAgIHJldHVybiAi55S3IjsKICAgICAgICAgIH1lbHNlIGlmKHRleHQ9PTIpewogICAgICAgICAgICByZXR1cm4gIuWlsyI7CiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LHsKICAgICAgICB0aXRsZTogJ+aJi+acuuWPt+eggScsCiAgICAgICAgYWxpZ246ImNlbnRlciIsCiAgICAgICAgZGF0YUluZGV4OiAncGhvbmUnCiAgICAgIH0sewogICAgICAgIHRpdGxlOiAn6YKu566xJywKICAgICAgICBhbGlnbjoiY2VudGVyIiwKICAgICAgICBkYXRhSW5kZXg6ICdlbWFpbCcKICAgICAgfSx7CiAgICAgICAgdGl0bGU6ICfnirbmgIEnLAogICAgICAgIGFsaWduOiJjZW50ZXIiLAogICAgICAgIGRhdGFJbmRleDogJ3N0YXR1cycsCiAgICAgICAgY3VzdG9tUmVuZGVyOmZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICBpZih0ZXh0PT0xKXsKICAgICAgICAgICAgcmV0dXJuICLmraPluLgiOwogICAgICAgICAgfWVsc2UgaWYodGV4dD09Mil7CiAgICAgICAgICAgIHJldHVybiAi5Ya757uTIjsKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH1dLAogICAgICBkYXRhU291cmNlOltdLAogICAgICBpcGFnaW5hdGlvbjp7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBwYWdlU2l6ZTogNSwKICAgICAgICBwYWdlU2l6ZU9wdGlvbnM6IFsnNScsICcxMCcsICcyMCddLAogICAgICAgIHNob3dUb3RhbDogKHRvdGFsLCByYW5nZSkgPT4gewogICAgICAgICAgcmV0dXJuIHJhbmdlWzBdICsgIi0iICsgcmFuZ2VbMV0gKyAiIOWFsSIgKyB0b3RhbCArICLmnaEiCiAgICAgICAgfSwKICAgICAgICBzaG93UXVpY2tKdW1wZXI6IHRydWUsCiAgICAgICAgc2hvd1NpemVDaGFuZ2VyOiB0cnVlLAogICAgICAgIHRvdGFsOiAwCiAgICAgIH0sCiAgICAgIGlzb3J0ZXI6ewogICAgICAgIGNvbHVtbjogJ2NyZWF0ZVRpbWUnLAogICAgICAgIG9yZGVyOiAnZGVzYycsCiAgICAgIH0sCiAgICAgIHNlbGVjdGVkUm93S2V5czogW10sCiAgICAgIHNlbGVjdGlvblJvd3M6IFtdLAogICAgICB2aXNpYmxlOmZhbHNlLAogICAgICB0b2dnbGVTZWFyY2hTdGF0dXM6ZmFsc2UsCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkIChzZWxlY3RVc2VyLHVzZXJJZHMpIHsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0KHNlbGVjdFVzZXIsdXNlcklkcyk7CiAgICB9LAogICAgZWRpdChzZWxlY3RVc2VyLHVzZXJJZHMpewogICAgICAvL+aOp+WItuWPsOaKpemUmQogICAgICBpZih1c2VySWRzJiZ1c2VySWRzLmxlbmd0aD4wKXsKICAgICAgICB0aGlzLnNlbGVjdGVkUm93S2V5cyA9IHVzZXJJZHMuc3BsaXQoJywnKTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5zZWxlY3RlZFJvd0tleXMgPSBbXQogICAgICB9CiAgICAgIGlmKCFzZWxlY3RVc2VyKXsKICAgICAgICB0aGlzLnNlbGVjdGlvblJvd3M9W10KICAgICAgfWVsc2V7CiAgICAgICAgdmFyIHRoYXQ9dGhpczsKICAgICAgICB0aGF0LnNlbGVjdGlvblJvd3M9W107CiAgICAgICAgc2VsZWN0VXNlci5mb3JFYWNoKGZ1bmN0aW9uKHJlY29yZCxpbmRleCl7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZWNvcmQpCiAgICAgICAgICB0aGF0LnNlbGVjdGlvblJvd3MucHVzaCh7aWQ6IHRoYXQuc2VsZWN0ZWRSb3dLZXlzW2luZGV4XSxyZWFsbmFtZTpyZWNvcmQubGFiZWx9KQogICAgICAgIH0pCiAgICAgICAgLy8gdGhpcy5zZWxlY3Rpb25Sb3dzID0gc2VsZWN0VXNlcjsKICAgICAgfQogICAgfSwKICAgIGxvYWREYXRhIChhcmcpewogICAgICBpZihhcmc9PT0xKXsKICAgICAgICB0aGlzLmlwYWdpbmF0aW9uLmN1cnJlbnQgPSAxOwogICAgICB9CiAgICAgIGxldCBwYXJhbXMgPSB0aGlzLmdldFF1ZXJ5UGFyYW1zKCk7Ly/mn6Xor6LmnaHku7YKICAgICAgZ2V0VXNlckxpc3QocGFyYW1zKS50aGVuKChyZXMpPT57CiAgICAgICAgaWYocmVzLnN1Y2Nlc3MpewogICAgICAgICAgdGhpcy5kYXRhU291cmNlID0gcmVzLnJlc3VsdC5yZWNvcmRzOwogICAgICAgICAgdGhpcy5pcGFnaW5hdGlvbi50b3RhbCA9IHJlcy5yZXN1bHQudG90YWw7CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGdldFF1ZXJ5UGFyYW1zKCl7CiAgICAgIGxldCBwYXJhbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucXVlcnlQYXJhbSx0aGlzLmlzb3J0ZXIpOwogICAgICBwYXJhbS5maWVsZCA9IHRoaXMuZ2V0UXVlcnlGaWVsZCgpOwogICAgICAvLy0tdXBkYXRlLWJlZ2luLS0tLWF1dGhvcjpzY290dC0tLWRhdGU6MjAxOTA4MTgtLS0tLS1mb3I65paw5bu65YWs5ZGK5pe25oyH5a6a54m55a6a55So5oi357+76aG16ZSZ6K+vU2VsZWN0VXNlckxpc3RNb2RhbCAjMzc5LS0tLQogICAgICAvLyBwYXJhbS5jdXJyZW50ID0gdGhpcy5pcGFnaW5hdGlvbi5jdXJyZW50OwogICAgICAvLyBwYXJhbS5wYWdlU2l6ZSA9IHRoaXMuaXBhZ2luYXRpb24ucGFnZVNpemU7CiAgICAgIHBhcmFtLnBhZ2VObyA9IHRoaXMuaXBhZ2luYXRpb24uY3VycmVudDsKICAgICAgcGFyYW0ucGFnZVNpemUgPSB0aGlzLmlwYWdpbmF0aW9uLnBhZ2VTaXplOwogICAgICAvLy0tdXBkYXRlLWVuZC0tLS1hdXRob3I6c2NvdHQtLS1kYXRlOjIwMTkwODE4LS0tLS0tZm9yOuaWsOW7uuWFrOWRiuaXtuaMh+WumueJueWumueUqOaIt+e/u+mhtemUmeivr1NlbGVjdFVzZXJMaXN0TW9kYWwgIzM3OS0tLQogICAgICByZXR1cm4gZmlsdGVyT2JqKHBhcmFtKTsKICAgIH0sCiAgICBnZXRRdWVyeUZpZWxkKCl7CiAgICAgIGxldCBzdHIgPSAiaWQsIjsKICAgICAgZm9yKGxldCBhID0gMDthPHRoaXMuY29sdW1ucy5sZW5ndGg7YSsrKXsKICAgICAgICBzdHIrPSIsIit0aGlzLmNvbHVtbnNbYV0uZGF0YUluZGV4OwogICAgICB9CiAgICAgIHJldHVybiBzdHI7CiAgICB9LAogICAgLy8tLXVwZGF0ZS1iZWdpbi0tLS1hdXRob3I6a2FuZ3hpYW9saW4tLS1kYXRlOjIwMTkwOTIxLS0tLS0tZm9yOuezu+e7n+WPkemAgemAmuefpSDnlKjmiLflpJrpgInlpLHotKUgIzUxMy0tLS0KICAgIG9uU2VsZWN0Q2hhbmdlIChzZWxlY3RlZFJvd0tleXMpIHsKICAgICAgdGhpcy5zZWxlY3RlZFJvd0tleXMgPSBzZWxlY3RlZFJvd0tleXM7CiAgICB9LAogICAgb25TZWxlY3QocmVjb3JkLCBzZWxlY3RlZCl7CiAgICAgIGlmKHNlbGVjdGVkID09IHRydWUgKXsKICAgICAgICB0aGlzLnNlbGVjdGlvblJvd3MucHVzaChyZWNvcmQpOwogICAgICB9ZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3Rpb25Sb3dzLmZvckVhY2goZnVuY3Rpb24oaXRlbSxpbmRleCxhcnIpewogICAgICAgICAgaWYoaXRlbS5pZCA9PSByZWNvcmQuaWQpIHsKICAgICAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQogICAgICAvLy0tdXBkYXRlLWVuZC0tLS1hdXRob3I6a2FuZ3hpYW9saW4tLS1kYXRlOjIwMTkwOTIxLS0tLS0tZm9yOuezu+e7n+WPkemAgemAmuefpSDnlKjmiLflpJrpgInlpLHotKUgIzUxMy0tLS0KICAgIH0sCgogICAgc2VhcmNoUmVzZXQoKXsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBPYmplY3Qua2V5cyh0aGF0LnF1ZXJ5UGFyYW0pLmZvckVhY2goZnVuY3Rpb24oa2V5KXsKICAgICAgICB0aGF0LnF1ZXJ5UGFyYW1ba2V5XSA9ICcnOwogICAgICB9KTsKICAgICAgdGhhdC5sb2FkRGF0YSgxKTsKICAgIH0sCiAgICBoYW5kbGVUYWJsZUNoYW5nZShwYWdpbmF0aW9uLCBmaWx0ZXJzLCBzb3J0ZXIpewogICAgICAvL1RPRE8g562b6YCJCiAgICAgIGlmIChPYmplY3Qua2V5cyhzb3J0ZXIpLmxlbmd0aD4wKXsKICAgICAgICB0aGlzLmlzb3J0ZXIuY29sdW1uID0gc29ydGVyLmZpZWxkOwogICAgICAgIHRoaXMuaXNvcnRlci5vcmRlciA9ICJhc2NlbmQiPT1zb3J0ZXIub3JkZXI/ImFzYyI6ImRlc2MiCiAgICAgIH0KICAgICAgdGhpcy5pcGFnaW5hdGlvbiA9IHBhZ2luYXRpb247CiAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgIH0sCiAgICBoYW5kbGVDYW5jZWwgKCkgewogICAgICB0aGlzLnNlbGVjdGlvblJvd3MgPSBbXTsKICAgICAgdGhpcy5zZWxlY3RlZFJvd0tleXMgPSBbXTsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlT2sgKCkgewogICAgICB0aGlzLiRlbWl0KCJjaG9zZVVzZXIiLHRoaXMuc2VsZWN0aW9uUm93cyk7CiAgICAgIHRoaXMuaGFuZGxlQ2FuY2VsKCk7CiAgICB9LAogICAgc2VhcmNoQnlxdWVyeSgpewogICAgICB0aGlzLmxvYWREYXRhKDEpOwogICAgfSwKICAgIGhhbmRsZVRvZ2dsZVNlYXJjaCgpewogICAgICB0aGlzLnRvZ2dsZVNlYXJjaFN0YXR1cyA9ICF0aGlzLnRvZ2dsZVNlYXJjaFN0YXR1czsKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["SelectUserListModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SelectUserListModal.vue","sourceRoot":"src/views/system/modules","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"1200\"\r\n    :visible=\"visible\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n    cancelText=\"关闭\">\r\n\r\n    <div class=\"table-page-search-wrapper\">\r\n      <a-form layout=\"inline\">\r\n        <a-row :gutter=\"24\">\r\n\r\n          <a-col :span=\"6\">\r\n            <a-form-item label=\"账号\">\r\n              <a-input placeholder=\"请输入账号\" v-model=\"queryParam.username\"></a-input>\r\n            </a-form-item>\r\n          </a-col>\r\n\r\n          <a-col :span=\"6\">\r\n            <a-form-item label=\"性别\">\r\n              <a-select v-model=\"queryParam.sex\" placeholder=\"请选择性别\">\r\n                <a-select-option value=\"\">请选择性别查询</a-select-option>\r\n                <a-select-option value=\"1\">男性</a-select-option>\r\n                <a-select-option value=\"2\">女性</a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n          </a-col>\r\n\r\n\r\n          <template v-if=\"toggleSearchStatus\">\r\n            <a-col :span=\"6\">\r\n              <a-form-item label=\"邮箱\">\r\n                <a-input placeholder=\"请输入邮箱\" v-model=\"queryParam.email\"></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n\r\n            <a-col :span=\"6\">\r\n              <a-form-item label=\"手机号码\">\r\n                <a-input placeholder=\"请输入手机号码\" v-model=\"queryParam.phone\"></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n\r\n            <a-col :span=\"6\">\r\n              <a-form-item label=\"状态\">\r\n                <a-select v-model=\"queryParam.status\" placeholder=\"请选择状态\">\r\n                  <a-select-option value=\"\">请选择状态</a-select-option>\r\n                  <a-select-option value=\"1\">正常</a-select-option>\r\n                  <a-select-option value=\"2\">解冻</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n          </template>\r\n\r\n          <a-col :span=\"6\" >\r\n            <span style=\"float: left;overflow: hidden;\" class=\"table-page-search-submitButtons\">\r\n              <a-button type=\"primary\" @click=\"searchByquery\" icon=\"search\">查询</a-button>\r\n              <a-button type=\"primary\" @click=\"searchReset\" icon=\"reload\" style=\"margin-left: 8px\">重置</a-button>\r\n              <a @click=\"handleToggleSearch\" style=\"margin-left: 8px\">\r\n                {{ toggleSearchStatus ? '收起' : '展开' }}\r\n                <a-icon :type=\"toggleSearchStatus ? 'up' : 'down'\"/>\r\n              </a>\r\n            </span>\r\n          </a-col>\r\n\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n <!--    update-begin author:kangxiaolin   date:20190921   for:系统发送通知 用户多选失败 #513  -->\r\n    <a-table\r\n      ref=\"table\"\r\n      rowKey=\"id\"\r\n      :columns=\"columns\"\r\n      :dataSource=\"dataSource\"\r\n      :pagination=\"ipagination\"\r\n      :rowSelection=\"{selectedRowKeys: selectedRowKeys, onChange: onSelectChange,onSelect:onSelect}\"\r\n      @change=\"handleTableChange\"\r\n    >\r\n<!--     update-end   author:kangxiaolin  date:20190921     for:系统发送通知 用户多选失败 #513 -->\r\n    </a-table>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n  import { filterObj } from '@/utils/util';\r\n\r\n  import { getUserList } from '@/api/api'\r\n\r\n  export default {\r\n    name: \"SelectUserListModal\",\r\n    components: {\r\n    },\r\n    data () {\r\n      return {\r\n        title:\"选择用户\",\r\n        queryParam: {},\r\n        columns: [{\r\n          title: '用户账号',\r\n          align:\"center\",\r\n          dataIndex: 'username',\r\n          fixed:'left',\r\n          width:200\r\n        },{\r\n          title: '用户名称',\r\n          align:\"center\",\r\n          dataIndex: 'realname',\r\n        },{\r\n          title: '性别',\r\n          align:\"center\",\r\n          dataIndex: 'sex',\r\n          customRender:function (text) {\r\n            if(text==1){\r\n              return \"男\";\r\n            }else if(text==2){\r\n              return \"女\";\r\n            }else{\r\n              return text;\r\n            }\r\n          }\r\n        },{\r\n          title: '手机号码',\r\n          align:\"center\",\r\n          dataIndex: 'phone'\r\n        },{\r\n          title: '邮箱',\r\n          align:\"center\",\r\n          dataIndex: 'email'\r\n        },{\r\n          title: '状态',\r\n          align:\"center\",\r\n          dataIndex: 'status',\r\n          customRender:function (text) {\r\n            if(text==1){\r\n              return \"正常\";\r\n            }else if(text==2){\r\n              return \"冻结\";\r\n            }else{\r\n              return text;\r\n            }\r\n          }\r\n        }],\r\n        dataSource:[],\r\n        ipagination:{\r\n          current: 1,\r\n          pageSize: 5,\r\n          pageSizeOptions: ['5', '10', '20'],\r\n          showTotal: (total, range) => {\r\n            return range[0] + \"-\" + range[1] + \" 共\" + total + \"条\"\r\n          },\r\n          showQuickJumper: true,\r\n          showSizeChanger: true,\r\n          total: 0\r\n        },\r\n        isorter:{\r\n          column: 'createTime',\r\n          order: 'desc',\r\n        },\r\n        selectedRowKeys: [],\r\n        selectionRows: [],\r\n        visible:false,\r\n        toggleSearchStatus:false,\r\n      }\r\n    },\r\n    created() {\r\n      this.loadData();\r\n    },\r\n    methods: {\r\n      add (selectUser,userIds) {\r\n        this.visible = true;\r\n        this.edit(selectUser,userIds);\r\n      },\r\n      edit(selectUser,userIds){\r\n        //控制台报错\r\n        if(userIds&&userIds.length>0){\r\n          this.selectedRowKeys = userIds.split(',');\r\n        }else{\r\n          this.selectedRowKeys = []\r\n        }\r\n        if(!selectUser){\r\n          this.selectionRows=[]\r\n        }else{\r\n          var that=this;\r\n          that.selectionRows=[];\r\n          selectUser.forEach(function(record,index){\r\n            console.log(record)\r\n            that.selectionRows.push({id: that.selectedRowKeys[index],realname:record.label})\r\n          })\r\n          // this.selectionRows = selectUser;\r\n        }\r\n      },\r\n      loadData (arg){\r\n        if(arg===1){\r\n          this.ipagination.current = 1;\r\n        }\r\n        let params = this.getQueryParams();//查询条件\r\n        getUserList(params).then((res)=>{\r\n          if(res.success){\r\n            this.dataSource = res.result.records;\r\n            this.ipagination.total = res.result.total;\r\n          }\r\n        })\r\n      },\r\n      getQueryParams(){\r\n        let param = Object.assign({}, this.queryParam,this.isorter);\r\n        param.field = this.getQueryField();\r\n        //--update-begin----author:scott---date:20190818------for:新建公告时指定特定用户翻页错误SelectUserListModal #379----\r\n        // param.current = this.ipagination.current;\r\n        // param.pageSize = this.ipagination.pageSize;\r\n        param.pageNo = this.ipagination.current;\r\n        param.pageSize = this.ipagination.pageSize;\r\n        //--update-end----author:scott---date:20190818------for:新建公告时指定特定用户翻页错误SelectUserListModal #379---\r\n        return filterObj(param);\r\n      },\r\n      getQueryField(){\r\n        let str = \"id,\";\r\n        for(let a = 0;a<this.columns.length;a++){\r\n          str+=\",\"+this.columns[a].dataIndex;\r\n        }\r\n        return str;\r\n      },\r\n      //--update-begin----author:kangxiaolin---date:20190921------for:系统发送通知 用户多选失败 #513----\r\n      onSelectChange (selectedRowKeys) {\r\n        this.selectedRowKeys = selectedRowKeys;\r\n      },\r\n      onSelect(record, selected){\r\n        if(selected == true ){\r\n          this.selectionRows.push(record);\r\n        }else {\r\n          this.selectionRows.forEach(function(item,index,arr){\r\n            if(item.id == record.id) {\r\n              arr.splice(index, 1);\r\n            }\r\n          })\r\n        }\r\n        //--update-end----author:kangxiaolin---date:20190921------for:系统发送通知 用户多选失败 #513----\r\n      },\r\n\r\n      searchReset(){\r\n        let that = this;\r\n        Object.keys(that.queryParam).forEach(function(key){\r\n          that.queryParam[key] = '';\r\n        });\r\n        that.loadData(1);\r\n      },\r\n      handleTableChange(pagination, filters, sorter){\r\n        //TODO 筛选\r\n        if (Object.keys(sorter).length>0){\r\n          this.isorter.column = sorter.field;\r\n          this.isorter.order = \"ascend\"==sorter.order?\"asc\":\"desc\"\r\n        }\r\n        this.ipagination = pagination;\r\n        this.loadData();\r\n      },\r\n      handleCancel () {\r\n        this.selectionRows = [];\r\n        this.selectedRowKeys = [];\r\n        this.visible = false;\r\n      },\r\n      handleOk () {\r\n        this.$emit(\"choseUser\",this.selectionRows);\r\n        this.handleCancel();\r\n      },\r\n      searchByquery(){\r\n        this.loadData(1);\r\n      },\r\n      handleToggleSearch(){\r\n        this.toggleSearchStatus = !this.toggleSearchStatus;\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n  .ant-card-body .table-operator{\r\n    margin-bottom: 18px;\r\n  }\r\n\r\n  .ant-table-tbody .ant-table-row td{\r\n    padding-top:15px;\r\n    padding-bottom:15px;\r\n  }\r\n  .anty-row-operator button{margin: 0 5px}\r\n  .ant-btn-danger{background-color: #ffffff}\r\n\r\n  .ant-modal-cust-warp{height: 100%}\r\n  .ant-modal-cust-warp .ant-modal-body{height:calc(100% - 110px) !important;overflow-y: auto}\r\n  .ant-modal-cust-warp .ant-modal-content{height:90% !important;overflow-y: hidden}\r\n\r\n  .anty-img-wrap{height:25px;position: relative;}\r\n  .anty-img-wrap > img{max-height:100%;}\r\n</style>"]}]}