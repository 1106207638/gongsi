{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\jeecg\\modules\\JEditableTable\\ThreeLinkage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\jeecg\\modules\\JEditableTable\\ThreeLinkage.vue","mtime":1615948819016},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEZvcm1UeXBlcyB9IGZyb20gJ0AvdXRpbHMvSkVkaXRhYmxlVGFibGVVdGlsJwppbXBvcnQgSkVkaXRhYmxlVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2plZWNnL0pFZGl0YWJsZVRhYmxlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUaHJlZUxpbmthZ2UnLAogIGNvbXBvbmVudHM6IHsgSkVkaXRhYmxlVGFibGUgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uczogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn55yBL+ebtOi+luW4gi/oh6rmsrvljLonLAogICAgICAgICAga2V5OiAnczEnLAogICAgICAgICAgdHlwZTogRm9ybVR5cGVzLnNlbGVjdCwKICAgICAgICAgIHdpZHRoOiAnMjQwcHgnLAogICAgICAgICAgb3B0aW9uczogW10sCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+mAieaLqSR7dGl0bGV9JwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfluIInLAogICAgICAgICAga2V5OiAnczInLAogICAgICAgICAgdHlwZTogRm9ybVR5cGVzLnNlbGVjdCwKICAgICAgICAgIHdpZHRoOiAnMjQwcHgnLAogICAgICAgICAgb3B0aW9uczogW10sCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+mAieaLqSR7dGl0bGV9JwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfljr8v5Yy6JywKICAgICAgICAgIGtleTogJ3MzJywKICAgICAgICAgIHR5cGU6IEZvcm1UeXBlcy5zZWxlY3QsCiAgICAgICAgICB3aWR0aDogJzI0MHB4JywKICAgICAgICAgIG9wdGlvbnM6IFtdLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6kke3RpdGxlfScKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGRhdGFTb3VyY2U6IFtdLAoKICAgICAgbW9ja0RhdGE6IFsKICAgICAgICB7IGxhYmVsOiAn5YyX5Lqs5biCJywgdmFsdWU6ICcxMTAwMDAnLCBwYXJlbnQ6IG51bGwgfSwKICAgICAgICB7IGxhYmVsOiAn5aSp5rSl5biCJywgdmFsdWU6ICcxMjAwMDAnLCBwYXJlbnQ6IG51bGwgfSwKICAgICAgICB7IGxhYmVsOiAn5rKz5YyX55yBJywgdmFsdWU6ICcxMzAwMDAnLCBwYXJlbnQ6IG51bGwgfSwKICAgICAgICB7IGxhYmVsOiAn5LiK5rW35biCJywgdmFsdWU6ICczMTAwMDAnLCBwYXJlbnQ6IG51bGwgfSwKCiAgICAgICAgeyBsYWJlbDogJ+WMl+S6rOW4gicsIHZhbHVlOiAnMTEwMTAwJywgcGFyZW50OiAnMTEwMDAwJyB9LAogICAgICAgIHsgbGFiZWw6ICflpKnmtKXluILluIInLCB2YWx1ZTogJzEyMDEwMCcsIHBhcmVudDogJzEyMDAwMCcgfSwKICAgICAgICB7IGxhYmVsOiAn55+z5a625bqE5biCJywgdmFsdWU6ICcxMzAxMDAnLCBwYXJlbnQ6ICcxMzAwMDAnIH0sCiAgICAgICAgeyBsYWJlbDogJ+WUkOWxseW4gicsIHZhbHVlOiAnMTMwMjAwJywgcGFyZW50OiAnMTMwMDAwJyB9LAogICAgICAgIHsgbGFiZWw6ICfnp6bnmoflspvluIInLCB2YWx1ZTogJzEzMDMwMCcsIHBhcmVudDogJzEzMDAwMCcgfSwKICAgICAgICB7IGxhYmVsOiAn5LiK5rW35biCJywgdmFsdWU6ICczMTAxMDAnLCBwYXJlbnQ6ICczMTAwMDAnIH0sCgogICAgICAgIHsgbGFiZWw6ICfkuJzln47ljLonLCB2YWx1ZTogJzExMDEwMScsIHBhcmVudDogJzExMDEwMCcgfSwKICAgICAgICB7IGxhYmVsOiAn6KW/5Z+O5Yy6JywgdmFsdWU6ICcxMTAxMDInLCBwYXJlbnQ6ICcxMTAxMDAnIH0sCiAgICAgICAgeyBsYWJlbDogJ+acnemYs+WMuicsIHZhbHVlOiAnMTEwMTA1JywgcGFyZW50OiAnMTEwMTAwJyB9LAogICAgICAgIHsgbGFiZWw6ICflkozlubPljLonLCB2YWx1ZTogJzEyMDEwMScsIHBhcmVudDogJzEyMDAwMCcgfSwKICAgICAgICB7IGxhYmVsOiAn5rKz5Lic5Yy6JywgdmFsdWU6ICcxMjAxMDInLCBwYXJlbnQ6ICcxMjAwMDAnIH0sCiAgICAgICAgeyBsYWJlbDogJ+ays+ilv+WMuicsIHZhbHVlOiAnMTIwMTAzJywgcGFyZW50OiAnMTIwMDAwJyB9LAogICAgICAgIHsgbGFiZWw6ICfpu4TmtabljLonLCB2YWx1ZTogJzMxMDEwMScsIHBhcmVudDogJzMxMDEwMCcgfSwKICAgICAgICB7IGxhYmVsOiAn5b6Q5rGH5Yy6JywgdmFsdWU6ICczMTAxMDQnLCBwYXJlbnQ6ICczMTAxMDAnIH0sCiAgICAgICAgeyBsYWJlbDogJ+mVv+WugeWMuicsIHZhbHVlOiAnMzEwMTA1JywgcGFyZW50OiAnMzEwMTAwJyB9LAogICAgICAgIHsgbGFiZWw6ICfplb/lronljLonLCB2YWx1ZTogJzEzMDEwMicsIHBhcmVudDogJzEzMDEwMCcgfSwKICAgICAgICB7IGxhYmVsOiAn5qGl6KW/5Yy6JywgdmFsdWU6ICcxMzAxMDQnLCBwYXJlbnQ6ICcxMzAxMDAnIH0sCiAgICAgICAgeyBsYWJlbDogJ+aWsOWNjuWMuicsIHZhbHVlOiAnMTMwMTA1JywgcGFyZW50OiAnMTMwMTAwJyB9LAogICAgICAgIHsgbGFiZWw6ICfot6/ljZfljLonLCB2YWx1ZTogJzEzMDIwMicsIHBhcmVudDogJzEzMDIwMCcgfSwKICAgICAgICB7IGxhYmVsOiAn6Lev5YyX5Yy6JywgdmFsdWU6ICcxMzAyMDMnLCBwYXJlbnQ6ICcxMzAyMDAnIH0sCiAgICAgICAgeyBsYWJlbDogJ+WPpOWGtuWMuicsIHZhbHVlOiAnMTMwMjA0JywgcGFyZW50OiAnMTMwMjAwJyB9LAogICAgICAgIHsgbGFiZWw6ICfmtbfmuK/ljLonLCB2YWx1ZTogJzEzMDMwMicsIHBhcmVudDogJzEzMDMwMCcgfSwKICAgICAgICB7IGxhYmVsOiAn5bGx5rW35YWz5Yy6JywgdmFsdWU6ICcxMzAzMDMnLCBwYXJlbnQ6ICcxMzAzMDAnIH0sCiAgICAgICAgeyBsYWJlbDogJ+WMl+aItOays+WMuicsIHZhbHVlOiAnMTMwMzA0JywgcGFyZW50OiAnMTMwMzAwJyB9LAogICAgICBdCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8g5Yid5aeL5YyW5pWw5o2uCiAgICB0aGlzLmNvbHVtbnNbMF0ub3B0aW9ucyA9IHRoaXMucmVxdWVzdChudWxsKQogIH0sCiAgbWV0aG9kczogewoKICAgIHJlcXVlc3QocGFyZW50SWQpIHsKICAgICAgcmV0dXJuIHRoaXMubW9ja0RhdGEuZmlsdGVyKGkgPT4gaS5wYXJlbnQgPT09IHBhcmVudElkKQogICAgfSwKCiAgICAvKiog5b2T6YCJ6aG56KKr5pS55Y+Y5pe277yM6IGU5Yqo5YW25LuW57uE5Lu2ICovCiAgICBoYW5kbGVWYWx1ZUNoYW5nZShldmVudCkgewogICAgICBjb25zdCB7IHR5cGUsIHJvdywgY29sdW1uLCB2YWx1ZSwgdGFyZ2V0IH0gPSBldmVudAoKICAgICAgaWYgKHR5cGUgPT09IEZvcm1UeXBlcy5zZWxlY3QpIHsKCiAgICAgICAgLy8g56ys5LiA5YiXCiAgICAgICAgaWYgKGNvbHVtbi5rZXkgPT09ICdzMScpIHsKICAgICAgICAgIC8vIOiuvue9ruesrOS6jOWIl+eahCBvcHRpb25zCiAgICAgICAgICB0aGlzLmNvbHVtbnNbMV0ub3B0aW9ucyA9IHRoaXMucmVxdWVzdCh2YWx1ZSkKICAgICAgICAgIC8vIOa4heepuuWQjuS4pOWIl+eahOaVsOaNrgogICAgICAgICAgdGFyZ2V0LnNldFZhbHVlcyhbewogICAgICAgICAgICByb3dLZXk6IHJvdy5pZCwKICAgICAgICAgICAgdmFsdWVzOiB7IHMyOiAnJywgczM6ICcnIH0KICAgICAgICAgIH1dKQogICAgICAgICAgdGhpcy5jb2x1bW5zWzJdLm9wdGlvbnMgPSBbXQogICAgICAgIH0gZWxzZQogICAgICAgIC8vIOesrOS6jOWIlwogICAgICAgIGlmIChjb2x1bW4ua2V5ID09PSAnczInKSB7CiAgICAgICAgICB0aGlzLmNvbHVtbnNbMl0ub3B0aW9ucyA9IHRoaXMucmVxdWVzdCh2YWx1ZSkKICAgICAgICAgIHRhcmdldC5zZXRWYWx1ZXMoW3sKICAgICAgICAgICAgcm93S2V5OiByb3cuaWQsCiAgICAgICAgICAgIHZhbHVlczogeyBzMzogJycgfQogICAgICAgICAgfV0pCiAgICAgICAgfQogICAgICB9CgogICAgfQoKICB9Cn0K"},{"version":3,"sources":["ThreeLinkage.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"ThreeLinkage.vue","sourceRoot":"src/views/jeecg/modules/JEditableTable","sourcesContent":["<template>\r\n  <j-editable-table\r\n    :columns=\"columns\"\r\n    :dataSource=\"dataSource\"\r\n    :rowNumber=\"true\"\r\n    :actionButton=\"true\"\r\n    :rowSelection=\"true\"\r\n    :maxHeight=\"400\"\r\n    @valueChange=\"handleValueChange\"\r\n  />\r\n</template>\r\n\r\n<script>\r\n  import { FormTypes } from '@/utils/JEditableTableUtil'\r\n  import JEditableTable from '@/components/jeecg/JEditableTable'\r\n\r\n  export default {\r\n    name: 'ThreeLinkage',\r\n    components: { JEditableTable },\r\n    data() {\r\n      return {\r\n        columns: [\r\n          {\r\n            title: '省/直辖市/自治区',\r\n            key: 's1',\r\n            type: FormTypes.select,\r\n            width: '240px',\r\n            options: [],\r\n            placeholder: '请选择${title}'\r\n          },\r\n          {\r\n            title: '市',\r\n            key: 's2',\r\n            type: FormTypes.select,\r\n            width: '240px',\r\n            options: [],\r\n            placeholder: '请选择${title}'\r\n          },\r\n          {\r\n            title: '县/区',\r\n            key: 's3',\r\n            type: FormTypes.select,\r\n            width: '240px',\r\n            options: [],\r\n            placeholder: '请选择${title}'\r\n          }\r\n        ],\r\n        dataSource: [],\r\n\r\n        mockData: [\r\n          { label: '北京市', value: '110000', parent: null },\r\n          { label: '天津市', value: '120000', parent: null },\r\n          { label: '河北省', value: '130000', parent: null },\r\n          { label: '上海市', value: '310000', parent: null },\r\n\r\n          { label: '北京市', value: '110100', parent: '110000' },\r\n          { label: '天津市市', value: '120100', parent: '120000' },\r\n          { label: '石家庄市', value: '130100', parent: '130000' },\r\n          { label: '唐山市', value: '130200', parent: '130000' },\r\n          { label: '秦皇岛市', value: '130300', parent: '130000' },\r\n          { label: '上海市', value: '310100', parent: '310000' },\r\n\r\n          { label: '东城区', value: '110101', parent: '110100' },\r\n          { label: '西城区', value: '110102', parent: '110100' },\r\n          { label: '朝阳区', value: '110105', parent: '110100' },\r\n          { label: '和平区', value: '120101', parent: '120000' },\r\n          { label: '河东区', value: '120102', parent: '120000' },\r\n          { label: '河西区', value: '120103', parent: '120000' },\r\n          { label: '黄浦区', value: '310101', parent: '310100' },\r\n          { label: '徐汇区', value: '310104', parent: '310100' },\r\n          { label: '长宁区', value: '310105', parent: '310100' },\r\n          { label: '长安区', value: '130102', parent: '130100' },\r\n          { label: '桥西区', value: '130104', parent: '130100' },\r\n          { label: '新华区', value: '130105', parent: '130100' },\r\n          { label: '路南区', value: '130202', parent: '130200' },\r\n          { label: '路北区', value: '130203', parent: '130200' },\r\n          { label: '古冶区', value: '130204', parent: '130200' },\r\n          { label: '海港区', value: '130302', parent: '130300' },\r\n          { label: '山海关区', value: '130303', parent: '130300' },\r\n          { label: '北戴河区', value: '130304', parent: '130300' },\r\n        ]\r\n      }\r\n    },\r\n    mounted() {\r\n      // 初始化数据\r\n      this.columns[0].options = this.request(null)\r\n    },\r\n    methods: {\r\n\r\n      request(parentId) {\r\n        return this.mockData.filter(i => i.parent === parentId)\r\n      },\r\n\r\n      /** 当选项被改变时，联动其他组件 */\r\n      handleValueChange(event) {\r\n        const { type, row, column, value, target } = event\r\n\r\n        if (type === FormTypes.select) {\r\n\r\n          // 第一列\r\n          if (column.key === 's1') {\r\n            // 设置第二列的 options\r\n            this.columns[1].options = this.request(value)\r\n            // 清空后两列的数据\r\n            target.setValues([{\r\n              rowKey: row.id,\r\n              values: { s2: '', s3: '' }\r\n            }])\r\n            this.columns[2].options = []\r\n          } else\r\n          // 第二列\r\n          if (column.key === 's2') {\r\n            this.columns[2].options = this.request(value)\r\n            target.setValues([{\r\n              rowKey: row.id,\r\n              values: { s3: '' }\r\n            }])\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}