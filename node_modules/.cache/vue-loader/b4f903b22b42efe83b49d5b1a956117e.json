{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\jeecg\\JCodeEditor2.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\vue\\src\\components\\jeecg\\JCodeEditor2.vue","mtime":1615948815723},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1615952641773},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1615952643260},{"path":"D:\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1615952643158},{"path":"D:\\vue\\node_modules\\less-loader\\dist\\cjs.js","mtime":1615952670554},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29kZS1lZGl0b3ItY3VzdHsKICBmbGV4LWdyb3c6MTsKICBkaXNwbGF5OmZsZXg7CiAgcG9zaXRpb246cmVsYXRpdmU7CiAgaGVpZ2h0OjEwMCU7CiAgLkNvZGVNaXJyb3J7CiAgICBmbGV4LWdyb3c6MTsKICAgIHotaW5kZXg6MTsKICAgIC5Db2RlTWlycm9yLWNvZGV7CiAgICAgIGxpbmUtaGVpZ2h0OjE5cHg7CiAgICB9CgogIH0KICAuY29kZS1tb2RlLXNlbGVjdHsKICAgIHBvc2l0aW9uOmFic29sdXRlOwogICAgei1pbmRleDoyOwogICAgcmlnaHQ6MTBweDsKICAgIHRvcDoxMHB4OwogICAgbWF4LXdpZHRoOjEzMHB4OwogIH0KICAuQ29kZU1pcnJvcnsKICAgIGhlaWdodDogYXV0bzsKICAgIG1pbi1oZWlnaHQ6MTAwJTsKICB9CiAgLm51bGwtdGlwewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA0cHg7CiAgICBsZWZ0OiAzNnB4OwogICAgei1pbmRleDogMTA7CiAgICBjb2xvcjogI2ZmZmZmZmM5OwogICAgbGluZS1oZWlnaHQ6IGluaXRpYWw7CiAgfQogIC5udWxsLXRpcC1oaWRkZW57CiAgICBkaXNwbGF5OiBub25lOwogIH0KfQoKLyog5YWo5bGP5qC35byPICovCi5mdWxsLXNjcmVlbi1wYXJlbnQgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKCiAgLmZ1bGwtc2NyZWVuLWljb24gewogICAgb3BhY2l0eTogMDsKICAgIGNvbG9yOiBibGFjazsKICAgIHdpZHRoOiAyMHB4OwogICAgaGVpZ2h0OiAyMHB4OwogICAgbGluZS1oZWlnaHQ6IDI0cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMnB4OwogICAgcmlnaHQ6IDJweDsKICAgIHotaW5kZXg6IDk7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7CiAgfQoKICAmOmhvdmVyIHsKICAgIC5mdWxsLXNjcmVlbi1pY29uIHsKICAgICAgb3BhY2l0eTogMTsKCiAgICAgICY6aG92ZXIgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44OCk7CiAgICAgIH0KICAgIH0KICB9CgogICYuZnVsbC1zY3JlZW4gewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAxMHB4OwogICAgbGVmdDogMTBweDsKICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTsKICAgIGhlaWdodDogY2FsYygxMDAlIC0gMjBweCk7CiAgICBwYWRkaW5nOiAxMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsKCiAgICAuZnVsbC1zY3JlZW4taWNvbiB7CiAgICAgIHRvcDogMTJweDsKICAgICAgcmlnaHQ6IDEycHg7CiAgICB9CgogICAgLmZ1bGwtc2NyZWVuLWNoaWxkIHsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICBtYXgtaGVpZ2h0OiAxMDAlOwogICAgICBtaW4taGVpZ2h0OiAxMDAlOwogICAgfQogIH0KCiAgLmZ1bGwtc2NyZWVuLWNoaWxkIHsKICAgIGhlaWdodDogMTAwJTsKICB9CgogICYuYXV0by1oZWlnaHQgewogICAgLmZ1bGwtc2NyZWVuLWNoaWxkIHsKICAgICAgbWluLWhlaWdodDogMTIwcHg7CiAgICAgIG1heC1oZWlnaHQ6IDMyMHB4OwogICAgICBoZWlnaHQ6IHVuc2V0OwogICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgfQoKICAgICYuZnVsbC1zY3JlZW4gLmZ1bGwtc2NyZWVuLWNoaWxkIHsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICBtYXgtaGVpZ2h0OiAxMDAlOwogICAgICBtaW4taGVpZ2h0OiAxMDAlOwogICAgfQogIH0KCn0KCi5Db2RlTWlycm9yLWN1cnNvcnsKICBoZWlnaHQ6MTguNHB4ICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["JCodeEditor2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA","file":"JCodeEditor2.vue","sourceRoot":"src/components/jeecg","sourcesContent":["<template>\r\n  <div v-bind=\"fullScreenParentProps\">\r\n    <a-icon v-if=\"fullScreen\" class=\"full-screen-icon\" :type=\"iconType\" @click=\"()=>fullCoder=!fullCoder\"/>\r\n\r\n    <div class=\"code-editor-cust full-screen-child\">\r\n      <a-textarea auto-size v-model=\"textareaValue\" :placeholder=\"placeholderShow\" @change=\"handleChange\" :style=\"{'max-height': maxHeight+'px','min-height': minHeight+'px'}\"></a-textarea>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    name: 'JCodeEditor',\r\n    props: {\r\n      value: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      placeholder: {\r\n        type: String,\r\n        default: null\r\n      },\r\n      // 是否显示全屏按钮\r\n      fullScreen: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      // 全屏以后的z-index\r\n      zIndex: {\r\n        type: [Number, String],\r\n        default: 999\r\n      },\r\n      // 是否自适应高度，可以传String或Boolean\r\n      // 传 String 类型只能写\"!ie\" ，\r\n      // 填写这个字符串，代表其他浏览器自适应高度\r\n      // 唯独IE下不自适应高度，因为IE下不支持min、max-height样式\r\n      // 如果填写的不是\"!ie\"就视为true\r\n      autoHeight: {\r\n        type: [String, Boolean],\r\n        default: true\r\n      },\r\n      // 不自适应高度的情况下生效的固定高度\r\n      height: {\r\n        type: [String, Number],\r\n        default: '240px'\r\n      },\r\n      language: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      minHeight:{\r\n        type:Number,\r\n        default: 100,\r\n        required:false\r\n      },\r\n      maxHeight:{\r\n        type:Number,\r\n        default: 320,\r\n        required:false\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        textareaValue: '',\r\n        // 内部真实的内容\r\n        code: '',\r\n        iconType: 'fullscreen',\r\n        hasCode:false,\r\n        // 默认的语法类型\r\n        mode: 'javascript',\r\n        // 编辑器实例\r\n        coder: null,\r\n        // 默认配置\r\n        options: {\r\n          // 缩进格式\r\n          tabSize: 2,\r\n          // 主题，对应主题库 JS 需要提前引入\r\n          theme: 'panda-syntax',\r\n          line: true,\r\n          // extraKeys: {'Ctrl': 'autocomplete'},//自定义快捷键\r\n          hintOptions: {\r\n            tables: {\r\n              users: ['name', 'score', 'birthDate'],\r\n              countries: ['name', 'population', 'size']\r\n            }\r\n          },\r\n        },\r\n\r\n        // code 编辑器 是否全屏\r\n        fullCoder: false\r\n      }\r\n    },\r\n    watch: {\r\n      fullCoder:{\r\n        handler(value) {\r\n          if(value){\r\n            this.iconType=\"fullscreen-exit\"\r\n          }else{\r\n            this.iconType=\"fullscreen\"\r\n          }\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      placeholderShow() {\r\n        if (this.placeholder == null) {\r\n          return `请在此输入代码`\r\n        } else {\r\n          return this.placeholder\r\n        }\r\n      },\r\n      isAutoHeight() {\r\n        let {autoHeight} = this\r\n        if (typeof autoHeight === 'string' && autoHeight.toLowerCase().trim() === '!ie') {\r\n          autoHeight = !(isIE() || isIE11())\r\n        } else {\r\n          autoHeight = true\r\n        }\r\n        return autoHeight\r\n      },\r\n      fullScreenParentProps() {\r\n        let props = {\r\n          class: {\r\n            'full-screen-parent': true,\r\n            'full-screen': this.fullCoder,\r\n            'auto-height': this.isAutoHeight\r\n          },\r\n          style: {}\r\n        }\r\n        if (this.fullCoder) {\r\n          props.style['z-index'] = this.zIndex\r\n        }\r\n        if (!this.isAutoHeight) {\r\n          props.style['height'] = (typeof this.height === 'number' ? this.height + 'px' : this.height)\r\n        }\r\n        return props\r\n      }\r\n    },\r\n    mounted () {\r\n      // 初始化\r\n      this._initialize()\r\n    },\r\n    methods: {\r\n      // 初始化\r\n      _initialize () {\r\n        this.setCodeContent(this.value)\r\n      },\r\n      handleChange(e){\r\n        this.$emit('input', e.target.value)\r\n      },\r\n      getCodeContent(){\r\n        return this.value\r\n      },\r\n      setCodeContent(val){\r\n        setTimeout(()=>{\r\n          if(!val){\r\n            this.textareaValue = ''\r\n          }else{\r\n            this.textareaValue = val\r\n          }\r\n        },300)\r\n      },\r\n      nullTipClick(){\r\n        this.coder.focus()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .code-editor-cust{\r\n    flex-grow:1;\r\n    display:flex;\r\n    position:relative;\r\n    height:100%;\r\n    .CodeMirror{\r\n      flex-grow:1;\r\n      z-index:1;\r\n      .CodeMirror-code{\r\n        line-height:19px;\r\n      }\r\n\r\n    }\r\n    .code-mode-select{\r\n      position:absolute;\r\n      z-index:2;\r\n      right:10px;\r\n      top:10px;\r\n      max-width:130px;\r\n    }\r\n    .CodeMirror{\r\n      height: auto;\r\n      min-height:100%;\r\n    }\r\n    .null-tip{\r\n      position: absolute;\r\n      top: 4px;\r\n      left: 36px;\r\n      z-index: 10;\r\n      color: #ffffffc9;\r\n      line-height: initial;\r\n    }\r\n    .null-tip-hidden{\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  /* 全屏样式 */\r\n  .full-screen-parent {\r\n    position: relative;\r\n\r\n    .full-screen-icon {\r\n      opacity: 0;\r\n      color: black;\r\n      width: 20px;\r\n      height: 20px;\r\n      line-height: 24px;\r\n      background-color: white;\r\n      position: absolute;\r\n      top: 2px;\r\n      right: 2px;\r\n      z-index: 9;\r\n      cursor: pointer;\r\n      transition: opacity 0.3s;\r\n    }\r\n\r\n    &:hover {\r\n      .full-screen-icon {\r\n        opacity: 1;\r\n\r\n        &:hover {\r\n          background-color: rgba(255, 255, 255, 0.88);\r\n        }\r\n      }\r\n    }\r\n\r\n    &.full-screen {\r\n      position: fixed;\r\n      top: 10px;\r\n      left: 10px;\r\n      width: calc(100% - 20px);\r\n      height: calc(100% - 20px);\r\n      padding: 10px;\r\n      background-color: #f5f5f5;\r\n\r\n      .full-screen-icon {\r\n        top: 12px;\r\n        right: 12px;\r\n      }\r\n\r\n      .full-screen-child {\r\n        height: 100%;\r\n        max-height: 100%;\r\n        min-height: 100%;\r\n      }\r\n    }\r\n\r\n    .full-screen-child {\r\n      height: 100%;\r\n    }\r\n\r\n    &.auto-height {\r\n      .full-screen-child {\r\n        min-height: 120px;\r\n        max-height: 320px;\r\n        height: unset;\r\n        overflow: hidden;\r\n      }\r\n\r\n      &.full-screen .full-screen-child {\r\n        height: 100%;\r\n        max-height: 100%;\r\n        min-height: 100%;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  .CodeMirror-cursor{\r\n    height:18.4px !important;\r\n  }\r\n</style>"]}]}