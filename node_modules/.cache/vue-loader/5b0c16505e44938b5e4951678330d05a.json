{"remainingRequest":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\views\\online\\modules\\result.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\views\\online\\modules\\result.vue","mtime":1615948820510},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1615952610415},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615952641464},{"path":"D:\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1615952643260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2dldEFjdGlvbiwgaHR0cEFjdGlvbn0gZnJvbSAnQC9hcGkvbWFuYWdlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHdpZHRoOjEyMDAsDQogICAgICBNb2RhbFRleHQ6ICdDb250ZW50IG9mIHRoZSBtb2RhbCcsDQogICAgICB2aXNpYmxlOiBmYWxzZSwNCiAgICAgIGNvbmZpcm1Mb2FkaW5nOiBmYWxzZSwNCiAgICAgIGxpc3Q6W10sDQogICAgICB1cmw6ew0KICAgICAgICBkb3duOidodHRwOi8vMTkyLjE2OC4xLjEyMzo4MDgwL2plZWNnLWJvb3Qvb25saW5lL2NnZm9ybS9hcGkvZG93bkdlbmVyYXRlQ29kZScNCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2hvd01vZGFsKCkgew0KICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIGFkZChyZWNvcmQpIHsNCiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWUNCiAgICAgIHRoaXMubGlzdCA9IHJlY29yZA0KICAgIH0sDQogICAgaGFuZGxlT2soZSkgew0KICAgICAgdmFyIGh0dHB1cmwgPSB0aGlzLnVybC5kb3duKyc/ZmlsZUxpc3Q9Jyt0aGlzLmxpc3QudG9TdHJpbmcoKQ0KICAgICAgLy8gdmFyIGh0dHB1cmwgPSB0aGlzLnVybC5kb3duDQogICAgICAvLyB2YXIgb2JqID0gew0KICAgICAgLy8gICBmaWxlTGlzdDp0aGlzLmxpc3QudG9TdHJpbmcoKQ0KICAgICAgLy8gfQ0KICAgICAgdmFyIHhtbHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOw0KICAgICAgeG1scmVxLm9wZW4oJ2dldCcsIGh0dHB1cmwsIHRydWUpDQogICAgICB4bWxyZXEucmVzcG9uc2VUeXBlID0gJ2Jsb2InOw0KICAgICAgeG1scmVxLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7DQogICAgICB4bWxyZXEuc2V0UmVxdWVzdEhlYWRlcigiWC1BY2Nlc3MtVG9rZW4iLCBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvX19BY2Nlc3MtVG9rZW4nKSkudmFsdWUpOw0KICAgICAgeG1scmVxLnNlbmQoKQ0KDQogICAgICB4bWxyZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAvLyDkuLrkuobkv53or4Eg5pWw5o2uIOWujOaVtOi/lOWbnu+8jOaIkeS7rOS4gOiIrOS8muWIpOaWrSDkuKTkuKrlgLwNCiAgICAgICAgaWYgKHhtbHJlcS5yZWFkeVN0YXRlID09IDQgJiYgeG1scmVxLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgICB4bWxyZXEub25sb2FkID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGRhdGEgPSB4bWxyZXEucmVzcG9uc2U7DQogICAgICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSk7DQogICAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsNCiAgICAgICAgICAgIHZhciBibG9iVXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7DQogICAgICAgICAgICBhLmRvd25sb2FkID0gJ+S7o+eggeeUn+aIkC56aXAnDQogICAgICAgICAgICBhLmhyZWYgPSBibG9iVXJsOw0KICAgICAgICAgICAgYS5jbGljaygpOw0KICAgICAgICAgIH07DQogICAgICAgIH0gZWxzZSBpZiAoeG1scmVxLnN0YXR1cyAhPSAyMDApIHsNCg0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIC8vIGdldEFjdGlvbihodHRwdXJsLCBvYmopLnRoZW4oKHJlcykgPT4gew0KICAgICAgLy8gICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAvLyAgICAgdmFyIGRhdGEgPSByZXMNCiAgICAgIC8vICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSk7DQogICAgICAvLyAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7DQogICAgICAvLyAgICAgdmFyIGJsb2JVcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsNCiAgICAgIC8vICAgICBhLmRvd25sb2FkID0gJ+eUn+aIkOS7o+eggS56aXAnDQogICAgICAvLyAgICAgYS5ocmVmID0gYmxvYlVybDsNCiAgICAgIC8vICAgICBhLmNsaWNrKCk7DQogICAgICAvLw0KICAgICAgLy8NCiAgICAgIC8vDQogICAgICAvLw0KICAgICAgLy8NCiAgICAgIC8vIH0pLmZpbmFsbHkoKCkgPT4gew0KICAgICAgLy8gfSkNCiAgICB9LA0KICAgIGhhbmRsZUNhbmNlbChlKSB7DQogICAgICBjb25zb2xlLmxvZygnQ2xpY2tlZCBjYW5jZWwgYnV0dG9uJyk7DQogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["result.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"result.vue","sourceRoot":"src/views/online/modules","sourcesContent":["<template>\r\n  <div>\r\n    <a-modal\r\n        title=\"代码生成\"\r\n        :visible=\"visible\"\r\n        :width=\"width\"\r\n        :confirm-loading=\"confirmLoading\"\r\n        @ok=\"handleOk\"\r\n        @cancel=\"handleCancel\"\r\n        okText=\"下载到本地\"\r\n    >\r\n      <div v-for=\"(item,index) in list\" :key=\"index\">\r\n        {{item}}\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {getAction, httpAction} from '@/api/manage'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      width:1200,\r\n      ModalText: 'Content of the modal',\r\n      visible: false,\r\n      confirmLoading: false,\r\n      list:[],\r\n      url:{\r\n        down:'http://192.168.1.123:8080/jeecg-boot/online/cgform/api/downGenerateCode'\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    showModal() {\r\n      this.visible = true;\r\n    },\r\n    add(record) {\r\n      this.visible = true\r\n      this.list = record\r\n    },\r\n    handleOk(e) {\r\n      var httpurl = this.url.down+'?fileList='+this.list.toString()\r\n      // var httpurl = this.url.down\r\n      // var obj = {\r\n      //   fileList:this.list.toString()\r\n      // }\r\n      var xmlreq = new XMLHttpRequest();\r\n      xmlreq.open('get', httpurl, true)\r\n      xmlreq.responseType = 'blob';\r\n      xmlreq.setRequestHeader('Content-Type', 'application/json');\r\n      xmlreq.setRequestHeader(\"X-Access-Token\", JSON.parse(window.localStorage.getItem('pro__Access-Token')).value);\r\n      xmlreq.send()\r\n\r\n      xmlreq.onreadystatechange = function () {\r\n        // 为了保证 数据 完整返回，我们一般会判断 两个值\r\n        if (xmlreq.readyState == 4 && xmlreq.status == 200) {\r\n          xmlreq.onload = function () {\r\n            var data = xmlreq.response;\r\n            var blob = new Blob([data]);\r\n            var a = document.createElement('a');\r\n            var blobUrl = window.URL.createObjectURL(blob);\r\n            a.download = '代码生成.zip'\r\n            a.href = blobUrl;\r\n            a.click();\r\n          };\r\n        } else if (xmlreq.status != 200) {\r\n\r\n        }\r\n      }\r\n\r\n      // getAction(httpurl, obj).then((res) => {\r\n      //   console.log(res)\r\n      //     var data = res\r\n      //     var blob = new Blob([data]);\r\n      //     var a = document.createElement('a');\r\n      //     var blobUrl = window.URL.createObjectURL(blob);\r\n      //     a.download = '生成代码.zip'\r\n      //     a.href = blobUrl;\r\n      //     a.click();\r\n      //\r\n      //\r\n      //\r\n      //\r\n      //\r\n      // }).finally(() => {\r\n      // })\r\n    },\r\n    handleCancel(e) {\r\n      console.log('Clicked cancel button');\r\n      this.visible = false;\r\n    },\r\n  },\r\n};\r\n</script>"]}]}